var home_html="<div id='Home'><div class='System' style='height:calc(100% - 30px);'><div id='Pq_System' style='height:calc(100% - 35px);width:100%;background:white;'><div class='SystemStatsPanelHeader' style='border-radius:5px 5px 0 0'> <img class='pq_vcenter' src='image/uptime.png' style='margin-left:10px;float:left'/><div class='pq_vcenter SystemStatsPanelHeaderText'> Uptime</div></div><div style='width:100%;height:4%;'><img class='pq_vcenter' src='image/bullet.png' style='width:10px;height:10px;margin-left:18px;float:left'/><div class='pq_vcenter' id='pq_mw_uptime' style='font-size:11px;margin-left:30px'>12 day(s) 13 hour(s) 23 min(s)</div></div><div style='margin-top:2%' class='SystemStatsPanelHeader'><img class='pq_vcenter' src='image/statistics.png' style='margin-left:10px;float:left'/><div class='pq_vcenter SystemStatsPanelHeaderText'> Session Statistics</div></div><div style='width:100%;height:4%;'><img class='pq_vcenter' src='image/bullet.png' style='width:10px;height:10px;margin-left:18px;float:left'/><div class='pq_vcenter panel-title' id='pq_mw_session_ps' style='font-size:11px;margin-left:30px;cursor:auto'>New Sessions Per-Second:0</div></div><div style='width:100%;height:4%;'><img class='pq_vcenter' src='image/bullet.png' style='width:10px;height:10px;margin-left:18px;float:left'/><div class='pq_vcenter panel-title' id='pq_mw_session_count' style='font-size:11px;margin-left:30px;cursor:auto'>Total Sessions:0</div></div> <div style='margin-top:4%' class='SystemStatsPanelHeader'><img class='pq_vcenter' src='image/alert.png' style='margin-left:10px;float:left'/><div class='pq_vcenter SystemStatsPanelHeaderText'> Events</div></div><div id='notific_area' style='width:100%;height:65%;overflow-y:auto;'></div> </div></div> <div class='Pq_LinkPlotHolder' style='height:calc(50% - 22px);position:relative;width:79%;'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' style='height:calc(10% + 10px)' >Downlink Bandwidth (10 s Average)</div> <div id='CHD_av_Plot' class='Pq_HPlot' style='width:97%;height:80%;padding:10px;position:absolute;z-index:100' ></div> </div> <div class='Pq_LinkPlotHolder' style='height:calc(50% - 22px);position:relative;width:79%;'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' style='height:calc(10% + 10px)'>Uplink Bandwidth (10 s Average)</div> <div id='CHU_av_Plot' class='Pq_HPlot' style='width:97%;height:80%;padding:10px;position:absolute;z-index:100' ></div> </div></div>";var user_sum_html="<div id='User_Summary'><div class='edit_panel' style='margin-top:10px;'><button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;margin-right:15px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <div class='Pq_LinkPlotHolder' style='height:calc(30% - 30px);margin-top:5px;position:relative;width:calc(100% - 40px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' style='height:calc(10% + 10px)' >Downlink Bandwidth (10 s Average)</div> <div id='CHD_av_Plot' class='Pq_HPlot' style='width:97%;height:75%;padding:10px;position:absolute;z-index:100' ></div> </div> <div class='Pq_LinkPlotHolder' style='height:calc(30% - 30px);position:relative;width:calc(100% - 40px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' style='height:calc(10% + 10px)'>Uplink Bandwidth (10 s Average)</div> <div id='CHU_av_Plot' class='Pq_HPlot' style='width:97%;height:75%;padding:10px;position:absolute;z-index:100' ></div> </div><div class='Pq_LinkPlotHolder' style='height:calc(40% - 25px);width:calc(100% - 220px);background:transparent;box-shadow:none;border:none;margin-top:10px;display:inline-block;'><div class='Pq_LinkPlotHolder' style='height:95%;width:calc(33% - 15px);margin-left:0px;display:inline-block;margin-top:10px;'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' style='padding-top:7px;height:calc(10% + 10px);'>Top Sources</div> <div id='pq_sum_src_hldr' style='float:left;padding:0;margin:0 auto;margin-top:5%;display:block;text-align:center;height:70%;width:60%;overflow:visible'></div><div style='width:125px;height:80%;float:left;overflow-y:auto;margin-left:-10px;margin-top:10px'><div id='pq_sum_src_legend' style='width:100%'> </div></div> </div><div class='Pq_LinkPlotHolder' style='height:95%;width:calc(33% - 15px);margin-left:11px;display:inline-block;margin-top:10px;'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' style='padding-top:7px;height:calc(10% + 10px);'>Top Destinations</div> <div id='pq_sum_dest_hldr' style='float:left;padding:0;margin:0 auto;margin-top:5%;display:block;text-align:center;height:70%;width:60%;overflow:visible'></div><div style='width:125px;height:80%;float:left;overflow-y:auto;margin-left:-10px;margin-top:10px'><div id='pq_sum_dest_legend' style='width:100%'> </div></div> </div><div class='Pq_LinkPlotHolder' style='height:95%;width:calc(33% - 15px);margin-left:11px;display:inline-block;margin-top:10px;'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' style='padding-top:7px;height:calc(10% + 10px);'>Top Applications</div> <div id='pq_sum_app_hldr' style='float:left;padding:0;margin:0 auto;margin-top:5%;display:block;text-align:center;height:70%;width:60%;overflow:visible'></div><div style='width:125px;height:80%;float:left;overflow-y:auto;margin-left:-10px;margin-top:10px'><div id='pq_sum_app_legend' style='width:100%'> </div></div> </div> </div> <div class='Pq_LinkPlotHolder' style='height:calc(40% - 25px);margin-left:0px;width:185px;background:transparent;box-shadow:none;border:none;margin-top:10px;display:inline-grid;'><div class='Pq_LinkPlotHolder' style='height:95%;width:177px;margin-left:0px;margin-top:10px;'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' style='padding-top:7px;height:calc(10% + 10px);'>Session Stats</div> <label id='pq_mw_session_count' style='font-family:Segoe UI REGULAR;font-size:15px;color:gray;display:flow-root;letter-spacing:5px;text-align:center;padding-top:50%;'><span style='color:#353434'></span><br><br>Total<br>Sessions</label></div></div> </div>";var dash_sdas_html="<div id='Dashboard_Sources'><div class='Pq_BWHolder'> <div class='edit_panel' style='margin-top:10px;'><button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;margin-right:15px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <div class='Pq_BWPlotHolder' style='height:calc(50% - 30px);width:calc(50% - 30px);display:inline-block;margin-top:10px;'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' id='dashPie_src_dlink_header' style='font-size:14px;height:2em'></div> <div class='PieChartContentHolder' style='height:calc(100% - 50px);width:calc(100% - 30px)'> <div id='dashPie_src_dlink' class='PieChartHolder' style='height:calc(100% - 40px);width:calc(50% - 20px);margin-top:30px'></div> <div class='PieChartDetailHolder' id='dashPie_pie_dlink_table_holder' style='height:calc(100% - 30px)'> <table id='dashPie_pie_dlink_table' class='display cell-border AppUserTablesFont' style='height:100%;overflow:scroll'></table> <a style='font-size:10px;text-decoration:none;color:gray'>* % on piechart is based only on top ten elements, while % on table is based on total downlink traffic</a></div> </div> </div> <div class='Pq_BWPlotHolder' style='height:calc(50% - 30px);width:calc(50% - 30px);display:inline-block;margin-left:20px;margin-top:10px;'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' id='dashPie_src_ulink_header' style='font-size:14px;height:2em'></div> <div class='PieChartContentHolder' style='height:calc(100% - 50px);width:calc(100% - 30px)'> <div id='dashPie_src_ulink' class='PieChartHolder' style='height:calc(100% - 40px);width:calc(50% - 20px);margin-top:30px'></div> <div class='PieChartDetailHolder' id='dashPie_pie_ulink_table_holder' style='height:calc(100% - 30px)'> <table id='dashPie_pie_ulink_table' class='display cell-border AppUserTablesFont' style='height:100%;overflow:scroll'></table> <a style='font-size:10px;text-decoration:none;color:gray'>* % on piechart is based only on top ten elements, while % on table is based on total uplink traffic</a></div> </div> </div> <div class='Pq_BWPlotHolder' style='height:calc(50% - 40px);'> <div class='BWPlotHolderHeader BWPlotHolderHeaderText' id='dashPie_bw_plot' style='font-size:14px;height:2em'></div> <div style='width:100%;height:28px;background-color:#222'><img src='image/up_ch.png' style='float:left;margin-right:15px;margin-left:10px' class='pq_bwevent_vcenter'/><a style='float:left;font-size:12px;color:#D5E4F3;text-decoration:none;' class='pq_bwevent_vcenter'></a><a id ='pq_dashPie_srcdesapp_ulink_pkts' style='font-size:11px;float:right;margin-right:100px;color:whitesmoke;text-decoration:none;' class='pq_bwevent_vcenter'>Packets Sent:0 </a><div style='width:15px;height:15px;background-color:#a8334d;float:right;margin-right:20px' class='pq_bwevent_vcenter'> </div> <a id ='pq_dashPie_srcdesapp_ulink_usage' style='font-size:11px;float:right;margin-right:100px;color:whitesmoke;text-decoration:none;' class='pq_bwevent_vcenter'>Data Sent:0 MB</a><div style='width:15px;height:15px;background-color:#a8334d;float:right;margin-right:20px' class='pq_bwevent_vcenter'> </div><a id ='pq_dashPie_srcdesapp_dlink_pkts' style='font-size:11px;float:right;margin-right:100px;color:whitesmoke;text-decoration:none;' class='pq_bwevent_vcenter'>Packets Received:0 </a><div style='width:15px;height:15px;background-color:green;float:right;margin-right:20px' class='pq_bwevent_vcenter'> </div> <a id ='pq_dashPie_srcdesapp_dlink_usage' style='font-size:11px;float:right;margin-right:100px;color:whitesmoke;text-decoration:none;' class='pq_bwevent_vcenter'>Data Received:0 MB</a><div style='width:15px;height:15px;background-color:green;float:right;margin-right:20px' class='pq_bwevent_vcenter'> </div> </div><div style='width:100%;height:calc(100% - 75px);background-color:whitesmoke;position:relative'><div id='plot_dashPie_srcdesapp_updown' style='width:calc(100%);height:100%;background-color:whitesmoke;position:absolute;z-index:100'></div></div> </div> </div> </div>";var link_util_app_html="<div id='Link_Utilization'> <div style='width:100%;height:40px;background-color:#222'><label class='drop_down_label_reporting' style='color:#fff;margin-left:20px'> Link :</label> <div class='btn-group' style='margin-left:2px;margin-top:2px'><button type='button' id='app_bwm_dlink_btn' onclick='btn_link_util_bw_load_now(1)' class='btn btn-primary btn-xs'>Downlink</button><button type='button' id='app_bwm_ulink_btn' onclick='btn_link_util_bw_load_now(2)' class='btn btn-primary btn-xs'>Uplink</button></div> </div><div class='edit_panel' style='margin-top:10px;'><button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;margin-right:15px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <div class='Pq_LinkPlotHolder' style='z-index:100;height:calc(100% - 110px);width:97%;position:absolute;margin-top:10px;'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' id='bwm_prof_plot_title' style='height:30px;font-size:16px;'></div> <div class='System' id='pq_dlink_util_plot_System' style='width:250px;height:calc(100% - 60px);'><div style='height:calc(100% - 10px);width:100%;'> <div style='border-radius:5px 5px 0 0;height:30px' class='SystemStatsPanelHeader' ><div class='pq_vcenter SystemStatsPanelHeaderText' style='font-size:14px;margin-left:calc(50% - 54px);'>Application List</div> </div><div class='util'><ul class='nav nav-tabs'><li class='active' ><a data-toggle='tab' id='app_bwm_profile_tab' onclick='load_app_bwm_prof_table()' href='#profile_content' style='padding:5px;font-size:12px;'>Profiles</a></li><li ><a id='app_bwm_all_tab' data-toggle='tab' onclick='load_app_bwm_all_table()' href='#app_util_dlink_all' style='padding:5px;font-size:12px;'>All Applications</a></li></ul></div><div class='tab-content' style='width:100%;height:calc(100% - 60px);overflow-y:auto'><div class='all tab-pane' id='app_util_dlink_all'><!-- <input id='stacked_mode_app_util_dlink' type='checkbox' value='1' style='margin-left:15px;margin-top:15px;'><label class='timeSelectorText' style='color:#000;margin-left:3px;' for='stacked_mode_app_util_dlink'>Stacked Mode</label> <input id='select_all_app_util' type='checkbox' value='2' style='margin-left:10px;margin-top:15px' ><label class='timeSelectorText' style='color:#000;margin-left:3px;' for='select_all_app_util' >Select All</label> --><table id='App_Dlink_Util_table' class='display cell-border AppUserTablesFont ' cellspacing='0' width='100%' ></table></div><div class='profile tab-pane active' id='profile_content' ><button id='addProfilebuttonId' class='createprofile setPrimary' onclick='init_app_bwm_profile_add()'>Create Profile</button><div id='addProfileId' style='display:none;margin-top:10px;'><input type='text' id='profile_input' style='padding-left:5px;margin-left:10px;font-size:11px;font-family:Helvetica;width:calc(100% - 20px)' name='profile' placeholder='Enter New Profile Name' required><br> <button type='button' onclick='add_app_bwm_profile()' style='background:#33469c;border-radius:5px;color:white;height:25px;margin-top:5px;font-size:11px;padding-top:3px;width:60px;margin-left:calc(50% - 63px);' >Create</button><button type='button' onclick='cancelProfile()' style='background:#d65959;border-radius:5px;color:white;height:25px;margin-top:5px;font-size:11px;padding-top:3px;width:60px;'>Cancel</button></div><div id='profile_button_grp' class='btn-group profile_button_grp' style='margin-top:10px;'><div id='sub_profile_button_grp' class='sub_profile_button_grp'></div></div></div></div> </div> </div> <div class='Pq_LinkPlotHolder' id='pq_dlink_util_plot' style='height:calc(100% - 60px);width:calc(100% - 300px);position:absolute;'> <div class='BWPlotHolderHeader BWPlotHolderHeaderText ' style='font-size:14px;height:30px'>Application Bandwidth (10 s Average)</div> <div id='AppBwm_Ntwrk_Dlink_Plot' class='Pq_HPlot' style='width:calc(100% - 5px);height:calc(100% - 45px);padding:5px;z-index:100;position:absolute;'></div><div id='AppBwm_Ntwrk_Ulink_Plot' class='Pq_HPlot' style='width:calc(100% - 5px);height:calc(100% - 45px);padding:5px;z-index:-10;position:absolute;'></div> </div> </div><div id='Add_App_BWM_Prof_Window' class='modal'><div class='modal-content' style=' height:400px;'><span id='CloseAddApplication' class='close'>×</span><label class='modalTitle' style=' margin-left:50px'> Add Applications to Profile </label><br><div id='applist'><input type='text' id='app_search_input' style='margin-top:10px;margin-bottom:10px;font-size:11px;padding:2px;' onkeyup='appsearch()' placeholder='Search Applications..' title='Type in a name'><ul id='app_list_ul' style='height:275px;list-style:none;margin-left:-40px;overflow-y:auto'></ul></div></div></div></div>";var ses_sessions_html="<div id='Session_Sessions'> <div class='pq_session_filter_bar' id='pq_ses_win_filter'></div><div class='edit_panel' style='padding-top:10px;'><button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;margin-right:15px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <div id='Session_Sessions_Holder' class='Pq_TableHolder' style='position:relative;height:calc(100% - 105px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>Session Table</div> <div id='session_table_holder' style='position:absolute;width:100%;padding:20px;height:calc(100% - 30px);' ><table id='Session_Table' class='display cell-border StatusTablesFont' cellspacing='0' width='100%'><thead><tr> <th>Source IP</th><th>User</th><th>Destination IP</th><th>Source Port</th><th>Destination Port</th><th>Protocol</th><th>VLAN ID</th> <th>Application</th><th onclick='pq_table_sort_ses_data()' style='cursor:pointer'><img style='margin-top:-10px;cursor:pointer' src='image/sort_desc.png'/>Data (Sent/Received)</th><th>Data Received</th><th>Watch</th> </tr></thead> </table> </div> </div> </div> ";var shadow_session_watch_html="<div id='C_Shadow_Session_Watch'><div id='pq_lses_stat_bar' style='font-size:11px;width:100%;height:40px;background-color:#005d00'><button class='pq_url_wbtn' style='float:left;display:inline-block;width:130px;height:30px;font-size:11px;margin-left:5px;background:#00bcd4 url(../image/back_act.png) 5px no-repeat;text-indent:25px;' onclick='pq_go_back_all_session_clicked()'>Back to Sessions</button> <img src='image/server_large.png' style='float:left;margin:10px 5px 10px 20px;width:20px;height:20px;'/><a id ='pq_ls_sip_text' style='color:white;float:left;text-decoration:none;font-size:11px' class='pq_bwevent_vcenter'> Client IP:192.168.1.121</a><img src='image/port.png' style='float:left;margin:10px 5px 10px 20px;width:20px;height:20px;'/><a id ='pq_ls_sport_text' style='color:white;float:left;text-decoration:none;font-size:11px' class='pq_bwevent_vcenter'> Destination Port:80</a><img src='image/client_large.png' style='float:left;margin:10px 5px 10px 20px;width:20px;height:20px;'/><a id ='pq_ls_dip_text' style='color:white;float:left;text-decoration:none;font-size:11px' class='pq_bwevent_vcenter'> Server IP:192.168.1.121</a><img src='image/port.png' style='float:left;margin:10px 5px 10px 20px;width:20px;height:20px;'/><a id ='pq_ls_dport_text' style='color:white;float:left;text-decoration:none;font-size:11px' class='pq_bwevent_vcenter'> Source Port:5134</a><img src='image/application_large.png' style='float:left;margin:10px 5px 10px 20px;width:20px;height:20px;'/><a id ='pq_ls_app_text' style='color:white;float:left;text-decoration:none;font-size:11px' class='pq_bwevent_vcenter'> Application:Unknown</a></div><div style='width:100%;height:2px;background-color:lightblue'></div><div style='width:100%;height:calc(100% - 45px);background:#fff;position:absolute;'> <div class='Pq_TableHolder' style='height:calc(50% - 20px);width:calc(100% - 35px);display:inline-block;'><div id='plot_live_session_downlink_header' class='BWPlotHolderHeader BWPlotHolderHeaderText' style='height:35px;font-size:14px'>Session Downlink Bandwidth (10 s Average)</div> <div style='width:100%;height:30px;background-color:#222'><img src='image/down_ch.png' style='float:left;margin-right:15px;margin-left:10px' class='pq_bwevent_vcenter'/><a id='pq_ls_downlink_pkt' style='float:right;width:220px;color:whitesmoke;text-decoration:none;font-size:12px' class='pq_bwevent_vcenter'>Packets:0 </a><div style='width:20px;height:20px;background-color:green;float:right;margin-right:20px' class='pq_bwevent_vcenter'> </div><a id='pq_ls_downlink_usage' style='float:right;width:220px;color:whitesmoke;text-decoration:none;font-size:12px' class='pq_bwevent_vcenter'>Data Received:0 MB</a><div style='width:20px;height:20px;background-color:green;float:right;margin-right:20px' class='pq_bwevent_vcenter'> </div></div><div style='width:100%;height:calc(100% - 70px);'><div id='plot_live_session_downlink' style='width:calc(100% - 35px);height:calc(50% - 90px);background-color:whitesmoke;position:absolute;z-index:100'></div></div></div><div class='Pq_TableHolder' style='height:calc(50% - 20px);width:calc(100% - 35px);display:inline-block;'><div id='plot_live_session_uplink_header' class='BWPlotHolderHeader BWPlotHolderHeaderText' style='height:35px;font-size:14px'>Session Uplink Bandwidth (10 s Average)</div> <div style='width:100%;height:30px;background-color:#222'><img src='image/up_ch.png' style='float:left;margin-right:15px;margin-left:10px' class='pq_bwevent_vcenter'/><a id='pq_ls_uplink_pkt' style='float:right;width:220px;color:whitesmoke;text-decoration:none;font-size:12px' class='pq_bwevent_vcenter'>Packets:0 </a><div style='width:20px;height:20px;background-color:#a8334d;float:right;margin-right:20px' class='pq_bwevent_vcenter'> </div><a id='pq_ls_uplink_usage' style='float:right;width:220px;color:whitesmoke;text-decoration:none;font-size:12px' class='pq_bwevent_vcenter'>Data Sent:0 MB</a><div style='width:20px;height:20px;background-color:#a8334d;float:right;margin-right:20px' class='pq_bwevent_vcenter'> </div></div><div style='width:100%;height:calc(100% - 70px);'><div id='plot_live_session_uplink' style='width:calc(100% - 35px);height:calc(50% - 90px);background-color:whitesmoke;position:absolute;z-index:100'></div></div></div></div> </div>";var ses_sources_html="<div id='Session_Sources'> <div class='pq_session_filter_bar' id='pq_src_win_filter'></div> <div class='edit_panel' style='padding-top:10px;'><button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;margin-right:15px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <div id='Session_Sources_Holder' class='Pq_TableHolder' style='position:relative;height:calc(100% - 105px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>Source Table</div> <div id='source_table_holder' style='position:absolute;width:100%;padding:20px' ><table id='Source_Table' class='display cell-border StatusTablesFont' cellspacing='0' width='100%'> <thead><tr> <th>IP Address</th><th>User</th> <th onclick='pq_table_sort_ses(0)' style='cursor:pointer'><img style='margin-top:-10px;cursor:pointer' src='image/sort_desc.png'/>Sessions</th><th>Data Sent</th><th>Data Received</th><th onclick='pq_table_sort_data(0)' style='cursor:pointer'><img style='margin-top:-10px;cursor:pointer' src='image/sort_desc.png'/>Data (Sent/Received)</th><th>Watch</th> </tr></thead></table> </div> </div> </div> ";var shadow_server_watch_html="<div id='C_Shadow_Server_Watch'><div id='pq_lscw_stat_bar' style='font-size:11px;width:100%;height:40px;background-color:#222222'><button id='shdw_serv_home_back_btn' class='pq_url_wbtn' style='float:left;display:inline-block;width:110px;height:30px;font-size:11px;margin-left:5px;background:#00bcd4 url(../image/back_act.png) 5px no-repeat;text-indent:25px;'>Back to Home</button> <img class='pq_vcenter' src='image/client_large.png' style='width:20px;height:20px;float:left;margin-right:5px;margin-left:40px;display:inline-block'/><a id='pq_lscw_sip_text' style='color:white;float:left;text-decoration:none;display:inline-block;padding:10px 0px' class='pq_bwevent_vcenter'> Source IP:192.168.1.121</a><img class='pq_vcenter' src='image/sessions.png' style='width:20px;height:20px;float:left ;margin-right:10px;margin-left:20px;display:inline-block'/><a id='pq_lscw_ses_text' style='color:white;float:left;text-decoration:none;display:inline-block;padding:10px 0px' class='pq_bwevent_vcenter'> Sessions:83</a></div><div style='height:40%;width:100%;background:transparent;box-shadow:none;border:none'> <div class='Pq_TableHolder' style='height:100%;width:72%;display:inline-block;'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' style='height:35px;font-size:14px'>Bandwidth Usage (10 s Average)</div> <div style='width:100%;height:28px;background-color:#222'><img src='image/up_ch.png' style='float:left;margin-right:15px;margin-left:10px' class='pq_bwevent_vcenter'/><a style='float:left;font-size:12px;color:#D5E4F3;text-decoration:none;' class='pq_bwevent_vcenter'></a><a id ='pq_lsd_uplink_pkts' style='font-size:11px;float:right;margin-right:30px;color:whitesmoke;text-decoration:none;' class='pq_bwevent_vcenter'>Packets Sent :0</a><div style='width:15px;height:15px;background-color:#a8334d;float:right;margin-right:20px' class='pq_bwevent_vcenter'> </div> <a id ='pq_lsd_uplink_usage' style='font-size:11px;float:right;margin-right:30px;color:whitesmoke;text-decoration:none;' class='pq_bwevent_vcenter'>Data Sent :0 MB</a><div style='width:15px;height:15px;background-color:#a8334d;float:right;margin-right:20px' class='pq_bwevent_vcenter'> </div><a id ='pq_lsd_downlink_pkts' style='font-size:11px;float:right;margin-right:30px;color:whitesmoke;text-decoration:none;' class='pq_bwevent_vcenter'>Packets Received:0</a><div style='width:15px;height:15px;background-color:green;float:right;margin-right:20px' class='pq_bwevent_vcenter'> </div> <a id ='pq_lsd_downlink_usage' style='font-size:11px;float:right;margin-right:30px;color:whitesmoke;text-decoration:none;' class='pq_bwevent_vcenter'>Data Received:0 MB</a><div style='width:15px;height:15px;background-color:green;float:right;margin-right:20px' class='pq_bwevent_vcenter'> </div> </div><div style='width:100%;height:calc(100% - 75px);background-color:whitesmoke;position:relative'><div id='plot_live_sources_updown' style='width:calc(100%);height:100%;background-color:whitesmoke;position:absolute;z-index:100'></div></div></div><div class='Pq_TableHolder' style='height:100%;width:23%;display:inline-block;margin-top:0px'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' style='height:35px;font-size:14px'>Live Usage</div> <!--<div style='width:2px;height:28px;background-color:#D5E4F3;float:left'></div>--><div style='width:calc(100%);height:28px;background-color:#222;'><div class='btn-group pq_vcenter' style=' float:right;margin-right:20px'><button id ='btn_lw_bt_one' type='button' onclick='btn_sc_sum_load_now(1)' class='btn btn-primary btn-xs' style='margin-top:2px;height:20px'>Applications</button><button id ='btn_lw_bt_two' type='button' onclick='btn_sc_sum_load_now(2)' class='btn btn-primary btn-xs' style='margin-top:2px;height:20px'>Destinations</button><button id ='btn_lw_bt_three' type='button' onclick='btn_sc_sum_load_now(3)' class='btn btn-primary btn-xs' style='margin-top:2px;height:20px'>Services</button></div><img src='image/applications.png' style='float:left;margin-left:10px;' class='pq_bwevent_vcenter'/><a style='float:left;font-size:12px;color:#D5E4F3;text-decoration:none;' class='pq_bwevent_vcenter'></a> </div><div id='pq_live_usage_pie_hlder' style='float:left;padding:0;margin:0 ;display:block;text-align:center;height:70%;width:60%;overflow:visible'></div><div style='width:40%;height:calc(100% - 80px);float:left;overflow-y:auto;margin-top:10px;'><div id='pq_live_usage_legend' style='width:100%;top:0px;position:relative;'></div></div></div></div><div class='Pq_TableHolder' style='height:calc(55% - 60px);margin-top:35px '><div id='tc_diag_type' class='BWPlotHolderHeader BWPlotHolderHeaderText' style='height:35px;font-size:14px'>Source Diagram</div> <div style='width:100%;height:35px;background-color:#222'><img src='image/sd_diagram.png' style='float:left;margin-right:15px;margin-left:10px' class='pq_bwevent_vcenter'/><div style='width:40px;height:100%;float:right'></div><div class='btn-group pq_vcenter' style=' float:right;'><button id='shadow_serv_traffic' type='button' onclick='btn_sc_load_now(1)' class='btn btn-primary btn-xs'>Traffic</button><button type='button' onclick='btn_sc_load_now(2)' class='btn btn-primary btn-xs'>Sessions</button></div></div><div id='plot_live_sources_diagram_holder' style='font-size:10px;overflow-y:scroll;width:100%;height:calc(100% - 80px);background-color:whitesmoke'><div id='plot_live_sources_diagram' style='width:98%;background-color:whitesmoke;float:left;padding:0;margin:10px ;display:block;min-height:500px'></div></div></div>";var shadow_url_watch_html="<div id='C_Shadow_URL_Watch'><div id='pq_lscw_stat_bar' style='font-size:11px;width:100%;height:40px;background-color:#222222'><button id='lv_session_watch_status_bar_back_btn' class='pq_url_wbtn' onclick='pq_go_back_sources()' style='float:left;display:inline-block;width:130px;height:30px;font-size:11px;margin-left:5px;background:#00bcd4 url(../image/back_act.png) 5px no-repeat;text-indent:25px;'>Back to Sources</button> <button id='lurl_watch_stop' class='pq_url_wbtn' style='float:left;display:block;padding-left:25px;margin-top:8px;width:80px;height:25px;font-size:11px;margin-left:15px;background:#e29030 url(../image/pause.png) 5px no-repeat;' onclick=''>Pause</button><button id='lurl_watch_start' class='pq_url_wbtn' style='float:left;display:none;padding-left:25px;margin-top:8px;width:80px;height:25px;font-size:11px;margin-left:15px;background:#21b955 url(../image/play.png) 5px no-repeat;' onclick=''>Restart</button><img class='pq_vcenter' src='image/client_large.png' style='width:20px;height:20px;float:left ;margin-right:10px;margin-left:20px;display:inline-block'/><a id='pq_lurlw_sip_text' style='color:white;float:left;text-decoration:none;display:inline-block;padding:10px 0px' class='pq_bwevent_vcenter'> Source IP:</a> <img class='pq_vcenter' src='image/active.png' style='width:20px;height:20px;float:left ;margin-right:10px;margin-left:20px;display:inline-block'/><a id='pq_lurlw_status_text' style='color:white;float:left;text-decoration:none;display:inline-block;padding:10px 0px;margin-right:10px;' class='pq_bwevent_vcenter'> Status:Active </a></div> <div id = 'pq_lurlw_status_ind' style='width:100%;height:4px;background-color:#47d147'></div><div class='Pq_TableHolder' style='height:35%;width:97%;display:inline-block;margin-top:15px;'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' style='height:35px;font-size:14px'>Request Monitor</div> <div id='plot_live_url_stat' style='width:100%;height:calc(100% - 70px);background-color:whitesmoke;margin-top:20px'></div></div> <div class='Pq_TableHolder' style='height:calc(60% - 70px);width:31%;display:inline-block;margin-top:25px'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' style='height:35px;font-size:14px;padding-top:1.4%'><div style='width:15px;background-color:#ac2925;height:15px;float:left;margin-left:25px;margin-top:3px;'></div> HTTP Requests</div> <div style='width:95%;height:calc(100% - 55px);float:left;margin-top:10px;margin-left:10px;overflow:auto;'><div style='width:100%;height:20px'><div style='width:100%;height:100%;float:left;padding-left:4px;'><div style='background-color:#006666;float:left;min-width:120px;width:40%;margin-right:2px'><a style='margin-left:45%;text-decoration:none;font-size:12px;color:whitesmoke;'>URL</a></div><div style='background-color:#006666;float:left;min-width:108px;width:30%;margin-right:2px'><a style='margin-left:45%;text-decoration:none;font-size:12px;color:whitesmoke;'>IP</a></div><div style='background-color:#006666;float:left;min-width:68px;width:23%;'><a style='margin-left:40%;text-decoration:none;color:whitesmoke;font-size:12px;'>Client</a></div></div></div><div style='width:100%;height:calc(80% - 10px);min-width:330px;'> <div style='width:100%;height:2px'></div><div id='htpu-list' style='width:100%;height:100%;'><ul class='list' style='width:100%;height:100%;margin:0px;padding:0px;padding-left:4px;'><li style='background-color:#000\9;list-style:none;padding:0px;margin:0px'><div style='background-color:#09547c;float:left;min-width:120px;width:40%;overflow:hidden;margin-bottom:2px;margin-right:2px'><a class='wurl' style='white-space:nowrap;text-decoration:none;font-size:10px;color:whitesmoke;padding-left:5px'></a></div><div style='background-color:#cccccc;float:left;min-width:108px;width:30%;margin-bottom:2px;margin-right:2px'><a class='wuip' style='text-decoration:none;font-size:10px;padding-left:5px'></a></div><div style='background-color:#122b40;float:left;min-width:68px;width:23%;margin-bottom:2px'><a class='wuport' style='text-decoration:none;color:whitesmoke;font-size:10px;padding-left:5px'></a></div></li></ul></div></div></div></div> <div class='Pq_TableHolder' style='height:calc(60% - 70px);width:31%;display:inline-block;margin-top:25px'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' style='height:35px;font-size:14px;padding-top:1.4%'><div style='width:15px;background-color:#009688;height:15px;float:left;margin-left:25px;margin-top:3px;'></div> HTTPS Client Requests</div> <div style='width:95%;height:calc(100% - 55px);float:left;margin-top:10px;margin-left:10px;overflow:auto;'><div style='width:100%;height:20px'><div style='width:100%;height:100%;float:left;padding-left:4px;'><div style='background-color:#006666;float:left;min-width:120px;width:40%;margin-right:2px'><a style='margin-left:45%;text-decoration:none;font-size:12px;color:whitesmoke;'>URL</a></div><div style='background-color:#006666;float:left;min-width:108px;width:30%;margin-right:2px'><a style='margin-left:45%;text-decoration:none;font-size:12px;color:whitesmoke;'>IP</a></div><div style='background-color:#006666;float:left;min-width:68px;width:23%;'><a style='margin-left:40%;text-decoration:none;color:whitesmoke;font-size:12px;'>Client</a></div></div></div><div style='width:100%;height:calc(80% - 10px);min-width:330px'><div style='width:100%;height:2px'></div><div id='htpsu-list' style='width:100%;height:100%;'><ul class='list' style='width:100%;height:100%;margin:0px;padding:0px;padding-left:4px;'><li style='background-color:#000\9;list-style:none;padding:0px;margin:0px'><div style='background-color:#09547c;float:left;min-width:120px;width:40%;overflow:hidden;margin-bottom:2px;margin-right:2px'><a class='wurl' style='white-space:nowrap;text-decoration:none;font-size:10px;color:whitesmoke;padding-left:5px'></a></div><div style='background-color:#cccccc;float:left;min-width:108px;width:30%;margin-bottom:2px;margin-right:2px'><a class='wuip' style='text-decoration:none;font-size:10px;padding-left:5px'></a></div><div style='background-color:#122b40;float:left;min-width:68px;width:23%;margin-bottom:2px'><a class='wuport' style='text-decoration:none;color:whitesmoke;font-size:10px;padding-left:5px'></a></div></li></ul></div></div></div></div> <div class='Pq_TableHolder' style='height:calc(60% - 70px);width:31%;display:inline-block;margin-top:25px'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' style='height:35px;font-size:14px;padding-top:1.4%'><div style='width:15px;background-color:#0066cc;height:15px;float:left;margin-left:25px;margin-top:3px;'></div> DNS Response</div> <div style='width:95%;height:calc(100% - 55px);float:left;margin-top:10px;margin-left:10px;overflow:auto;'><div style='width:100%;height:20px'><div style='width:100%;height:100%;float:left;padding-left:4px;'><div style='background-color:#006666;float:left;min-width:120px;width:40%;margin-right:1px'><a style='margin-left:45%;text-decoration:none;font-size:12px;color:whitesmoke;'>URL</a></div><div style='background-color:#006666;float:left;min-width:108px;width:30%;margin-right:1px'><a style='margin-left:45%;text-decoration:none;font-size:12px;color:whitesmoke;'>IP</a></div><div style='background-color:#006666;float:left;min-width:68px;width:25%;'><a style='margin-left:25%;text-decoration:none;color:whitesmoke;font-size:12px;'>Server IP</a></div></div></div><div style='width:100%;height:calc(80% - 10px);min-width:330px'><div style='width:100%;height:2px'></div><div id='dns-list' style='width:100%;height:100%;'><ul class='list' style='width:100%;height:100%;margin:0px;padding:0px;padding-left:4px;'><li style='background-color:#000\9;list-style:none;padding:0px;margin:0px'><div style='background-color:#09547c;float:left;min-width:120px;width:40%;overflow:hidden;margin-bottom:2px;margin-right:1px'><a class='wurl' style='white-space:nowrap;text-decoration:none;font-size:10px;color:whitesmoke;padding-left:5px'></a></div><div style='background-color:#cccccc;float:left;min-width:108px;width:30%;margin-bottom:2px;margin-right:1px'><a class='wuip' style='text-decoration:none;font-size:10px;padding-left:5px'></a></div><div style='background-color:#122b40;float:left;min-width:68px;width:25%;margin-bottom:2px'><a class='wuport' style='text-decoration:none;color:whitesmoke;font-size:10px;padding-left:5px'></a></div></li></ul></div></div></div></div> </div>";var ses_dest_html="<div id='Session_Destination'> <div class='pq_session_filter_bar' id='pq_dest_win_filter'></div><div class='edit_panel' style='padding-top:10px;'><button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;margin-right:15px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <div id='Session_Destination_Holder' class='Pq_TableHolder' style='position:relative;height:calc(100% - 105px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>Destination Table</div> <div id='destination_table_holder' style='position:absolute;width:100%;padding:20px' ><table id='Destination_Table' class='display cell-border StatusTablesFont' cellspacing='0' width='100%'><thead><tr> <th>Destination</th><th>URL</th><th onclick='pq_table_sort_ses(1)' class='' style='cursor:pointer;text-align:center'><img style='margin-top:-10px;cursor:pointer' src='image/sort_desc.png'/>Sessions</th><th>Bytes Sent</th><th>Bytes Received</th><th onclick='pq_table_sort_data(1)' class='' style='cursor:pointer;text-align:center'><img style='margin-top:-10px;cursor:pointer' src='image/sort_desc.png'/>Data</th> <th>Watch</th> </tr></thead></table> </div> </div> </div> ";var ses_app_html="<div id='Session_Applications'> <div class='pq_session_filter_bar' id='pq_app_win_filter'></div><div class='edit_panel' style='padding-top:10px;'><button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;margin-right:15px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <div id='Session_Applications_Holder' class='Pq_TableHolder' style='position:relative;height:calc(100% - 105px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>Application Table</div> <div id='app_table_holder' style='position:absolute;width:100%;padding:20px' ><table id='Application_Table' class='display cell-border StatusTablesFont' cellspacing='0' width='100%'><thead><tr> <th>Application</th><!--<th>Category</th>--> <th onclick='pq_table_sort_ses(2)' class='' style='cursor:pointer;text-align:center'><img style='margin-top:-10px;cursor:pointer' src='image/sort_desc.png'/>Sessions</th><th>Bytes Sent</th><th>Bytes Received</th><th onclick='pq_table_sort_data(2)' class='' style='cursor:pointer;text-align:center'><img style='margin-top:-10px;cursor:pointer;' src='image/sort_desc.png'/>Data</th><th>Watch</th> </tr></thead> </table> </div> </div> </div> ";var ses_serv_html="<div id='Session_Services'> <div class='pq_session_filter_bar' id='pq_service_win_filter'></div><div class='edit_panel' style='padding-top:10px;'><button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;margin-right:15px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <div id='Session_Services_Holder' class='Pq_TableHolder' style='position:relative;height:calc(100% - 105px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>Service Table</div> <div id='service_table_holder' style='position:absolute;width:100%;padding:20px' ><table id='Ses_Service_Table' class='display cell-border StatusTablesFont' cellspacing='0' width='100%'><thead><tr> <th>Services</th> <th onclick='pq_table_sort_ses(3)' class='' style='cursor:pointer;text-align:center'><img style='margin-top:-10px;cursor:pointer' src='image/sort_desc.png'/>Sessions</th><th>Bytes Sent</th><th>Bytes Received</th><th onclick='pq_table_sort_data(3)' class='' style='cursor:pointer;text-align:center'><img style='margin-top:-10px;cursor:pointer' src='image/sort_desc.png'/>Data</th><th>Watch</th> </tr></thead> </table> </div> </div> </div> ";var traffic_diag_html="<div id='Status_Traffic'><div class='pq_tc_diagram_filter_bar'></div><div class='edit_panel' style='padding-top:10px;'><button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;margin-right:15px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <div class='Pq_TableHolder' style='height:calc(100% - 110px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>Traffic Diagram</div> <div class='PieChartContentHolder' style='height:calc(100% - 60px);width:49%;margin-top:20px'> <div class='BWPlotHolderHeader BWPlotHolderHeaderText ' style='height:5%;font-size:14px;'> Downlink Traffic </div> <div style='height:5%;font-weight:bold;padding-left:5%;padding-top:10px;display:inline-block'> Sources </div> <div style='height:5%;font-weight:bold;margin-left:65%;padding-top:10px;display:inline-block '> Destinations </div> <div id='diagram_tc_in' style='height:calc(90% - 10px);overflow-y:scroll;font-family:Arial;font-size:11px;'></div> </div> <div class='PieChartContentHolder' style='height:calc(100% - 60px);width:48%;margin-left:10px;margin-top:20px'> <div class='BWPlotHolderHeader BWPlotHolderHeaderText ' style='height:5%;font-size:14px;'> Uplink Traffic </div> <div style='height:5%;font-weight:bold;padding-left:5%;padding-top:10px;display:inline-block'> Sources </div> <div style='height:5%;font-weight:bold;margin-left:65%;padding-top:10px;display:inline-block '> Destinations </div> <div id='diagram_tc_out' style='height:calc(90% - 10px);overflow-y:scroll;font-family:Arial;font-size:11px;'></div> </div> </div> </div> ";var rule_dest_html="<div id='App_Rule'> <div id='Dest_Rule_Holder' class='Pq_TableHolder' style='position:relative;height:calc(100% - 30px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>Destination Rules</div> <div id='app_rule_holder' style='width:100%;padding:20px'><div class='edit_panel'> <button id='addDestRule' onclick = 'Create(1)' class='create setPrimary'>Add Destination</button> <button disabled id='editDestRule' onclick = 'Edit(1)' class='edit'>Edit Destination</button> <button disabled id='deleteDestRule' onclick = 'Delete(1)' class='delete'>Delete Destination</button> <button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <table id='Dest_Rule_Table' class='hover row-border order-column StatusTablesFont' cellspacing='0' width='100%'> <thead><tr style='height:50px;'><th colspan='3' style='text-align:center;font-size:14px'>Destination Details</th><th colspan='4' style='text-align:center;font-size:14px'>Scheduled Behavior</th><th colspan='3' style='text-align:center;font-size:14px'>Default Behavior</th></tr> <tr> <th>User ID</th><th>Dest ID</th><th>Destination</th><th>Schedule </th> <th>Scheduled Action </th> <th>Scheduled Downlink Pipe </th> <th>Scheduled Uplink Pipe </th> <th>Default Action </th> <th>Default Downlink Pipe </th> <th>Default Uplink Pipe </th> </tr> </thead></table> </div> </div> <div id='AddDestRuleModal' class='modal'><div id='AddDestRuleModalContent' class='modal-content' style='height:325px;width:460px;min-height:325px;'><span class='close'>×</span><label class='modalTitle' style=' margin-left:110px'> Add Destination Rule</label><br><br><!-- <label class='drop_down_label' style='float:left;'> Category :</label><select id='destAddressCode' class='field_prop' style='width:130px;float:none;margin-left:28px;'> <option value='0'>IP Address</option><option value='1'>Subnet</option><option value='2'>IP Range</option></select><br><br>--><label class='drop_down_label' id='dest_rule_addr_type_label'> IP Address :</label><input id='addDestRuleIP' type='text' style='width:331px;' placeholder='0.0.0.0' class='field_prop'> <hr style='border-color:#d2cdcd;'> <label class='drop_down_label'> Rule Schedule :</label><select id='add_dest_rule_schedule' class='field_prop' style='width:200px;'></select> <br><br> <label class='drop_down_label'> Scheduled Action :</label><select id='add_sched_dest_rule_action' disabled class='field_prop' style='width:200px;'> <option selected disabled value='10' >N/A</option><option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br> <div id='append_sched_pipes_dest_rule'></div> <label class='drop_down_label'> Default Action :</label><select id='add_def_dest_rule_action' class='field_prop' style='width:200px;'> <option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br><div id='append_def_pipes_dest_rule'></div><button id='addDestRuleToSystem' class='addUpdateRules'>Add to System</button> </div></div> <div id='EditDestRuleModal' class='modal'><div id='EditDestRuleModalContent' class='modal-content' style='height:325px;width:460px;min-height:325px;'><span class='close'>×</span><label class='modalTitle' style='margin-left:95px'> Update Destination Rule</label><br><br> <!-- <label class='drop_down_label'> Category :</label><select id='destAddressCodeEdit' class='field_prop' style='width:130px;float:none;margin-left:28px;'> <option value='0'>IP Address</option><option value='1'>Subnet</option><option value='2'>IP Range</option></select><br><br>--><label class='drop_down_label' id='edit_dest_rule_addr_type_label'> IP Address :</label><input id='editDestRuleIP' type='text' style='width:331px;' placeholder='0.0.0.0' class='field_prop'> <hr style='border-color:#d2cdcd;'> <label class='drop_down_label'> Rule Schedule :</label><select id='edit_dest_rule_schedule' class='field_prop' style='width:200px;'></select> <br><br> <label class='drop_down_label'> Scheduled Action :</label><select id='edit_sched_dest_rule_action' class='field_prop' style='width:200px;'> <option selected disabled value='10' >N/A</option><option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br> <div id='edit_sched_pipes_dest_rule'></div> <label class='drop_down_label'> Default Action :</label><select id='edit_def_dest_rule_action' class='field_prop' style='width:200px;'> <option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br><div id='edit_def_pipes_dest_rule'></div> <button id='editDestRuleToSystem' class='addUpdateRules'>Update</button> </div></div> </div>";var rule_url_html="<div id='URL_Rule'> <div id='URL_Rule_Holder' class='Pq_TableHolder' style='position:relative;height:calc(100% - 30px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>URL Rules</div> <div id='url_rule_holder' style='width:100%;padding:20px'><div class='edit_panel'> <button onclick = 'Create(2)' class='create setPrimary'>Add URL</button> <button disabled id='editURLRule' onclick = 'Edit(2)' class='edit'>Edit URL</button> <button disabled id='deleteURLRule' onclick = 'Delete(2)' class='delete'>Delete URL</button> <button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <table id='URL_Rule_Table' class='hover row-border order-column StatusTablesFont' cellspacing='0' width='100%'> <thead><tr style='height:50px;'><th colspan='6' style='text-align:center;font-size:14px'>URL Rule Parameters</th><th colspan='3' style='text-align:center;font-size:14px'>Scheduled Behavior</th><th colspan='3' style='text-align:center;font-size:14px'>Default Behavior</th></tr> <tr> <th>User ID</th> <th>URL ID</th> <th>Authentication</th> <th>DNS</th><th>URL</th><th>Schedule </th> <th>Scheduled Action </th> <th>Scheduled Downlink Pipe </th> <th>Scheduled Uplink Pipe </th> <th>Default Action </th> <th>Default Downlink Pipe </th> <th>Default Uplink Pipe </th> </tr></thead></table> </div> </div> <div id='AddURLRuleModal' class='modal'><div id='AddURLRuleModalContent' class='modal-content' style='height:375px;width:460px;min-height:375px;'><span class='close'>×</span><label class='modalTitle' style=' margin-left:140px'> Add URL Rule</label><br><br><label class='drop_down_label' style='float:left;'> Authentication :</label><select id='add_url_rule_authen' class='field_prop' style='width:150px;float:none;margin-left:28px;'> <option value='1'>HTTP</option><option value='2'>HTTPS</option><option value='3'>HTTP or HTTPS</option></select><label class='drop_down_label' style='margin-left:25px;'> DNS :</label><select id='add_url_rule_dns_det' class='field_prop' style='width:80px;'> <option value='0'>Disable</option> <option value='1'>Enable</option> </select> <br><br><label class='drop_down_label'> URL :</label><input id='add_new_url_to_rule' type='text' class='field_prop' style='width:300px;' ><hr style='border-color:#d2cdcd;'> <label class='drop_down_label'> Rule Schedule :</label><select id='add_url_rule_schedule' class='field_prop' style='width:200px;'></select> <br><br> <label class='drop_down_label'> Scheduled Action :</label><select id='add_sched_url_rule_action' disabled class='field_prop' style='width:200px;'> <option selected disabled value='10' >N/A</option><option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br> <div id='append_sched_pipes_url_rule'></div> <label class='drop_down_label'> Default Action :</label><select id='add_def_url_rule_action' class='field_prop' style='width:200px;'> <option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br><div id='append_def_pipes_url_rule'></div><button id='addURLRuleToSystem' class='addUpdateRules'>Add to System</button> </div></div> <div id='EditURLRuleModal' class='modal'><div id='EditURLRuleModalContent' class='modal-content' style='height:375px;width:460px;min-height:375px'><span class='close'>×</span><label class='modalTitle' style=' margin-left:127px'> Update URL Rule</label><br><br><label class='drop_down_label' style='float:left;'> Authentication :</label><select id='edit_url_rule_authen' class='field_prop' style='width:150px;float:none;margin-left:28px;'> <option value='1'>HTTP</option><option value='2'>HTTPS</option><option value='3'>HTTP or HTTPS</option></select><label class='drop_down_label' style='margin-left:25px;'> DNS :</label><select id='edit_url_rule_dns_det' class='field_prop' style='width:80px;'> <option value='0'>Disable</option> <option value='1'>Enable</option> </select> <br><br><label class='drop_down_label'> URL :</label><input id='edit_url_to_rule' type='text' class='field_prop' style='width:300px;' ><hr style='border-color:#d2cdcd;'> <label class='drop_down_label'> Rule Schedule :</label><select id='edit_url_rule_schedule' class='field_prop' style='width:200px;'></select> <br><br> <label class='drop_down_label'> Scheduled Action :</label><select id='edit_sched_url_rule_action' class='field_prop' style='width:200px;'> <option selected disabled value='10' >N/A</option><option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br> <div id='edit_sched_pipes_url_rule'></div> <label class='drop_down_label'> Default Action :</label><select id='edit_def_url_rule_action' class='field_prop' style='width:200px;'> <option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br><div id='edit_def_pipes_url_rule'></div><!--<br>--><button id='editURLRuleToSystem' class='addUpdateRules'>Update</button> </div></div> </div>";var rule_app_html="<div id='App_Rule'> <div id='App_Rule_Holder' class='Pq_TableHolder' style='position:relative;height:calc(100% - 30px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>Application Rules</div> <div id='app_rule_holder' style='width:100%;padding:20px'><div class='edit_panel'> <button id='addAppRule' onclick = 'Create(3)' class='create setPrimary'>Add Application</button> <button disabled id='editAppRule' onclick = 'Edit(3)' class='edit'>Edit Application</button> <button disabled id='deleteAppRule' onclick = 'Delete(3)' class='delete'>Delete Application</button> <button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <table id='App_Rule_Table' class='hover row-border order-column StatusTablesFont' cellspacing='0' width='100%'> <thead><tr style='height:50px;'><th colspan='4' style='text-align:center;font-size:14px'>Application Rule Parameters</th><th colspan='3' style='text-align:center;font-size:14px'>Scheduled Behavior</th><th colspan='3' style='text-align:center;font-size:14px'>Default Behavior</th></tr> <tr> <th>User ID</th> <th>App ID</th> <th>Application</th><th>Schedule </th> <th>Scheduled Action </th> <th>Scheduled Downlink Pipe </th> <th>Scheduled Uplink Pipe </th> <th>Default Action </th> <th>Default Downlink Pipe </th> <th>Default Uplink Pipe </th> </tr> </thead></table> </div> </div> <div id='AddAppRuleModal' class='modal'><div id='AddAppRuleModalContent' class='modal-content' style='height:310px;width:400px;min-height:310px;'><span class='close'>×</span><label class='modalTitle' style='margin-left:80px'> Add Application Rule </label><br><br><label class='drop_down_label'> Application :</label><input type='search' list='appControlID' class='field_prop'><datalist id='appControlID' ></datalist><br><br> <input id='addedApp' hidden type='text' class='field_prop'><label class='drop_down_label'> Rule Schedule :</label><select id='add_app_rule_schedule' class='field_prop' style='width:200px;'></select> <br><br> <label class='drop_down_label'> Scheduled Action :</label><select id='add_sched_app_rule_action' disabled class='field_prop' style='width:200px;'> <option selected disabled value='10' >N/A</option><option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br> <div id='append_sched_pipes_app_rule'></div> <label class='drop_down_label'> Default Action :</label><select id='add_def_app_rule_action' class='field_prop' style='width:200px;'> <option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br><div id='append_def_pipes_app_rule'></div> <button id='addAppRuleToSystem' class='addUpdateRules'>Add to System</button> </div></div> <div id='EditAppRuleModal' class='modal'><div id='EditAppRuleModalContent' class='modal-content' style='height:310px;width:400px;min-height:310px;'><span class='close'>×</span><label class='modalTitle' style='margin-left:65px'> Update Application Rule</label><br><br> <label class='drop_down_label'> Application :</label><input id='editAddedApp' type='text' class='field_prop'> <br><br> <label class='drop_down_label'> Rule Schedule :</label><select id='edit_app_rule_schedule' class='field_prop' style='width:200px;'></select> <br><br> <label class='drop_down_label'> Scheduled Action :</label><select id='edit_sched_app_rule_action' class='field_prop' style='width:200px;'> <option selected disabled value='10' >N/A</option><option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br> <div id='edit_sched_pipes_app_rule'></div> <label class='drop_down_label'> Default Action :</label><select id='edit_def_app_rule_action' class='field_prop' style='width:200px;'> <option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br><div id='edit_def_pipes_app_rule'></div> <button id='editAppToProfile' class='addUpdateRules'>Update</button> </div></div> </div>";var rule_serv_html="<div id='Service_Rule'> <div id='Service_Rule_Holder' class='Pq_TableHolder' style='position:relative;height:calc(100% - 30px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>Service Rules</div> <div id='service_rule_holder' style='width:100%;padding:20px'><div class='edit_panel'> <button id='addServiceRule' onclick = 'Create(4)' class='create setPrimary'>Add Service</button> <button disabled id='editServiceRule' onclick = 'Edit(4)' class='edit'>Edit Service</button> <button disabled id='deleteServiceRule' onclick = 'Delete(4)' class='delete'>Delete Service</button> <button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <table id='Service_Rule_Table' class='hover row-border order-column StatusTablesFont' cellspacing='0' width='100%'> <thead><tr style='height:50px;'><th colspan='4' style='text-align:center;font-size:14px'>Service Rule Parameters</th><th colspan='4' style='text-align:center;font-size:14px'>Scheduled Behavior</th><th colspan='3' style='text-align:center;font-size:14px'>Default Behavior</th></tr> <tr> <th>User ID</th> <th>Port</th><th>Global ID</th> <th>Type</th><th>Schedule </th> <th>Scheduled Action </th> <th>Scheduled Downlink Pipe </th> <th>Scheduled Uplink Pipe </th> <th>Default Action </th> <th>Default Downlink Pipe </th> <th>Default Uplink Pipe </th> </tr></thead></table></div> </div> <div id='AddServiceRuleModal' class='modal'><div id='AddServiceRuleModalContent' class='modal-content' style='height:355px;min-height:355px;'><span class='close'>×</span><label class='modalTitle' style=' margin-left:100px'> Add Service Rule</label><br><br> <label class='drop_down_label'> Port No :</label><input id='add_serv_rule_port' type='text' value='0' class='field_prop'><br><br> <label class='drop_down_label'> Protocol :</label><select id='add_serv_rule_protocol' class='field_prop' > <option value='1'>TCP</option><option value='2'>UDP</option><option value='3'>Any</option></select><br><br> <label class='drop_down_label'> Rule Schedule :</label><select id='add_serv_rule_schedule' class='field_prop' style='width:200px;'></select> <br><br> <label class='drop_down_label'> Scheduled Action :</label><select id='add_sched_serv_rule_action' disabled class='field_prop' style='width:200px;'> <option selected disabled value='10' >N/A</option><option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br> <div id='append_sched_pipes_serv_rule'></div> <label class='drop_down_label'> Default Action :</label><select id='add_def_serv_rule_action' class='field_prop' style='width:200px;'> <option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br><div id='append_def_pipes_serv_rule'></div> <button id='addServiceRuleToSystem' class='addUpdateRules'>Add to System</button> </div></div> <div id='EditServiceRuleModal' class='modal'><div id='EditServiceRuleModalContent' class='modal-content' style='height:355px;min-height:355px;'><span class='close'>×</span><label class='modalTitle' style=' margin-left:82px'> Update Service Rule</label><br><br> <label class='drop_down_label'> Port No :</label><input id='edit_serv_rule_port' type='text' value='0' class='field_prop'><br><br> <label class='drop_down_label'> Protocol :</label><select id='edit_serv_rule_protocol' class='field_prop' > <option value='1'>TCP</option><option value='2'>UDP</option><option value='3'>Any</option></select><br><br> <label class='drop_down_label'> Rule Schedule :</label><select id='edit_serv_rule_schedule' class='field_prop' style='width:200px;'></select> <br><br> <label class='drop_down_label'> Scheduled Action :</label><select id='edit_sched_serv_rule_action' class='field_prop' style='width:200px;'> <option selected disabled value='10' >N/A</option><option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br> <div id='edit_sched_pipes_serv_rule'></div> <label class='drop_down_label'> Default Action :</label><select id='edit_def_serv_rule_action' class='field_prop' style='width:200px;'> <option value='0' >Allow</option><option value='-1'>Block</option> <option value='2' >Shape</option></select><br><br><div id='edit_def_pipes_serv_rule'></div> <button id='editServiceRuleToSystem' class='addUpdateRules'>Update</button> </div></div> </div>";var obj_sched_html="<div id='Object_Schedules'> <div id='Object_Schedules_Holder' class='Pq_TableHolder' style='height:calc(100% - 30px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>Schedules</div> <div id='object_schedule_holder' style='width:100%;padding:20px'><div class='edit_panel'><button disabled onclick = 'Create(5)' class='create setPrimary'>Create New</button> <button disabled onclick = 'Edit(5)' class='edit'>Edit</button> <button disabled onclick = 'Delete(5)' class='delete'>Delete</button> <button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <table id='Schedule_Table' class='hover row-border order-column StatusTablesFont' cellspacing='0' width='100%'> <thead><tr> <th>User</th> <th>Schedule ID</th> <th>Schedule Name</th> <th>Type</th> <th>Active Days</th> <th>Start Time</th> <th>End Time</th> <th>Occurrences</th> </tr></thead></table> </div> </div> <div id='CreateScheduleModal' class='modal'><div class='modal-content' id='CreateScheduleModalContent' style='height:440px'><span class='close'>×</span><label class='modalTitle' style=' margin-left:110px;'> Add Schedule </label><br><br><label class='drop_down_label'> Name :</label><input id='addScheduleName' required type='text' class='field_prop' pattern='w{1,24}'> <br><br> <label class='drop_down_label'> Type :</label><select id='ScheduleCode' class='field_prop'> <option >Weekly Recurring</option><option >One Time</option></select><br><br><div id='appendSchedule'> <label class='drop_down_label'> Days :</label> <input type='checkbox' style='margin-left:118px' id='Recur_1'> <label class='check_box_prop'>Monday </label> <input type='checkbox' style='margin-left:41px' id='Recur_2'> <label class='check_box_prop'>Tuesday </label><br> <input type='checkbox' style='margin-left:157px' id='Recur_3'> <label class='check_box_prop'>Wednesday </label> <input type='checkbox' style='margin-left:20px' id='Recur_4'> <label class='check_box_prop'>Thursday </label><br> <input type='checkbox' style='margin-left:157px' id='Recur_5'> <label class='check_box_prop'>Friday</label> <input type='checkbox' style='margin-left:51px' id='Recur_6'> <label class='check_box_prop'>Saturday</label><br> <input type='checkbox' style='margin-left:157px' id='Recur_7'> <label class='check_box_prop'>Sunday</label><br><br><label class='drop_down_label'> Start Time :</label> <input type='text' id='startTimeRecur' class='clockpicker field_prop ' placeholder ='Start Time' style='margin-left:90px;text-indent:5px'> <br><br> <label class='drop_down_label'> End Time :</label> <input type='text' id='endTimeRecur' class='clockpicker field_prop' placeholder ='End Time' style='margin-left:90px;text-indent:5px'><br> </div> <br><button id='addScheduleToSystem' class='addUpdateRules'>Add to System</button> </div></div> <div id='EditScheduleModal' class='modal'><div class='modal-content' id='EditScheduleModalContent' ><span class='close'>×</span><label class='modalTitle' style=' margin-left:100px'> Update Schedule </label><br><br><label class='drop_down_label'> Name :</label><input id='editScheduleName' required type='text' class='field_prop' pattern='w{1,24}'> <br><br> <label class='drop_down_label'> Type :</label><select id='ScheduleCodeEdit' class='field_prop'><option >Weekly Recurring</option><option >One Time</option></select><br><br><div id='editSchedule'> </div> <br> <button id='editScheduleToSystem' class='addUpdateRules' style='width:150px;'>Update</button> </div></div> </div>";var obj_admin_pipes_html="<div id='Object_Admin_Pipes'> <div id='Object_Admin_Pipes_Holder' class='Pq_TableHolder' style='height:calc(100% - 30px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>Admin Pipes</div> <div id='object_admin_pipe_holder' style='width:100%;padding:20px'><div class='edit_panel'><button onclick = 'Create(6)' class=' create setPrimary'>Create New</button> <button disabled onclick = 'Edit(6)' class=' edit'>Edit</button> <button disabled onclick = 'Delete(6)' class=' delete'>Delete</button> </div> <table id='Admin_Pipe_Table' class='hover row-border order-column StatusTablesFont' cellspacing='0' width='100%'> <thead><tr> <th>Pipe ID</th> <th>Pipe Name</th> <th>Guaranteed Bandwidth (Kbps)</th> <th>Maximum Bandwidth (Kbps)</th> <th>Occurrences</th> </tr></thead></table> </div> </div> <div id='CreateAdminPipeModal' class='modal'><div class='modal-content' style='height:290px;width:450px'><span class='close'>×</span><label class='modalTitle' style=' margin-left:125px'> Add Admin Pipe </label><br><br><label class='drop_down_label'> Pipe Name :</label><input id='addAdminPipeName' type='text' value='' pattern='w{1,24}' class='field_prop' > <br><br> <label class='drop_down_label'> Guaranteed Bandwidth (Kbps) :</label><input id='adminPipeGuarantBW' type='text' class='field_prop' ><br><br> <label class='drop_down_label'> Maximum Bandwidth (Kbps) :</label><input id='adminPipeMaxBW' type='text' class='field_prop' > <br><br><br> <button id='addAdminPipeToSystem' class='addUpdateRules'>Add to System</button> </div></div> <div id='EditAdminPipeModal' class='modal'><div class='modal-content' style='height:290px;width:450px'><span class='close'>×</span><label class='modalTitle' style=' margin-left:113px'> Update Admin Pipe </label><br><br><label class='drop_down_label'> Pipe Name :</label><input id='editAdminPipeName' type='text' value='' pattern='w{1,24}' class='field_prop' > <br><br> <label class='drop_down_label'> Guaranteed Bandwidth (Kbps) :</label><input id='editAdminPipeGuarantBW' type='text' class='field_prop' ><br><br> <label class='drop_down_label'> Maximum Bandwidth (Kbps) :</label><input id='editAdminPipeMaxBW' type='text' class='field_prop' > <br><br><br> <button id='editAdminPipeToSystem' class='addUpdateRules' style='width:150px;'>Update</button> </div></div> </div>";var obj_user_pipes_html="<div id='Object_User_Pipes'> <div id='Object_User_Pipes_Holder' class='Pq_TableHolder' style='height:calc(100% - 30px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>User Pipes</div> <div id='object_user_pipe_holder' style='width:100%;padding:20px'><div class='edit_panel'><button disabled onclick = 'Create(7)' class='create setPrimary'>Create New</button> <button disabled onclick = 'Edit(7)' class='edit'>Edit</button> <button disabled onclick = 'Delete(7)' class='delete'>Delete</button> <button onclick = 'show_rule_user_popup()' class='userRule' style='float:right;background:#009688;width:100px;'>Change User</button> <label class='drop_down_label' style='width:200px;float:right;text-align:end;margin-top:12px;' id='rule_user_label'></label></div> <table id='User_Pipe_Table' class='hover row-border order-column StatusTablesFont' cellspacing='0' width='100%'> <thead><tr> <th>User ID</th> <th>User Pipe ID</th> <th>Admin Pipe ID</th> <th>Pipe Name</th> <th>Pipe Type</th> <th>Pipe Generation</th> <th>Guaranteed Bandwidth (Kbps)</th> <th>Maximum Bandwidth (Kbps)</th> <th>Priority</th> <th>Occurrences</th> </tr></thead></table> </div> </div> <div id='CreateUserPipeModal' class='modal'><div class='modal-content' style='height:505px'><span class='close'>×</span><label class='modalTitle' style=' margin-left:115px'> Add User Pipe </label><br><br><label class='drop_down_label'> Admin Pipe :</label><select id='add_user_admin_pipe' class='field_prop' style='width:200px;'></select> <br><br> <label class='drop_down_label'> User Pipe Name :</label><input id='addUserPipeName' type='text' value='' pattern='w{1,24}' class='field_prop' > <br><br> <label class='drop_down_label'> Pipe Type :</label><select id='addUserPipeType' class='field_prop'> <option value='0'>Per-IP</option><option value='1'>Shared</option></select> <br><br><label class='drop_down_label'> Pipe Generation :</label><select id='addUserGroupingType' class='field_prop'> <option value='0'>Per-Item</option><option value='1'>Per-Profile</option><option value='2'>Per-Rule</option></select> <br><br> <label class='drop_down_label'> Guaranteed <br> Bandwidth (Kbps) :</label><input id='addUserPipeGuarantBW' type='text' class='field_prop' ><br><br> <label class='drop_down_label'> Maximum <br> Bandwidth (Kbps) :</label><input id='addUserPipeMaxBW' type='text' class='field_prop' > <br><br> <label class='drop_down_label'> Priority :</label><select id='addUserPipePriority' class='field_prop'><option value='1'>Low</option><option value='50'>Medium</option><option value='99'>High</option></select> <br><br><br> <button id='addUserPipeToSystem' class='addUpdateRules'>Add to System</button> </div></div> <div id='EditUserPipeModal' class='modal'><div class='modal-content' style='height:505px'><span class='close'>×</span><label class='modalTitle' style=' margin-left:100px'> Update User Pipe </label><br><br><label class='drop_down_label'> Admin Pipe :</label><select id='edit_user_admin_pipe' class='field_prop' style='width:200px;'></select> <br><br> <label class='drop_down_label'> User Pipe Name :</label><input id='editUserPipeName' type='text' value='' pattern='w{1,24}' class='field_prop' > <br><br> <label class='drop_down_label'> Pipe Type :</label><select id='editUserPipeType' class='field_prop'> <option value='0'>Per-IP</option><option value='1'>Shared</option></select> <br><br><label class='drop_down_label'> Pipe Generation :</label><select id='editUserGroupingType' class='field_prop'> <option value='0'>Per-Item</option><option value='1'>Per-Profile</option><option value='2'>Per-Rule</option></select> <br><br> <label class='drop_down_label'> Guaranteed <br> Bandwidth (Kbps) :</label><input id='editUserPipeGuarantBW' type='text' class='field_prop' ><br><br> <label class='drop_down_label'> Maximum <br> Bandwidth (Kbps) :</label><input id='editUserPipeMaxBW' type='text' class='field_prop' > <br><br> <label class='drop_down_label'> Priority :</label><select id='editUserPipePriority' class='field_prop'><option value='1'>Low</option><option value='50'>Medium</option><option value='99'>High</option></select> <br><br><br> <button id='editUserPipeToSystem' class='addUpdateRules' style='width:150px;'>Update</button> </div></div> </div>";var bw_history_html="<div id='C_History' tabindex='1'><div id='pq_bwh_grap_tool_bar' style='position:relative;font-size:11px;width:100%;height:40px;background-color:#222222'><!--<div class='pq_bwh_grap_tool_bar' style='position:relative'>--><button class='pq_flow_apply' onclick='bwh_apply_btnclk()' style='margin-right:10px;width:60px;margin-top:7px;'>Apply</button> <button class='pq_flow_refresh' onclick='bwh_refresh_btn_click()' style='margin-top:7px;'>Refresh</button><input type='text' required placeholder='Select end date and end time' id='date_input_bw_his_et' class='pq_bwh_grapth_endt Pq_Center'><div class='Pq_Center bq_bwh_lend_time'>End Time</div><img src='image/time.png' class='Pq_Center pq_bwh_endtime_png'> <input type='text' required placeholder='Select start date and start time' id='date_input_bw_his_st' class='pq_bwh_grapth_endt Pq_Center'><div class='Pq_Center bq_bwh_lend_time'>Start Time</div><img src='image/time.png' class='Pq_Center pq_bwh_endtime_png'></div><div style='width:100%;height:calc(100% - 45px);background:#fff'><div class='Pq_TableHolder' style='position:relative;height:calc(50% - 40px);width:calc(100% - 35px);display:inline-block;'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' id='bwhist_dlink_label' style='height:35px;font-size:14px'>Network Downlink Bandwidth</div> <div style='position:relative;width:100%;height:calc(100% - 45px);background-color:whitesmoke'><div style='position:absolute;width:100%;height:100%'><div id='pq_bwh_dl_plot' style='width:100%;height:100%;float:left;position:relative'></div></div><div id='pq_bwh_dl_plot_no_data' style='position:absolute;width:100%;height:100%;z-index:100;background-color:whitesmoke'><div style='width:100%;height:60%;position:relative;'><img src='image/hchart.png' class='pq_hcenter' style='position:absolute;bottom:0'></div><div style='width:100%;height:40%;position:relative'><a style='font-size:13px;color:#1a7cea;margin-left:calc(50% - 50px);top:0%;text-decoration:none;'>No Data Loaded</a></div></div><div id='pq_bwh_dl_plot_no_avil' style='position:absolute;width:100%;height:100%;z-index:100;background-color:whitesmoke'><div style='width:100%;height:60%;position:relative;'><img src='image/no_data.png' class='pq_hcenter' style='position:absolute;bottom:0'></div><div style='width:100%;height:40%;position:relative'><a style='font-size:13px;color:lightslategray;margin-left:calc(50% - 50px);top:0%;text-decoration:none;'>Data Not Available</a></div></div><div id='pq_bwh_dl_plot_loading' style='position:absolute;width:100%;height:100%;z-index:100;background-color:whitesmoke'><div style='width:100%;height:60%;position:relative;float:left'><img src='image/gif/loading-48.gif' class='pq_hvcenter' style='position:absolute;bottom:0'></div><div style='width:100%;height:30%;position:relative'><a style='font-size:13px;color:lightslategray;margin-left:calc(50% - 50px);top:0%;text-decoration:none;'>Loading Data ...</a></div></div></div></div><div class='Pq_TableHolder' style='height:calc(50% - 35px);width:calc(100% - 35px);display:inline-block;'><div class='BWPlotHolderHeader BWPlotHolderHeaderText' id='bwhist_ulink_label' style='height:35px;font-size:14px'>Network Uplink Bandwidth</div> <div style='position:relative;width:100%;height:calc(100% - 45px);background-color:whitesmoke'><div style='position:absolute;width:100%;height:100%'><div id='pq_bwh_ul_plot' style='width:100%;height:100%;float:left;position:relative'></div></div><div id='pq_bwh_ul_plot_no_data' style='position:absolute;width:100%;height:100%;z-index:100;background-color:whitesmoke'><div style='width:100%;height:60%;position:relative;'><img src='image/hchart.png' class='pq_hcenter' style='position:absolute;bottom:0'></div><div style='width:100%;height:40%;position:relative'><a style='font-size:13px;color:#1a7cea;margin-left:calc(50% - 50px);top:0%;text-decoration:none;'>No Data Loaded</a></div></div><div id='pq_bwh_ul_plot_no_avil' style='position:absolute;width:100%;height:100%;z-index:100;background-color:whitesmoke'><div style='width:100%;height:60%;position:relative;'><img src='image/no_data.png' class='pq_hcenter' style='position:absolute;bottom:0'></div><div style='width:100%;height:40%;position:relative'><a style='font-size:13px;color:lightslategray;margin-left:calc(50% - 50px);top:0%;text-decoration:none;'>Data Not Available</a></div></div><div id='pq_bwh_ul_plot_loading' style='position:absolute;width:100%;height:100%;z-index:100;background-color:whitesmoke'><div style='width:100%;height:60%;position:relative;float:left'><img src='image/gif/loading-48.gif' class='pq_hvcenter' style='position:absolute;bottom:0'></div><div style='width:100%;height:30%;position:relative'><a style='font-size:13px;color:lightslategray;margin-left:calc(50% - 50px);top:0%;text-decoration:none;'>Loading Data ...</a></div></div></div></div><div class='pq_bwh_move_bar' style='background:transparent'><button id='bw_hist_prev_btn' class='Pq_Center bw_hist_nxt_prev_btn' onclick='bwh_previous_click()' style='width:125px;margin-right:0px;top:15px;margin-left:calc(50% - 115px) '>Previous</button><button id='bw_hist_next_btn' class='Pq_Center bw_hist_nxt_prev_btn' onclick='bwh_next_click()' style='width:75px;margin-left:5px;top:15px'>Next</button></div> </div> </div>";var profiles_html="<div id='Profile'> <div id='Profile_Holder' class='Pq_TableHolder' style='height:calc(100% - 30px);'> <div class='BWPlotHolderHeader BWPlotHolderHeaderText'>User Profiles</div> <div id='profile_table_holder' style='width:100%;padding:20px'><div class='edit_panel'> <button type='button' onclick = 'CreateProfile()' class='create setPrimary'>Add Profile</button> <button type='button' disabled onclick = 'EditProfile()' class='edit'>Update Profile</button> <button type='button' disabled onclick = 'DeleteProfile()' class='delete'>Delete Profile</button> <button type='button' disabled onclick = 'ResetProfilePwd()' class='reset'>Reset Password</button> </div> <table id='Profile_Table' class='hover row-border order-column StatusTablesFont' cellspacing='0' width='100%'> <thead><tr> <th>Key</th> <th>Category</th> <th>User Name</th> <th>IP Address</th> <th>Status_val</th> <th>Status</th> </tr></thead></table> </div> </div> <div id='AddProfileModal' class='modal'><div class='modal-content' style=' height:390px;'><span id='CloseAddProfile' class='close'>×</span><label class='modalTitle' style=' margin-left:100px'> Add New Profile </label><br><br><label class='drop_down_label'> Category :</label><select id='profileCode' class='field_prop'><option value='23'>User</option> <option value='14'>Administrator</option> </select><br><br><label class='drop_down_label'> Email :</label><input id='profileEmail' type='email' placeholder='Enter your Email' class='field_prop'> <br><br> <label class='drop_down_label'> IP Address :</label><input id='profileIP' type='text' placeholder='Enter your IP Address/Subnet' class='field_prop'> <select id='addProfileIpType' hidden class='field_prop' style='width:50px;margin-right:2px'><option value='0'>IPv4</option> <option value='1'>IPv6</option> </select><br><br> <label class='drop_down_label'> Password :</label><input id='profile_password' type='password' placeholder='Enter your Password' class='field_prop'> <br><br> <label class='drop_down_label'> Confirm Password :</label><input id='profile_password_confirm' type='password' placeholder='Confirm your Password' class='field_prop'> <br><br> <input id='password_confirm_msg' disabled type='text' class='field_prop' style='margin-top:-15px;border:none;background:transparent'> <br><br> <br><button id='addProfileToSystem' class='addUpdateRules' style='margin-top:-30px;'>Add Profile</button></div> </div> <div id='EditProfileModal' class='modal'><div class='modal-content' style=' height:290px;'><span id='CloseEditProfile' class='close'>×</span> <label class='modalTitle' style=' margin-left:112px'> Update Profile </label><br><br><label class='drop_down_label'> Category :</label><select disabled id='ProfileEditCode' class='field_prop'><option value='23'>User</option> <option value='12'>Super-Administrator</option> <option value='14'>Administrator</option> </select><br><br><label class='drop_down_label'> Email :</label><input id='profile_edit_email' type='email' class='field_prop'> <br><br> <label class='drop_down_label'> IP Address :</label><input id='profile_edit_IP' type='text' class='field_prop'> <select id='editProfileIpType' hidden class='field_prop' style='width:50px;margin-right:2px'><option value='0'>IPv4</option> <option value='1'>IPv6</option> </select><br> <input id='user_prof_edit_confirm_msg' readonly type='text' class='field_prop' style='margin-top:5px;border:none;cursor:default'><br><br><button id='editProfileButton' class='addUpdateRules' style='margin-top:5px;width:150px;'>Update</button></div> </div> <div id='ResetPwdModal' class='modal'><div id='ResetPwdModalContent' class='modal-content' style=' height:290px;'><span id='CloseResetPwd' class='close'>×</span> <label class='modalTitle' style=' margin-left:105px'> Reset Password </label><br><br><div id='profile_edit_password_seg' ><label class='drop_down_label'> Password :</label><input id='profile_edit_password' placeholder='Enter the current password' type='password' class='field_prop'> <br><br> </div><label class='drop_down_label'> New Password :</label><input id='reset_password' type='password' placeholder='Enter the new password' class='field_prop'> <br><br> <label class='drop_down_label'> Confirm New Password :</label><input id='reset_password_confirm' type='password' placeholder='Confirm the new password' class='field_prop'><br> <input id='reset_password_confirm_msg' readonly type='text' class='field_prop' style='margin-top:5px;border:none;cursor:default'><br><br><button id='resetProfilePwdButton' class='addUpdateRules' style='margin-top:5px;width:150px;'>Update</button></div> </div> </div>";var management_html="<div id='Interface_Management'><div id='Interface_Management_Holder' class='Pq_TableHolder' style='position:relative;height:calc(100% - 30px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>Management Interface Configurations</div> <div style='width:100%;height:30px'> </div><div><div style='width:698px;height:160px;position:relative;margin:auto;background-color:white;background-image:url(image/pdev_740.png);background-repeat:no-repeat;background-size:100%;'><div id='mgmt_o_mask' class='alpha60' style='width:45px;display:none;height:45px;position:absolute;top:100px;left:223px;border:2px #00FF00;border-style:solid;'></div><div id='mgmt_t_mask' class='alpha60' style='width:45px;display:none;height:45px;position:absolute;top:100px;left:260px;border:2px #00FF00;border-style:solid;'></div></div></div> <div id='mgmt_prop' style='width:100%;height:calc(100% - 305px)'> <div class='mgmt_table_plane'> <div id='mgmt_table_holder' style='width:100%;'><div class='edit_panel'><button type='button' id='deleteProfile' style='float:right;background:#245580 url(image/info.png) no-repeat 10px center;' disabled onclick = 'info_mgmt_interface_show()' class='delete'>Interface info</button> <button type='button' id='createProfile' style='float:right' onclick = 'edit_mgmt_interface_prop()' class='edit' disabled>Edit</button></div><table id='mgmt_iface_table' class='hover row-border order-column StatusTablesFont display' cellspacing='0' width='100%'> <thead><tr style='height:5px;padding:0px;margin:15px;font-size:12px;background-color:#122b40;color:#ffffff'> <th>Key</th> <th>Interface</th> <th>IP Address</th> <th>Subnet</th> <th>Default Gateway</th> <th>DNS Server</th> <th>Status</th> </tr></thead></table></div> </div></div><div id='editMgmtModal' class='modal'><div class='modal-content' style=' height:390px;'><span id='closeEditMgmtModal' class='close'>×</span> <label style='font-size:16px;margin-left:35%'> Edit Interface </label><br><br><label class='drop_down_label'> Interface :</label><input disabled id='mgmt_edit_infc' class='field_prop'> <br><br> <label class='drop_down_label'> IP Address :</label><input id='mgmt_edit_ip' required type='text' value='0.0.0.0' title='hello' class='field_prop'><br><br> <label class='drop_down_label'> Subnet :</label><input id='mgmt_edit_subnet' required type='text' value='0.0.0.0' class='field_prop'><br><br> <label class='drop_down_label'> Default Gateway :</label><input id='mgmt_edit_dgw' required type='text' value='0.0.0.0' class='field_prop'><br><br> <label class='drop_down_label'> DNS Server :</label><input id='mgmt_edit_dnss' required type='text' value='0.0.0.0' class='field_prop'><br> <input id='mgmt_edit__confirm_msg' type='text' disabled class='field_prop' style='margin-top:5px;border:none;background:transparent'> <br> <br><button id='editMgmtButton' class='addUpdateRules' style='margin-top:10px;'>Update</button></div></div><div id='mgmtInfoProModal' class='modal'><div class='modal-content' style=' height:300px;'><span id='closemgmtInfoModal' class='close'>×</span> <label style='font-size:16px;margin-left:35%'> Interface Info</label><br><br><label class='drop_down_label'> Interface :</label><input disabled id='mgmt_info_infc' class='field_prop'> <br><br> <label class='drop_down_label'> IP Address :</label><input disabled id='mgmt_info_ip' required type='text' class='field_prop'><br><br> <label class='drop_down_label'> Subnet :</label><input disabled id='mgmt_info_subnet' required type='text' class='field_prop'><br><br> <label class='drop_down_label'> Default Gateway :</label><input disabled id='mgmt_info_dgw' required type='text' class='field_prop'><br><br> <label class='drop_down_label'> DNS Server :</label><input disabled id='mgmt_info_dnss' required type='text' class='field_prop'><br><br> </div></div></div></div>";var high_availability_html="<div id='HA_Device'> <div id='HA_Device_Holder' class='Pq_TableHolder' style='height:calc(100% - 40px);'> <div class='BWPlotHolderHeader BWPlotHolderHeaderText'>High Availability</div> <div id='ha_device_table_holder' style='width:100%;padding:20px'><div class='edit_panel'> <button id='ha_devc_ip' class='create' style='margin:0px;pointer-events:none;background:transparent;color:black;font-family:monospace;width:200px' >Device IP :192.168.1.25</button> <button id='ha_devc_id' class='create' style='margin:0px;margin-left:20px;pointer-events:none;background:transparent;font-family:monospace;color:black;width:120px' >Device ID :1 </button> <button class='pq_session_wbtn' style='background:#ffae00' onclick='haModalBroker(2)'>Change ID</button><button id='ha_devc_state' class='create' style='margin:0px;margin-left:20px;pointer-events:none;background:transparent;font-family:monospace;color:black;width:210px' >Device State :Primary </button> <button id='set_ha_devc_state_btn' class='pq_session_wbtn' style='background:#ffae00;width:80px;' onclick='haModalBroker(3)'>Change State</button><button id='ha_devc_vip' class='create' style='margin:0px;margin-left:20px;pointer-events:none;background:transparent;font-family:monospace;color:black;width:230px' >Virtual IP :192.168.1.25/28</button> <button class='pq_session_wbtn' style='background:#ffae00' onclick='haModalBroker(4)'>Change IP</button></div> <div class='edit_panel' style='margin-top:20px'> <button class='create' style='margin:0px;' onclick='haModalBroker(1)'>Add Device</button> <button class='delete' style='margin:0px;' disabled onclick='DeleteHaDevice()'>Remove</button> <button id='ha_device_reset' class='pq_url_wbtn' disabled style='float:right;width:120px;height:30px;font-size:12px;background:#208830;margin:0px' onclick = 'maintenance_reset()'>Reset Device</button> </div> <table id='HA_Device_Table' class='hover row-border order-column StatusTablesFont' cellspacing='0' width='100%'> <thead><tr> <th>HA Id</th> <th>Device Id</th> <th>IP Address</th> <th>State</th> <th>Connection Status</th> </tr></thead></table> </div> </div> <div id='CreateHaDeviceModal' class='modal'><div class='modal-content' style='height:185px;'><span id='CloseNewHaDevice' class='close'>×</span><label class='modalTitle' style='margin-left:130px'> Add Device </label><br><br><label class='drop_down_label'> Device IP :</label><input type='text' id='add_ha_device_ip' class='field_prop' style='width:280px' placeholder='Add Device IP'><br><br><br><button id='addHaDeviceToSystem' class='addUpdateRules' style='width:100px;height:30px;margin-left:85px;display:inline-block'>Add</button><button id='cancelHaDeviceAdd' class='addUpdateRules' style='width:100px;height:30px;margin-left:10px;margin-right:-220px;display:inline-block'>Cancel</button></div></div> <div id='ChangeHaDeviceIDModal' class='modal'><div class='modal-content' style='height:185px;'><span id='closeHaDeviceIDEdit' class='close'>×</span><label class='modalTitle' style='margin-left:130px'> Edit Device ID </label><br><br><label class='drop_down_label'> Device ID :</label><input type='text' id='edit_ha_device_id' class='field_prop' style='width:280px' placeholder='Add Device ID'><br><br><br><button id='editHaDeviceIDToSystem' class='addUpdateRules' style='width:100px;height:30px;margin-left:85px;display:inline-block'>Add</button><button id='cancelHaDeviceIDEdit' class='addUpdateRules' style='width:100px;height:30px;margin-left:10px;margin-right:-220px;display:inline-block'>Cancel</button></div></div> <div id='ChangeHaDeviceVIPModal' class='modal'><div class='modal-content' style='height:185px;'><span id='closeHaDeviceVIPEdit' class='close'>×</span><label class='modalTitle' style='margin-left:130px'> Edit Virtual IP </label><br><br><label class='drop_down_label'> Virtual IP :</label><input type='text' id='edit_ha_device_vip' class='field_prop' style='width:280px' placeholder='Add Virtual IP'><br><br><br><button id='editHaDeviceVIPToSystem' class='addUpdateRules' style='width:100px;height:30px;margin-left:85px;display:inline-block'>Add</button><button id='cancelHaDeviceVIPEdit' class='addUpdateRules' style='width:100px;height:30px;margin-left:10px;margin-right:-220px;display:inline-block'>Cancel</button></div></div> </div>";var maintenance_html="<div id='Maintenance'><div id='Maintenance_Holder' class='Pq_TableHolder' style='position:relative;height:calc(100% - 30px);'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>Device Maintenance</div> <div style='width:100%;height:100px;'><div style='width:100%;height:20px'></div><div class='edit_panel'><button type='button' id='ele_pdev_reset' class='delete' style='float:left;height:200px;background:#1e2d35 url(image/reset.png) 15px 70px/120px 100px no-repeat;margin:10px;margin-left:calc(50% - 235px);position:relative' onclick = 'maintenance_reset()' ><span style=' display:block;position:absolute;top:10px;left:55px;font-size:15px;'>Refresh</span></button> <button type='button' id='ele_pdev_reboot' class='delete' style='float:left;height:200px;background:#1e2d35 url(image/restart.png) 25px 70px/100px 100px no-repeat;margin:10px;position:relative' onclick = 'maintenance_reboot()'><span style=' display:block;position:absolute;top:10px;left:50px;font-size:15px;'>Restart</span></button><button type='button' id='ele_pdev_powerdown' class='delete' style='float:left;height:200px;background:#1e2d35 url(image/power.png) 25px 70px/100px 100px no-repeat;position:relative;margin:10px;' onclick = 'maintenance_poweroff()'><span style=' display:block;position:absolute;top:10px;left:40px;font-size:15px;'>Power Off</span></button></div></div><div id='maintenance_warning_modal' class='modal'><div class='modal-content' style=' height:180px;'><span id='maintenance_cancel_warning_modal' class='close'>×</span> <label style='color:#d43f3a;font-size:16px;margin-left:35%'> Attention!</label><br><br><label class='dmaintain_show_label'></label><br><br><button class='addUpdateRules' onclick='maintenance_cancel_op()' style='margin-top:10px;width:100px;height:30px;font-size:14px;float:right;background-color:gray;margin-left:10px'>Cancel</button><button class='addUpdateRules' onclick='maintenance_do_operation(maintenance_warning_type);' style='margin-top:10px;width:100px;height:30px;font-size:14px;float:right'>Proceed</button></div></div><div id='maintenance_operation_modal' class='modal' style='z-index:1000'><div id='createDisconnectModalContent' class='modal-content' style='height:200px;'><label class='modalTitle' style='margin-left:160px'> Done </label><br><br><div style='width:100%;height:5px'></div><label class='dmaintain_operation_label' style='margin-left:60px'> </label> </div></div> </div></div>";var system_update_html="<div id='System_Info'><div id='System_Info_Holder' class='Pq_TableHolder' style='position:relative;height:calc(100% - 25px);min-height:580px'><div class='BWPlotHolderHeader BWPlotHolderHeaderText'>System Update</div> <div class='Pq_LinkPlotHolder' style='height:150px;width:calc(100% - 50px);overflow-y:auto;margin-top:45px;'><div class='SystemStatsPanelHeader' style='height:25px;'> <div class='pq_vcenter SystemStatsPanelHeaderText'> Current Version</div></div><div style='width:100%;height:40px;margin-top:5px'> <img class='pq_vcenter' src='image/bullet.png' style='width:10px;height:10px;margin-left:18px;float:left;top:10px;'/><div class='pq_vcenter' id='fw_version' style='font-size:11px;margin-left:30px;width:70%;top:10px;'></div><img src='image/bullet.png' style='width:10px;height:10px;margin-left:18px;float:left;margin-top:7px;'/><div id='sw_version' style='font-size:11px;margin-left:30px;width:70%;margin-top:5px;'></div><button id='2' class='edit' onclick='update_offline();' style='float:right;margin-right:20px;width:120px;margin-top:-20px;height:22px'>Update Offline</button></div><div class='SystemStatsPanelHeader' style='margin-top:5px;height:25px;'> <div class='pq_vcenter SystemStatsPanelHeaderText'> License Information</div></div><div style='width:100%;height:25px;margin-top:5px'> <img class='pq_vcenter' src='image/bullet.png' style='width:10px;height:10px;margin-left:18px;float:left'/><div class='pq_vcenter' id='license_info' style='font-size:11px;margin-left:3px;width:70%;float:left;'></div><button class='edit' onclick='update_license();' style='float:right;margin-right:20px;width:120px;height:22px'>Update License</button></div> </div> <div id='Offline_Update_Window' class='modal'><div id='Offline_Update_Window_Modal' class='modal-content' style=' height:220px;'><span class='close'>×</span><div style='float:left;margin-left:15px;margin-bottom:20px'><img src='image/update_2.png' style='width:40px;height:40px;float:left;'><label class='modalTitle' style='margin-top:5px;margin-left:60px;'> Offline Update </label> </div><form enctype='multipart/form-data' id='offline_update_form' onsubmit='return false'><br><br><br><label class='fileLabel' style=''><input type='file' name='file' id='offline_file_select' required accept='.pqupd'/><span>Select File</span></label><input id='upload_file_name' type='text' value='No File Selected' style='border:none;width:260px;font-size:12px;'><progress id='offline_upload_progress' style='margin-top:10px;height:20px;width:100%' hidden></progress><input type='submit' style='margin-top:20px;width:150px' id='offline_file_upload' class='addUpdateRules' disabled value='Upload'> </form></div></div> <div id='Signature_Update_Window' class='modal'><div id='Signature_Update_Window_Modal' class='modal-content' style=' height:190px;width:420px;'><span class='close'>×</span><div style='float:left;margin-left:15px;margin-bottom:20px'><img src='image/update_2.png' style='width:40px;height:40px;float:left;'><label class='modalTitle' style='margin-top:5px;margin-left:10px;'> Application Signature Update </label> </div><form enctype='multipart/form-data' id='app_signature_update_form' onsubmit='return false'><br><br><br><label class='fileLabel' style=''><input type='file' name='file' id='app_signaure_file_select' required accept='.pqsig'/><span>Select File</span></label><input type='text' id='upload_app_sig_file_name' disabled value='No File Selected' style='border:none;width:260px;font-size:12px;background:transparent'><input type='submit' style='margin-top:20px;width:150px' id='app_signaure_file_upload' class='addUpdateRules' disabled value='Upload'></form></div></div><div id='Configuration_Backup_Window' class='modal'><div id='Configuration_Backup_Window_Modal' class='modal-content' style=' height:330px;max-height:380px;min-height:330px'><span class='close' onclick='$('#Configuration_Backup_Window').hide()'>×</span><div id='Update_Version_Name' style='float:left;margin-left:15px;'><img src='image/update_2.png' style='width:40px;height:40px;float:left;'><label class='modalTitle' style=' margin-top:5px;margin-left:30px;'> Configuration Backup </label> </div><label class='modalTitle' id='set_new_update_version' style='margin-top:20px;margin-left:30px;;font-size:12px'></label><br> <div id='Update_Details' class='update_detail'></div><div style='width:100%;height:25px;margin-top:5px'> <img class='pq_vcenter' src='image/bullet.png' style='width:10px;height:10px;margin-left:0px;float:left'/><div class='pq_vcenter' id='app_signature_info' style='font-size:12px;margin-left:3px;width:200px;float:left;font-weight:bold;'>Backup configurations now</div><button class='addUpdateRules' onclick='set_config_backup_now();' style='float:right;margin-right:10px;width:90px;height:22px;font-size:12px;margin-top:3px'>Backup</button></div> <div id='last_conf_backup_info' style='width:100%;font-size:10px;margin-left:13px;height:20px;'></div><div style='width:100%;height:25px;margin-top:5px'> <img class='pq_vcenter' src='image/bullet.png' style='width:10px;height:10px;margin-left:0px;float:left'/><div class='pq_vcenter' id='app_signature_info' style='font-size:12px;margin-left:3px;width:200px;float:left;font-weight:bold;'>Schedule configurations backup</div><button id='sched_config_add' class='addUpdateRules' onclick='' style='float:right;display:block;margin-right:10px;width:90px;height:22px;font-size:12px;margin-top:3px'>Schedule</button><button id='sched_config_hide' class='addUpdateRules' onclick='' style='background:#e29030;float:right;display:none;margin-right:10px;width:90px;height:22px;font-size:12px;margin-top:3px'>Hide</button></div> <div id='current_conf_backup_sched_info' style='width:100%;font-size:10px;margin-left:13px;height:20px;'></div><div class='pq_upd_config_bck_sched'><div class='update_button_area' style='margin-top:10px;'><select id='set_bck_sched' style='height:25px;width:100px;margin-right:5px;margin-left:82px;font-size:11px;'><option value='0'>Never backup</option><option value='1'>Every 1 hour</option><option value='2'>Every 2 hours</option><option value='3'>Every 3 hours</option><option value='4'>Every 4 hours</option><option value='6'>Every 6 hours</option><option value='12'>Every 12 hours</option><option value='24'>Every 24 hours</option></select><button id='set_bck_sched_ok' style='margin-right:5px;height:25px;width:50px;'>Set</button></div> </div> <div style='width:100%;height:25px;margin-top:5px'> <img class='pq_vcenter' src='image/bullet.png' style='width:10px;height:10px;margin-left:0px;float:left'/><div class='pq_vcenter' id='app_signature_info' style='font-size:12px;margin-left:3px;width:200px;float:left;font-weight:bold;'>Restore configurations</div><button class='addUpdateRules' onclick='restore_config_backup();' style='float:right;margin-right:10px;width:90px;height:22px;font-size:12px;margin-top:3px'>Restore</button></div> <div style='width:100%;height:25px;margin-top:10px'> <img class='pq_vcenter' src='image/bullet.png' style='width:10px;height:10px;margin-left:0px;float:left'/><div class='pq_vcenter' id='app_signature_info' style='font-size:12px;margin-left:3px;width:200px;float:left;font-weight:bold;'>Configure backup server</div><button id='bck_serv_config_add' class='addUpdateRules' onclick='' style='float:right;display:block;margin-right:10px;width:90px;height:22px;font-size:12px;margin-top:3px'>Configure</button><button id='bck_serv_config_hide' class='addUpdateRules' onclick='' style='background:#e29030;float:right;display:none;margin-right:10px;width:90px;height:22px;font-size:12px;margin-top:3px'>Hide</button></div><div id='current_conf_backup_serv_info' style='width:100%;font-size:10px;margin-left:13px;height:20px;'></div><div class='pq_upd_config_bck_serv'><div class='update_button_area' style='margin-top:10px;'><label class='drop_down_label_reporting' style='margin-left:0px;color:#000'> IP :</label><input type='text' placeholder='' id='config_bck_ip' value='0' style='width:120px;text-align:center;height:25px;font-size:11px;'> <label class='drop_down_label_reporting' style='margin-left:10px;color:#000'> Port :</label><input type='text' placeholder='' id='config_bck_port' value='0' style='width:50px;text-align:center;height:25px;font-size:11px;'> <button id='set_bck_serv_config_ok' style='margin-right:5px;width:50px;margin-left:15px;height:25px;'>Set</button></div> </div> <div class='pq_vcenter' id='current_conf_backup_serv_info' style='font-size:12px;margin-left:3px;width:330px;float:left;height:25px;'></div><button class='addUpdateRules' style=' width:100px;margin-top:20px;' onclick='$('#Configuration_Backup_Window').hide()'>Cancel</button></div></div> <div id='License_Update_Window' class='modal'><div id='License_Update_Window_Modal' class='modal-content' style=' height:190px;'><span class='close'>×</span><div style='float:left;margin-left:15px;margin-bottom:20px'><img src='image/update_2.png' style='width:40px;height:40px;float:left;'><label class='modalTitle' style='margin-top:5px;margin-left:60px;'> License Update </label> </div><form enctype='multipart/form-data' id='license_update_form' onsubmit='return false'><br><br><br><label class='fileLabel' style=''><input type='file' name='file' id='license_file_select' required accept='.lic'/><span>Select File</span></label><input id='upload_license_name' type='text' value='No File Selected' style='border:none;width:260px;font-size:12px;'><input type='submit' style='margin-top:20px;width:150px' id='license_file_upload' class='addUpdateRules' disabled value='Upload'></form></div></div> <div id='Offline_Update_Install_Window' class='modal'><div class='modal-content' style='width:370px;height:170px;margin:auto;border-radius:17px;padding:0px;background:whitesmoke'><div class='StatusContentHolderHeader StatusContentHolderHeaderText '>File Status</div> <div style='display:inline-block;float:left;margin:12px;'><img id='gif' style='display:inline-block;margin-top:10px' src='image/success.png' alt='your image' height='50' width='50'/></div> <div style='display:inline-block;width:280px;height:120px;'><div style='margin-left:15px;margin-top:32px;font-family:Courier-New;font-size:17px;' >File Uploaded Successfully</div><button class='statusModalButton' onclick='install_offline_update()' style='width:80px;height:30px;margin-left:28px;margin-top:30px;background:#21b224'>Install</button><button class='statusModalButton' onclick='$('#Offline_Update_Install_Window').hide();' style='width:80px;height:30px;margin-top:17px;background:#f44242;margin-left:5px;'>Cancel</button></div> </div></div> <div id='App_Signature_Update_Install_Window' class='modal'><div class='modal-content' style='width:370px;height:170px;margin:auto;border-radius:17px;padding:0px;background:whitesmoke'><div class='StatusContentHolderHeader StatusContentHolderHeaderText '>File Status</div> <div style='display:inline-block;float:left;margin:12px;'><img id='gif' style='display:inline-block;margin-top:10px' src='image/success.png' alt='your image' height='50' width='50'/></div> <div style='display:inline-block;width:280px;height:120px;'><div style='margin-left:15px;margin-top:32px;font-family:Courier-New;font-size:17px;' >File Uploaded Successfully</div><button class='statusModalButton' onclick='install_app_sig_update()' style='width:80px;height:30px;margin-left:28px;margin-top:30px;background:#21b224'>Install</button><button class='statusModalButton' onclick='$('#App_Signature_Update_Install_Window').hide();' style='width:80px;height:30px;margin-top:17px;background:#f44242;;margin-left:5px;'>Cancel</button></div> </div></div> <div id='License_Update_Install_Window' class='modal'><div class='modal-content' style='width:370px;height:170px;margin:auto;border-radius:17px;padding:0px;background:whitesmoke'><div class='StatusContentHolderHeader StatusContentHolderHeaderText '>File Status</div> <div style='display:inline-block;float:left;margin:12px;'><img id='gif' style='display:inline-block;margin-top:10px' src='image/success.png' alt='your image' height='50' width='50'/></div> <div style='display:inline-block;width:280px;height:120px;'><div style='margin-left:15px;margin-top:32px;font-family:Courier-New;font-size:17px;' >File Uploaded Successfully</div><button class='statusModalButton' onclick='install_license_update()' style='width:80px;height:30px;margin-left:28px;margin-top:30px;background:#21b224'>Install</button><button class='statusModalButton' onclick='$('#License_Update_Install_Window').hide();' style='width:80px;height:30px;margin-top:17px;background:#f44242;;margin-left:5px;'>Cancel</button></div> </div></div> <div id='Updating_modal' class='modal' style='background:rgba(254, 251, 251, 0.9)'><img style='display:inline-block;margin-top:40px;height:50px;width:50px;margin-left:calc(50% - 25px)' src='image/gif/v-loader.gif' alt='your image'/><div style='font-family:Georgia;font-size:25px;text-align:center;margin-top:15px;'> Updating ...</div></div> </div></div>";var ele_pqpie_label_html="<div class='pqpie_lble pqpie_modal '><div class='pqpie_cmodal' style=' height:100%;width:100%'><div class='pqpie_lble_nme' style='position:relative;width:100%;height:20px;background-color:transparent;top:calc(25%);text-align:center;padding-top:3px;color:black;font-size:11px;'></div><div class='pqpie_lble_val' style='position:relative;width:100%;height:20px;background-color:transparent;top:calc(25% + 15px);text-align:center;color:black;font-size:11px;'></div> </div></div>";var CJS_REQUEST_START=1;var CJS_REQUEST_END=2;var LIST_UPDATE=11;var GRAPH_UPDATE=12;var SESSION_UPDATE=13;var DIAGRAM_UPDATE=14;var SETTINGS_UPDATE=15;var INFORMATION_UPDATE=16;var GUI_SHEETS=20;var SESSION_LIST_UPDATE=8;var SESSION_SOURCE_UPDATE=9;var SESSION_DEST_UPDATE=10;var SESSION_APP_UPDATE=11;var GRAPH_BH_UPDATE=12;var SESSION_SVS_UPDATE=79;var CLIENT_DIAGRAM=15;var SERVER_DIAGRAM=16;var SESSION_DIAGRAM=17;var TRAFFIC_DIAGRAM=18;var APP_DIAGRAM=22;var SVS_DIAGRAM=81;var SUMRY_SDC_UPDATE=19;var SUMRY_SRC_UPDATE=20;var SUMRY_APP_UPDATE=21;var SUMRY_DEST_UPDATE=76;var LSUMRY_UPDATE=53;var LSUM_SRC_T_APP=1;var LSUM_SRC_T_DEST=2;var LSUM_APP_T_SRC=3;var LSUM_APP_T_DEST=4;var LSUM_DES_T_APP=5;var LSUM_DES_T_SRC=6;var LSUM_SVS_T_SRC=7;var LSUM_SVS_T_DEST=8;var LSUM_SRC_T_SVS=9;var LSUM_DES_T_SVS=10;var INFO_MANW_ST_RQ=20;var INFO_MANW_CT_RQ=21;var INFO_SETW_RQ=22;var INFO_DASH_NOTIFIC=24;var MENUBAR_SHEET=82;var PROPERTY_SHEET=83;var LMLTS_UBW_UPDATE=6;var LSES_UPDATE=8;var LSRC_UPDATE=9;var LDES_UPDATE=10;var LMLTAPPU_UPDATE=11;var LAPP_UPDATE=12;var LABW_UPDATE=15;var LSVS_UPDATE=18;var LURLDATA_UPDATE=21;var SCD_TRAFIC=1;var SCD_SESSIONS=2;var SCD_DELAY=3;var HIST_TYPE_MINE=11;var HIST_TYPE_NEXT=12;var HIST_TYPE_PREV=13;var VLAN_ONE_MSEC=0;var VLAN_TEN_SEC=1;var PDEV_HASY_CHANGE_DEVID=158;var PDEV_HASY_CHANGE_VIP=159;var PDEV_HASY_CHANGE_STATE=160;var PDEV_HASY_ADD_RMT_DEV=161;var PDEV_HASY_DEL_RMT_DEV=162;var PDEV_GET_RMT_LIST=163;var HA_UNDEFINED=0;var HA_PRIMARY=1;var HA_SECONDARY=2;var HA_INTERMEDIARY1=3;var HA_INTERMEDIARY2=4;var PDEV_UPDATE_STATE=136;var PDEV_CHECK_UPDATE=137;var PDEV_CHECK_UPDATE_OPERATION=138;var WO_GET_VERSION_INFO=139;var PDEV_SET_UPDATE_EMAIL=140;var PDEV_UPDATE_RETRY=141;var PDEV_INSTALL_OFFLINE_UPDATE=149;var PDEV_INSTALL_LICENSE=150;var PDEV_SWITCH_ONLINE_UPDATE=151;var PDEV_INSTALL_SIGNATURE_FILE=163;var NA_CNFGBKUP_MOD_SERVER_CFG=192;var NA_CNFGBKUP_MOD_CFG_TIME=193;var NA_CNFGBKUP_BKUP_NOW=194;var NA_CNFGBKUP_RESTORE_NOW=195;var NA_CNFGBKUP_DETAIL_LIST=196;var CURRENT_WINDOW=0;var WINDOW_LINK_SUMMARY=1;var WINDOW_USER_SUMMARY=2;var WINDOW_DASH_SOURCE=3;var WINDOW_DASH_DEST=4;var WINDOW_DASH_APP=5;var WINDOW_APP_LINK_UTIL=6;var WINDOW_SES_SES=7;var WINDOW_SES_SOURCE=8;var WINDOW_SES_DEST=9;var WINDOW_SES_APP=10;var WINDOW_SES_SERV=11;var WINDOW_LIVE_SESSION_WATCH=12;var WINDOW_LIVE_SERVER_WATCH=13;var WINDOW_LIVE_URL_WATCH=14;var WINDOW_TRAFFIC=15;var WINDOW_RULE_DESTINATIONS=16;var WINDOW_RULE_URL=17;var WINDOW_RULE_APPLICATIONS=18;var WINDOW_RULE_SERVICE=19;var WINDOW_OBJ_SCHEDULE=20;var WINDOW_OBJ_ADMIN_PIPES=21;var WINDOW_OBJ_USER_PIPES=22;var WINDOW_BW_HIST=23;var WINDOW_PROFILE=24;var WINDOW_MANAGEMENT=25;var WINDOW_HIGH_AVAILABILITY=26;var WINDOW_MAINTENANCE=27;var WINDOW_SYSTEM_UPDATES=28;var pieColorScheme=["#690f0f","#191948","#012e44","#af2458","#cc5216","#d89c07","#d8c44e","#9b5dcc","#438de2","#1e987a"];var pieColorScheme_10=["#690f0f","#191948","#012e44","#af2458","#cc5216","#d89c07","#d8c44e","#9b5dcc","#438de2","#1e987a"];var pieColorScheme_20=["#800000","#191970","#012e44","#00CC99","#DFFF00","#B8860B","#E0115F","#8F00FF","#0000FF","#30D5C8","#138808","#FFDB58","#FF0000","#8B008B","#000080","#007BA7","#FFB347","#00755E","#db530f","#FFFF31"];var pieColorScheme_30=["#800000","#191970","#012e44","#00CC99","#DFFF00","#B8860B","#E0115F","#8F00FF","#0000FF","#30D5C8","#138808","#FFDB58","#FF5A36","#FF0000","#8B008B","#000080","#007BA7","#00755E","#FFFF31","#FFB347","#66FF00","#966FD6","#FCF75E","#E52B50","#9400D3","#0000EE","#00FFFF","#008000","#FF00FF","#FFBF00"];var pieColorScheme_40=["#800000","#191970","#30D5C8","#DFFF00","#B8860B","#E0115F","#8F00FF","#007FFF","#00CD00","#FFDF00","#FF5A36","#FF007F","#6495ED","#138808","#966FD6","#FF0000","#800080","#00009C","#00CC99","#FFFF31","#FF8C00","#FFDB58","#E30022","#9400D3","#0000EE","#00755E","#FF6700","#76EE00","#7CFC00","#E30B5D","#012e44","#008000","#FF1C00","#A7FC00","#00FFFF","#D1E231","#FCF75E","#FFBF00","#FF00FF","#03C03C"];var pieColorScheme_50=["#800000","#191970","#012e44","#00CC99","#DFFF00","#B8860B","#E0115F","#8F00FF","#0000FF","#30D5C8","#138808","#FFDB58","#FF5A36","#FF0000","#8B008B","#000080","#007BA7","#00755E","#FFFF31","#FFB347","#66FF00","#966FD6","#FCF75E","#E52B50","#9400D3","#0000EE","#00FFFF","#008000","#FFBF00","#FF6700","#D1E231","#7CFC00","#FF1C00","#E30022","#800080","#00009C","#6495ED","#00CD00","#FFDF00","#FF8C00","#A7FC00","#E30B5D","#007FFF","#7FFFD4","#03C03C","#CB410B","#FF007F","#76EE00","#FF00FF","#FF3800"];var application_list=[];var pq_services_list=[];var pq_2_16_32=function(c,b){var a=c+(b<<16);return a};var pq_1_16_2_8_32=function(c,b,d){var a=c+(b<<16)+(d<<24);return a};var pq_4_8_32=function(c,b,d,e){var a=c+(b<<8)+(d<<16)+(e<<24);return a};var pq_2_32_64=function(b,a){};var pq_32_4_8=function(b){var a={one:b&255,two:(b>>8)&255,three:(b>>16)&255,four:(b>>24)&255};return a};var pq_32_2_16=function(b){var a={one:b&65535,two:(b>>16)&65535};return a};var pq_32_1_16_2_8=function(b){var a={one:b&65535,two:(b>>16)&255,three:(b>>24)&255};return a};var pq_32_2_8_1_16=function(b){var a={one:(b>>16)&65535,two:(b>>8)&255,three:(b)&255};return a};function dot2num(a){var b=a.split(".");return((((((+b[0])*256)+(+b[1]))*256)+(+b[2]))*256)+(+b[3])}function dot2numR(a){var b=a.split(".");return((((((+b[3])*256)+(+b[2]))*256)+(+b[1]))*256)+(+b[0])}function num2dot(a){var c=a%256;for(var b=3;b>0;b--){a=Math.floor(a/256);c=a%256+"."+c}return c}function num2dotR(a){var c=a%256;for(var b=3;b>0;b--){a=Math.floor(a/256);c=c+"."+a%256}return c}function var2num(a){return +a}function pq_pad(c,a,b){b=b||"0";c=c+"";return c.length>=a?c:new Array(a-c.length+1).join(b)+c}var get_T_time=function(a){a.setHours(a.getHours()+5);a.setMinutes(a.getMinutes()+30);return a.toISOString().slice(0,-5)};var get_Ts_time=function(a){a.setHours(a.getHours()+5);a.setMinutes(a.getMinutes()+30);return a.toISOString().slice(0,-8)};var pq_get_usage=function(a){if(a>=1000000000000){return(a/1000000000000).toFixed(2)+" TB"}else{if(a>=1000000000){return(a/1000000000).toFixed(2)+" GB"}else{if(a>=1000000){return(a/1000000).toFixed(2)+" MB"}else{if(a>=1000){return(a/1000).toFixed(2)+" KB"}else{return(a/1).toFixed(2)+" B"}}}}};var pq_get_file_size=function(a){if(a>=1024*1024*1024*1024){return(a/1024*1024*1024*1024).toFixed(2)+" TB"}else{if(a>=(1024*1024*1024)){return(a/(1024*1024*1024)).toFixed(2)+" GB"}else{if(a>=1024*1024){return(a/(1024*1024)).toFixed(2)+" MB"}else{if(a>=1024){return(a/1024).toFixed(2)+" KB"}else{return(a/1).toFixed(2)+" B"}}}}};var pq_get_usage_det_rep=function(a){if(a>=1000000000000){return(a/1000000000000).toFixed(0)+" TB"}else{if(a>=1000000000){return(a/1000000000).toFixed(0)+" GB"}else{if(a>=1000000){return(a/1000000).toFixed(0)+" MB"}else{if(a>=1000){return(a/1000).toFixed(0)+" KB"}else{return(a/1).toFixed(0)+" B"}}}}};function gen_random_colour(){var a="#"+Math.random().toString(16).substr(2,6);return a}pq_rgbToHex=function(d,c,a){return"#"+((1<<24)+(d<<16)+(c<<8)+a).toString(16).slice(1)};function rgbToHex(b){if(b.substr(0,1)==="#"){return b}var e=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(b);var f=parseInt(e[2]);var d=parseInt(e[3]);var a=parseInt(e[4]);var c=a|(d<<8)|(f<<16);return e[1]+"#"+c.toString(16)}var bw_decode=function(d){var b=d>>30;var c=d&&1073741823;var a={type:b,bw:c};return a};var uint32_float=function(c){var b=new Uint32Array(1);b[0]=c;var a=new Float32Array(b.buffer);return a[0]};function validateMac(c){var b=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/;var a=b.test(c);return a}var MacAddressToInt=function(f){var c=f.split(":");if(c.length===6){var b=(parseInt(c[0],16)<<8)+parseInt(c[1],16);var a=(parseInt(c[2],16)<<24)+(parseInt(c[3],16)<<16)+(parseInt(c[4],16)<<8)+parseInt(c[5],16);var e={uo:b,ut:a};return e}return"error"};var IntToMacAddress=function(b,a){var c=pq_pad((a>>8).toString(16),2)+":"+pq_pad((a&255).toString(16),2)+":"+pq_pad((b>>>24).toString(16),2)+":"+pq_pad(((b>>16)&255).toString(16),2)+":"+pq_pad(((b>>8)&255).toString(16),2)+":"+pq_pad(((b)&255).toString(16),2);return c};pq_dygraph_tooltip=function(){return{backgroundColor:"#FFFFFF",border:"1px solid #006ACB",borderRadius:"5px",boxShadow:"1px 1px 4px #CCCCCC",fontFamily:"Lucida Grande , Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif",fontSize:"12px",fontWeight:"normal",opacity:"0.85",padding:"3px"}};y_axis_bw_val_formatter=function(d,a){var b=(d*1000*1000);var c;if(b>=1000000000){c=(b/1000000000).toFixed(a)+" Gbps"}else{if(b>=1000000){c=(b/1000000).toFixed(a)+" Mbps"}else{if(b>=1000){c=(b/1000).toFixed(a)+" Kbps"}else{c=(b).toFixed(a)+" bps"}}}return c};function closeModalInit(a){switch(a){case 1:$(".close").on("click",function(){$(".close").parent().parent().hide()});break;case 2:$(".statusModalButton").on("click",function(){$(".statusModalButton").parent().parent().parent().hide()});break}}function app_serv_dissect(a){if(a>=application_list.length){return pq_services_list[parseInt(a-65536)]}else{return application_list[a]}}function getIpRangeFromAddressAndNetmask(g,c){var e=g.split(".");var d=["0","0","0","0"];if(!/\d+\.\d+\.\d+\.\d+/.test(c)){d=("1".repeat(parseInt(c,10))+"0".repeat(32-parseInt(c,10))).match(/.{1,8}/g);d=d.map(function(h){return parseInt(h,2)})}else{d=c.split(".").map(function(h){return parseInt(h,10)})}var b=d.map(function(h){return h^255});var a=e.map(function(j,h){return j&d[h]});var f=e.map(function(j,h){return j|b[h]});return[a.join("."),f.join(".")]}function search_dropdown_list(k,a,c){var m=c;var n=a.options;for(var d=0;d<n.length;d++){var f=n[d];var l=f.text;var h=l.toLowerCase();var g=m.toLowerCase();var j=new RegExp("^"+m,"i");var e=l.match(j);var b=h.indexOf(g)!==-1;if(e||b){f.selected=true;return}k.selectedIndex=0}}var PQ_WO_ADDR_SUNET=2;var PQ_WO_ADDR_IPRNG=3;var WO_SETTINGS_UPDATE=18;var WO_GET_EVENT_LIST=24;var PQ_OP_SUCCESS=10;var PQ_OP_FAIL=2;var PQ_OP_DUPLICATE=4;var PQ_OP_MAXR=11;var PQ_OP_INVID=12;var TS_MACADR_LIST_ADD=166;var TS_MACADR_LIST_UPDATE=167;var TS_MACADR_LIST_DELETE=168;var TS_MACADR_GET_LIST=169;var WO_SCHD_RECURRING=21;var WO_SCHD_TIMEPERIOD=22;var WO_SPR_PR_LOW=1;var WO_SPR_PR_MEDIUM=50;var WO_SPR_PR_HEIGH=99;var WO_ACT_BLOCK=1;var WO_ACT_ALLOW=2;var WO_QUTA_RULE_LIST_ADD=129;var WO_QUTA_RULE_LIST_UPDATE=130;var WO_QUTA_RULE_LIST_DELETE=131;var WO_QUTA_RULE_LIST_SWAP=132;var WO_GET_QUTA_RULE_LIST=133;var WO_QUTA_APPPROF_LIST_ADD=122;var WO_QUTA_APPPROF_LIST_DELETE=123;var WO_GET_QUTA_APPPROF_LIST=124;var WO_QUTA_APPRULE_LIST_ADD=125;var WO_QUTA_APPRULE_LIST_UPDATE=126;var WO_QUTA_APPRULE_LIST_DELETE=127;var WO_GET_QUTA_APPRULE_LIST=128;var WO_QUTA_URLPROF_LIST_ADD=152;var WO_QUTA_URLPROF_LIST_DELETE=153;var WO_GET_QUTA_URLPROF_LIST=154;var WO_QUTA_URLRULE_LIST_ADD=155;var WO_QUTA_URLRULE_LIST_UPDATE=156;var WO_QUTA_URLRULE_LIST_DELETE=157;var WO_GET_QUTA_URLRULE_LIST=158;var WO_QUTA_SVSPROF_LIST_ADD=159;var WO_QUTA_SVSPROF_LIST_DELETE=160;var WO_GET_QUTA_SVSPROF_LIST=161;var WO_QUTA_SVSRULE_LIST_ADD=162;var WO_QUTA_SVSRULE_LIST_UPDATE=163;var WO_QUTA_SVSRULE_LIST_DELETE=164;var WO_GET_QUTA_SVSRULE_LIST=165;var WO_QUTAELE_LIST_ADD=104;var WO_QUTAELE_LIST_DELETE=105;var WO_QUTAELE_LIST_UPDATE=106;var WO_GET_QUTAELE_LIST=107;var RULE_TABLE=0;var PIPE_SCHEDULE_TABLE=1;var URL_PROF_TABLE=2;var APP_PROF_TABLE=3;var SERV_PROF_TABLE=4;var WO_AWPROF_LIST_ADD=142;var WO_AWPROF_LIST_DELETE=143;var WO_GET_AWPROF_LIST=144;var WO_AWPROF_ITEM_ADD=145;var WO_AWPROF_ITEM_UPDATE=146;var WO_AWPROF_ITEM_DELETE=147;var WO_GET_AWPROF_ITEM_LIST=148;var WO_ADDR_LIST_ADD=25;var WO_ADDR_LIST_UPDATE=26;var WO_ADDR_LIST_DELETE=27;var WO_GET_ADDR_LIST=28;var WO_ADMIN_SHAPER_LIST_ADD=253;var WO_ADMIN_SHAPER_LIST_UPDATE=54;var WO_ADMIN_SHAPER_LIST_DELETE=254;var WO_GET_ADMIN_SHAPER_LIST=56;var WO_SHAPER_LIST_ADD=53;var WO_SHAPER_LIST_UPDATE=252;var WO_SHAPER_LIST_DELETE=55;var WO_GET_USER_SHAPER_LIST=255;var WO_SCHD_LIST_ADD=65;var WO_SCHD_LIST_UPDATE=66;var WO_SCHD_LIST_DELETE=67;var WO_GET_SCHD_LIST=68;var ML_APP_RULE_ADD=150;var ML_APP_RULE_UPDATE=151;var ML_APP_RULE_DELETE=152;var WO_GET_APPRULE_LIST=75;var ML_URL_RULE_ADD=96;var ML_URL_RULE_UPDATE=98;var WO_URLRULE_LIST_DELETE=97;var WO_GET_URLRULE_LIST=99;var ML_SVS_RULE_ADD=156;var ML_SVS_RULE_UPDATE=157;var ML_SVS_RULE_DELETE=115;var WO_GET_SVSITEM_LIST=110;var feature_array=[];var sys_update_status="System was updated to the latest version";var connection_error_status="Connection to the Server disrupted. Please check your connection and retry";var update_info;var is_online_update_on=false;var offline_file_size;var config_backup_data=[];get_system_update_info=function(){var b=update_acjs_elements(WO_GET_VERSION_INFO,"",0,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(d,e,c){update_info=d;display_system_update_info();get_config_backup_details()}).fail(function(c,e,d){console.error("Problems when posting...")})};display_system_update_info=function(){var e=update_info.split("&");var c=e[1];var b=new Date(+e[5]*1000);var a=new Date(+e[6]*1000);var d=new Date(+e[7]*1000);var f=moment(new Date(+e[10]*1000)).format(" Do MMM YYYY hh:mm:ss A");$("#fw_version").text("Firmware Version "+fw_version);$("#sw_version").text("Software Version "+sw_version);$("#last_upd_chk_time").text(b);$("#last_upd_time").text(a);$("#app_signature_info").text("Version "+e[9]);$("#config_backup_info").text("Last configuration backup: "+f);if(c!=="-"){$("#add_sys_admin_email").hide();$("#sys_admin_cont_email_group").show();$("#sys_admin_cont_email").text(c)}if(e[5]!=="0"){$("#last_upd_chk_time").text(b)}else{$("#last_upd_chk_time").text("None")}if(e[6]!=="0"){$("#last_upd_time").text(a)}else{$("#last_upd_time").text("None")}if(e[7]!=="0"){$("#sched_upd_time").text(d)}else{$("#sched_upd_time").text("None")}is_online_update_on=e[8];if(!parseInt(is_online_update_on)){$("#sched_upd_time").text("This feature is unavailable in offline mode");$("#last_upd_chk_time").text("This feature is unavailable in offline mode")}pq_online_update_state_changed(0,parseInt(e[8]))};get_new_update=function(a){feature_array=[];var c=update_acjs_elements(PDEV_CHECK_UPDATE,"",0,0,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(g,j,f){if(g==="u"){SuccessStatus("System is up to date")}else{if(g==="l"){AbortStatus("Unable to connect to server. Please check your network connection.");$("#abortStatusModalProceed").click(function(){$("#StatusModal").hide();get_new_update()})}else{if(g==="f"){InvalidStatus("Operation Failed. Please check your settings")}else{if(g==="c"){LoadingStatus("Checking for updates ...");setTimeout(function(){$("#StatusModal").hide();if(mbx_loading_cancel_status!=1){get_new_update()}},10000)}else{if(g==="r"){AbortStatus("Update file corrupted! Retry to update again.");$("#abortStatusModalProceed").click(function(){var l=update_acjs_elements(PDEV_UPDATE_RETRY,"",0,0,0,0,0,0);var k=$.cookie("pqsf");$.ajax({data:l,processData:false,headers:{PARAQUMTEC:k},timeout:10000,type:"POST",url:"/"}).done(function(n,o,m){}).fail(function(m,o,n){console.error("Problems when posting...")});$("#StatusModal").hide();get_new_update()})}else{$("#New_Update_Window").show();var h=g.split("#");$("#set_new_update_version").text("Version "+h[0]);var e=h[1].split("&");for(var d=0;d<e.length;d++){feature_array[d]=e[d]}new_update_popup();$("#New_Update_Window").show()}}}}}}).fail(function(d,f,e){console.error("Problems when posting...")})};new_update_popup=function(){$("#Update_Details").css({height:feature_array.length*25+"px"});$("#New_Update_Window_Modal").css({height:185+$("#Update_Details").height()+"px"});$("#Update_Details").children().detach();$("#Update_Details").append("<ul id='up_table'>");for(i=0;i<feature_array.length;i++){$("#up_table").append("<li>"+feature_array[i]+"</li>")}$("#up_table").append("</ul>");$("#update_set_time").click(function(){$("#update_now").hide();$("#update_later").hide();$("#update_set_time").hide();$("#set_update_sched").show();$("#set_time_ok").show();$("#set_time_Cancel").show()});$("#set_time_Cancel").click(function(){$("#update_now").show();$("#update_later").show();$("#update_set_time").show();$("#set_update_sched").hide();$("#set_time_ok").hide();$("#set_time_Cancel").hide()});$("#set_time_ok").click(function(){schedule_update(parseInt($("#set_update_sched option:selected").val()));$("#New_Update_Window").hide()})};update_system_now=function(){schedule_update(0);$("#New_Update_Window").hide()};init_update_window=function(){$("#add_sys_admin_email").click(function(){$("#AddSystemAdminEmail").show();$("#sys_admin_email_title").text("Add Email");$("#addSysAdminEmailToSystem").text("Add to System");closeModalInit(1)});$("#update_sys_admin_email").click(function(){$("#AddSystemAdminEmail").show();$("#sys_admin_email_title").text("Update Email");$("#addSysAdminEmailToSystem").text("Update");closeModalInit(1)});$("#addSysAdminEmailToSystem").click(function(){update_sys_admin_email($("#addSysAdminEmail").val());$("#AddSystemAdminEmail").hide()});$("#offline_file_select").on("change",function(){var a=this.files[0];offline_file_size=a.size;if(a.size>2*1024*1024*1024){}display_file_name(this.value,"upload_file_name");$("#offline_file_upload").attr("disabled",false)});$("#offline_file_upload").on("click",function(){$.ajax({url:"pqsysupdate",type:"POST",data:new FormData($("#offline_update_form")[0]),cache:false,contentType:false,processData:false,xhr:function(){var a=$.ajaxSettings.xhr();if(a.upload){$("#offline_upload_progress").show();a.upload.addEventListener("progress",function(b){if(b.lengthComputable){var c=b.loaded/b.total;$("#offline_upload_progress").attr({value:b.loaded,max:b.total});$("#offline_upload_progress").html(c*100+" %")}},false);a.upload.addEventListener("loadend",function(b){$("#Offline_Update_Window").hide();$("#Offline_Update_Install_Window").show();closeModalInit(2)})}return a}})});$("#app_signaure_file_select").on("change",function(){var a=this.files[0];offline_file_size=a.size;if(a.size>2*1024*1024*1024){}display_file_name(this.value,"upload_app_sig_file_name");$("#app_signaure_file_upload").attr("disabled",false)});$("#app_signaure_file_upload").on("click",function(){$.ajax({url:"pqlicinfo",type:"POST",data:new FormData($("#app_signature_update_form")[0]),cache:false,contentType:false,processData:false,xhr:function(){var a=$.ajaxSettings.xhr();if(a.upload){a.upload.addEventListener("loadend",function(b){$("#Signature_Update_Window").hide();closeModalInit(2)})}return a}})});$("#license_file_select").on("change",function(){var a=this.files[0];offline_file_size=a.size;if(a.size>2*1024*1024*1024){}display_file_name(this.value,"upload_license_name");$("#license_file_upload").attr("disabled",false)});$("#license_file_upload").on("click",function(){$.ajax({url:"pqlicinfo",type:"POST",data:new FormData($("#license_update_form")[0]),cache:false,contentType:false,processData:false,xhr:function(){var a=$.ajaxSettings.xhr();if(a.upload){a.upload.addEventListener("loadend",function(b){$("#License_Update_Window").hide();$("#License_Update_Install_Window").show();closeModalInit(2)})}return a}})});$("#sched_config_add").click(function(){if($("#bck_serv_config_hide").is(":visible")){$(".pq_upd_config_bck_serv ").animate({height:"toggle"},500,function(){});$("#bck_serv_config_hide").hide();$("#bck_serv_config_add").show()}$(".pq_upd_config_bck_serv ").hide();$("#Configuration_Backup_Window_Modal").css({height:"380px"});$("#sched_config_add").hide();$("#sched_config_hide").show();$(".pq_upd_config_bck_sched ").animate({height:"toggle"},500,function(){})});$("#sched_config_hide").click(function(){$("#Configuration_Backup_Window_Modal").css({height:"330px"});$("#sched_config_hide").hide();$("#sched_config_add").show();$(".pq_upd_config_bck_sched ").animate({height:"toggle"},500,function(){})});$("#bck_serv_config_add").click(function(){if($("#sched_config_hide").is(":visible")){$(".pq_upd_config_bck_sched ").animate({height:"toggle"},500,function(){});$("#sched_config_hide").hide();$("#sched_config_add").show()}$("#Configuration_Backup_Window_Modal").css({height:"380px"});$("#bck_serv_config_add").hide();$("#bck_serv_config_hide").show();$(".pq_upd_config_bck_serv ").animate({height:"toggle"},500,function(){})});$("#bck_serv_config_hide").click(function(){$("#Configuration_Backup_Window_Modal").css({height:"330px"});$("#bck_serv_config_hide").hide();$("#bck_serv_config_add").show();$(".pq_upd_config_bck_serv ").animate({height:"toggle"},500,function(){})});$("#set_bck_sched_ok").click(function(){set_config_backup_sched(parseInt($("#set_bck_sched option:selected").val()))});$("#set_bck_serv_config_ok").click(function(){set_config_backup_serv(dot2num($("#config_bck_ip").val()),parseInt($("#config_bck_port").val()))})};pq_online_update_state_changed=function(a,b){if(a.checked||b){is_online_update_on=true;$("#online_updt_switch").prop("checked",true);$("#online_update_btn").show();$("#scheduled_update_header").css({background:"#035252"});$("#last_update_check_header").css({background:"#035252"});if(typeof(b)==="undefined"){switch_online_update(1)}}else{is_online_update_on=false;$("#scheduled_update_header").css({background:"#ccc"});$("#last_update_check_header").css({background:"#ccc"});$("#online_update_btn").hide();if(typeof(b)==="undefined"){switch_online_update(0)}}};update_offline=function(){$("#Offline_Update_Window").show();closeModalInit(1)};backup_configuration=function(){$("#Configuration_Backup_Window").show();closeModalInit(1)};update_backup_conf_info=function(){var a=config_backup_data.split("&");$("#current_conf_backup_serv_info").text("Server IP: "+num2dot(a[1])+" Port: "+a[2]);$("#current_conf_backup_sched_info").text("Current schedule frequency: "+a[3]+" hour(s)");$("#last_conf_backup_info").text("Last configuration backup: "+moment(new Date(+a[4]*1000)).format(" Do MMM YYYY hh:mm:ss A"))};update_license=function(){$("#License_Update_Window").show();closeModalInit(1)};update_app_signature=function(){$("#Signature_Update_Window").show();closeModalInit(1)};function display_file_name(b,c){var a=b.split("\\");$("#"+c).val(a[a.length-1]+" ("+pq_get_file_size(offline_file_size)+")")}var global_rule_user=0;var dest_rules;var url_rules;var app_rules;var serv_rules;var admin_pipe_list=[];var admin_pipe_list_data=[];var admin_pipe_list_tt=[];var user_pipe_list=[];var user_pipe_list_data=[];var user_pipe_list_tt=[];var schedule_list=[];var schedule_list_data=[];var schedule_list_tt=[];var ACTIVE_AD=false;var ACTIVE_DHCP=false;function Init_WO_Param(c,h,e,g){var j=global_rule_user;if(c){schedule_list=[];schedule_list_data=[];schedule_list_tt=[];var b=$.cookie("pqsf");var f=new Uint32Array(2);f[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,WO_GET_SCHD_LIST,0);f[1]=j;$.ajax({data:f.buffer,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(n,p,m){schedule_list[0]="None";var o=n.split(";");for(var l=0;l<o.length-1;l++){schedule_list_data[l]=o[l];var k=o[l].split("&");schedule_list[k[1]]=k[2];schedule_list_tt[k[1]]=o[l]}d()}).fail(function(k,m,l){console.error("Problems when posting...")})}else{d()}function d(){if(h){admin_pipe_list=[];admin_pipe_list_data=[];admin_pipe_list_tt=[];var k=$.cookie("pqsf");var l=new Uint32Array(2);l[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,WO_GET_ADMIN_SHAPER_LIST,0);$.ajax({data:l.buffer,processData:false,headers:{PARAQUMTEC:k},timeout:10000,type:"POST",url:"/"}).done(function(p,r,o){var q=p.split(";");for(var n=0;n<q.length-1;n++){admin_pipe_list_data[n]=q[n];var m=q[n].split("&");admin_pipe_list[m[0]]=m[1];admin_pipe_list_tt[m[0]]=q[n]}a()}).fail(function(m,o,n){console.error("Problems when posting...")})}else{a()}}function a(){if(e){user_pipe_list=[];user_pipe_list_data=[];user_pipe_list_tt=[];var k=$.cookie("pqsf");var l=new Uint32Array(2);l[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,WO_GET_USER_SHAPER_LIST,0);l[1]=j;$.ajax({data:l.buffer,processData:false,headers:{PARAQUMTEC:k},timeout:10000,type:"POST",url:"/"}).done(function(p,r,o){var q=p.split(";");for(var n=0;n<q.length-1;n++){user_pipe_list_data[n]=q[n];var m=q[n].split("&");user_pipe_list[m[1]]=m[3];user_pipe_list_tt[m[1]]=q[n]}if(g){reload_user_based_interface()}}).fail(function(m,o,n){console.error("Problems when posting...")})}}}function Create(c){var b=null;var a=null;switch(c){case 1:b="#AddDestRuleModal";a=document.getElementsByClassName("close")[0];break;case 2:b="#AddURLRuleModal";a=document.getElementsByClassName("close")[0];break;case 3:b="#AddAppRuleModal";a=document.getElementsByClassName("close")[0];break;case 4:b="#AddServiceRuleModal";a=document.getElementsByClassName("close")[0];break;case 5:b="#CreateScheduleModal";a=document.getElementsByClassName("close")[0];setFormatRecur();break;case 6:b="#CreateAdminPipeModal";a=document.getElementsByClassName("close")[0];break;case 7:b="#CreateUserPipeModal";a=document.getElementsByClassName("close")[0];break;case 10:b="#CreateNewURL";a=document.getElementsByClassName("close")[0];break;case 11:b="#CreateNewService";a=document.getElementsByClassName("close")[0];break;case 12:b="#CreateServiceName";a=document.getElementsByClassName("close")[0];break;case 14:b="#CreatePipeSchedulesModal";a=document.getElementsByClassName("close")[0];init_user_pipes("#add_shaper_to_sched");$("#add_shaper_to_sched option[value='0']").remove();$("#add_sched_to_pipe option[value='0']").remove();break;case 15:b="#CreateMacModal";a=document.getElementsByClassName("close")[0];break;case 16:b="#CreateAddrProfName";a=document.getElementsByClassName("close")[0];break;case 17:b="#AddAddrProfModal";a=document.getElementsByClassName("close")[1];break;default:alert("Unable to Create new entry in the Table!")}$(b).show();a.onclick=function(){$(b).hide()};window.onclick=function(d){if(d.target===b){$(b).hide()}};if(ACTIVE_AD){$(".ad_display").show()}if(ACTIVE_DHCP){$(".dhcp_display").show()}}function Edit(c){var b=null;var a=null;rowData=null;portCount=0;$("#editSchedule").children().detach();switch(c){case 1:b="#EditDestRuleModal";a=document.getElementsByClassName("close")[1];set_dest_rule_edit_modal_elements();break;case 2:b="#EditURLRuleModal";a=document.getElementsByClassName("close")[1];set_url_rule_edit_modal_elements();break;case 3:b="#EditAppRuleModal";a=document.getElementsByClassName("close")[1];set_app_rule_edit_modal_elements();break;case 4:b="#EditServiceRuleModal";a=document.getElementsByClassName("close")[1];set_serv_rule_edit_modal_elements();break;case 5:b="#EditScheduleModal";a=document.getElementsByClassName("close")[1];EditScheduleTableModalElements("editSchedule");EditScheduleTableModal();break;case 6:b="#EditAdminPipeModal";a=document.getElementsByClassName("close")[1];set_admin_pipe_table_modal_elements();break;case 7:b="#EditUserPipeModal";a=document.getElementsByClassName("close")[1];set_user_pipe_table_modal_elements();break;case 14:b="#EditPipeSchedulesModal";a=document.getElementsByClassName("close")[1];SetPipeScheduleTableModalElements();$("#add_shaper_to_sched option[value='0']").remove();$("#edit_sched_to_pipe option[value='0']").remove();break;case 15:b="#EditMacModal";a=document.getElementsByClassName("close")[1];set_mac_table_modal_elements();break;default:alert("Unable to Delete entry in the Table!")}$(b).show();a.onclick=function(){$(b).hide()};window.onclick=function(d){if(d.target===b){$(b).hide()}};if(ACTIVE_AD){$(".ad_display").show()}if(ACTIVE_DHCP){$(".dhcp_display").show()}}function Delete(a){switch(a){case 1:delete_ml_dest_rule((dest_rule_table.row(".selected").data())[0],(dest_rule_table.row(".selected").data())[1]);break;case 2:delete_ml_url_rule((url_rule_table.row(".selected").data())[0],(url_rule_table.row(".selected").data())[1]);break;case 3:delete_ml_app_rule((app_rule_table.row(".selected").data())[0],(app_rule_table.row(".selected").data())[1]);break;case 4:delete_ml_serv_rule((service_rule_table.row(".selected").data())[0],(service_rule_table.row(".selected").data())[1]);break;case 5:delete_ml_schedule((schedule_table.row(".selected").data())[0],(schedule_table.row(".selected").data())[1]);break;case 6:delete_ml_admin_pipe((admin_pipe_table.row(".selected").data())[0]);break;case 7:delete_ml_user_pipe((user_pipe_table.row(".selected").data())[0],(user_pipe_table.row(".selected").data())[1]);break;case 9:delete_ml_url_rule;delete_wo_url_from_prof((url_rule_table.row(".selected").data())[0],url_prof_id);break;case 10:delete_wo_url_from_list((url_list_table.row(".selected").data())[0]);break;case 11:delete_wo_service_from_list((service_list_table.row(".selected").data())[0]);break;case 12:delete_wo_service_prof((service_prof_table.row(".selected").data())[0]);break;case 13:case 14:delete_wo_sched_shaper((pipe_schedules_table.row(".selected").data())[0]);break;case 15:delete_wo_mac_from_list((mac_list_table.row(".selected").data())[0]);break;case 16:delete_wo_addr_prof((addr_prof_table.row(".selected").data())[0]);break;case 17:delete_wo_addr_from_prof((addr_prof_content_table.row(".selected").data())[0],(addr_prof_content_table.row(".selected").data())[1]);break;default:alert("Unable to delete data!")}Clear()}function Clear(){$(".edit, .reset, .delete").attr("disabled",true);selectedRowCount=0}append_sched_def_modal_shapers=function(j,m,c,b,g,d,e,n,h,f,l,a){$("#"+e).children().detach();if($("#"+b+" option:selected").val()==="2"){var k="<label class='drop_down_label'> "+j+" Downlink Pipe : </label><select id='"+g+"' class='field_prop'></select> <br><br><label class='drop_down_label'> "+j+" Uplink Pipe : </label><select id='"+d+"' class='field_prop'></select> <br><br>";if($("#"+c+" option:selected").val()==="2"){$("#"+m).css({height:"100%","max-height":f});$("#"+e).append(k)}else{$("#"+m).css({height:"100%","max-height":l});$("#"+e).append(k);$("#"+n).children().detach()}init_user_pipes("#"+g);init_user_pipes("#"+d)}else{if($("#"+c+"  option:selected").val()==="2"){$("#"+m).css({height:"100%","max-height":l});var k="<label class='drop_down_label'> "+j+" Downlink Pipe : </label><select id='"+g+"' class='field_prop'></select> <br><br><label class='drop_down_label'> "+j+" Uplink Pipe : </label><select id='"+d+"' class='field_prop'></select> <br><br>";$("#"+e).append(k);init_user_pipes("#"+g);init_user_pipes("#"+d);$("#"+h).children().detach()}else{$("#"+m).css({height:"100%","max-height":a})}}};function set_rule_table_pipes(d,e){var c;var b;switch(d){case WINDOW_RULE_DESTINATIONS:c=dest_rule_table;b="dest";break;case WINDOW_RULE_URL:c=url_rule_table;b="url";break;case WINDOW_RULE_APPLICATIONS:c=app_rule_table;b="app";break;case WINDOW_RULE_SERVICE:c=service_rule_table;b="serv";break}var a=c.row(".selected").data();$("#edit_"+b+"_rule_schedule option").filter(function(){return this.text===a[e]}).prop("selected",true);$("#edit_sched_"+b+"_rule_action option").filter(function(){return this.text===a[e+1]}).prop("selected",true);$("#edit_def_"+b+"_rule_action option").filter(function(){return this.text===a[e+4]}).prop("selected",true);switch(d){case WINDOW_RULE_DESTINATIONS:append_sched_def_modal_shapers("Scheduled","EditDestRuleModalContent","edit_sched_dest_rule_action","edit_def_dest_rule_action","edit_dest_rule_sched_dlink_pipe","edit_dest_rule_sched_ulink_pipe","edit_sched_pipes_dest_rule","edit_sched_pipes_dest_rule","edit_def_pipes_dest_rule","505px","415px","325px");append_sched_def_modal_shapers("Default","EditDestRuleModalContent","edit_sched_dest_rule_action","edit_def_dest_rule_action","edit_dest_rule_def_dlink_pipe","edit_dest_rule_def_ulink_pipe","edit_def_pipes_dest_rule","edit_sched_pipes_dest_rule","edit_def_pipes_dest_rule","505px","415px","325px");break;case WINDOW_RULE_URL:append_sched_def_modal_shapers("Scheduled","EditURLRuleModalContent","edit_sched_url_rule_action","edit_def_url_rule_action","edit_url_rule_sched_dlink_pipe","edit_url_rule_sched_ulink_pipe","edit_sched_pipes_url_rule","edit_sched_pipes_url_rule","edit_def_pipes_url_rule","555px","465px","375px");append_sched_def_modal_shapers("Default","EditURLRuleModalContent","edit_sched_url_rule_action","edit_def_url_rule_action","edit_url_rule_def_dlink_pipe","edit_url_rule_def_ulink_pipe","edit_def_pipes_url_rule","edit_sched_pipes_url_rule","edit_def_pipes_url_rule","555px","465px","375px");break;case WINDOW_RULE_APPLICATIONS:append_sched_def_modal_shapers("Scheduled","EditAppRuleModalContent","edit_sched_app_rule_action","edit_def_app_rule_action","edit_app_rule_sched_dlink_pipe","edit_app_rule_sched_ulink_pipe","edit_sched_pipes_app_rule","edit_sched_pipes_app_rule","edit_def_pipes_app_rule","490px","400px","310px");append_sched_def_modal_shapers("Default","EditAppRuleModalContent","edit_sched_app_rule_action","edit_def_app_rule_action","edit_app_rule_def_dlink_pipe","edit_app_rule_def_ulink_pipe","edit_def_pipes_app_rule","edit_sched_pipes_app_rule","edit_def_pipes_app_rule","490px","400px","310px");break;case WINDOW_RULE_SERVICE:append_sched_def_modal_shapers("Scheduled","EditServiceRuleModalContent","edit_sched_serv_rule_action","edit_def_serv_rule_action","edit_serv_rule_sched_dlink_pipe","edit_serv_rule_sched_ulink_pipe","edit_sched_pipes_serv_rule","edit_sched_pipes_serv_rule","edit_def_pipes_serv_rule","535px","445px","355px");append_sched_def_modal_shapers("Default","EditServiceRuleModalContent","edit_sched_serv_rule_action","edit_def_serv_rule_action","edit_serv_rule_def_dlink_pipe","edit_serv_rule_def_ulink_pipe","edit_def_pipes_serv_rule","edit_sched_pipes_serv_rule","edit_def_pipes_serv_rule","535px","445px","355px");break}if(a[e+1]==="Shape"){$("#edit_"+b+"_rule_sched_dlink_pipe option").filter(function(){return this.text===a[e+2]}).prop("selected",true);$("#edit_"+b+"_rule_sched_ulink_pipe option").filter(function(){return this.text===a[e+3]}).prop("selected",true)}if(a[e+4]==="Shape"){$("#edit_"+b+"_rule_def_dlink_pipe option").filter(function(){return this.text===a[e+5]}).prop("selected",true);$("#edit_"+b+"_rule_def_ulink_pipe option").filter(function(){return this.text===a[e+6]}).prop("selected",true)}if(a[e]==="None"){$("#edit_sched_"+b+"_rule_action").attr("disabled",true)}}function init_admin_pipes(b){$(b).append($("<option>",{value:0}).text("None"));if(admin_pipe_list.length>0){$(b).empty()}for(var a in admin_pipe_list){$(b).append($("<option>",{value:a}).text(admin_pipe_list[a]))}}function init_user_pipes(b){$(b).append($("<option>",{value:0}).text("None"));if(user_pipe_list.length>0){$(b).empty()}for(var a in user_pipe_list){$(b).append($("<option>",{value:a}).text(user_pipe_list[a]))}}function init_schedule_list(b){$(b).append($("<option>",{value:0}).text("None"));if(schedule_list.length>0){$(b).empty()}for(var a in schedule_list){$(b).append($("<option>",{value:a}).text(schedule_list[a]))}}function init_rule_user_list(b){if(user_profile_lookup_list.length>0){$(b).empty()}$(b).append($("<option selected disabled>",{value:0}).text("--Select User--"));for(var a in user_profile_lookup_list){$(b).append($("<option>",{value:a}).text(user_profile_lookup_list[a]))}}function clear_and_init_list(c,a){$(c).empty();$(c).append($("<option>",{value:0}).text("None"));if(a.length>0){$(c).empty()}for(var b in a){$(c).append($("<option>",{value:b}).text(a[b]))}}enable_table_controls=function(a){$("#"+a).on("click","tbody tr",function(){var b=1;setTimeout(function(){if(selectedTableRowCount===1){$(".edit,.delete").removeAttr("disabled")}else{if(selectedTableRowCount===0){$(".edit,.delete").attr("disabled","disabled")}else{alert("Incorrect Input")}}},b)})};disable_table_del_ref=function(c,a,b){$("#"+c).on("click","tbody tr",function(){var d=1;setTimeout(function(){var e=a.row(".selected").data();if(e){if(parseInt(e[e.length-1])>0){$(".delete").attr("disabled",true)}else{$(".delete").attr("disabled",false)}}if(b){$("#"+b).attr("disabled",true)}},d)})};function Update_Dest_Rules(a){var b=$.cookie("pqsf");dest_rules=[];var c=new Uint32Array(2);c[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,WO_GET_ADDR_LIST,0);c[1]=a;$.ajax({data:c.buffer,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(f,h,e){var g=f.split(";");for(var d=0;d<g.length-1;d++){dest_rules[d]=g[d]}Display_Dest_Rule_Table();Init_WO_Param(1,0,1,0)}).fail(function(d,f,e){console.error("Problems when posting...");alert("Problems when posting...")})}function Display_Dest_Rule_Table(){dest_rule_table.clear().draw();for(var b=0;b<dest_rules.length;b++){var a=dest_rules[b].split("&");if(a[4]==="4294967295"||a[5]==="4294967295"){if(a[6]==="4294967295"||a[7]==="4294967295"){dest_rule_table.row.add([a[0],a[1],num2dot(a[2]),schedule_list[a[3]],"Block","-","-","Block","-","-"])}else{if(a[6]==="0"||a[7]==="0"){dest_rule_table.row.add([a[0],a[1],num2dot(a[2]),schedule_list[a[3]],"Block","-","-","Allow","-","-"])}else{dest_rule_table.row.add([a[0],a[1],num2dot(a[2]),schedule_list[a[3]],"Block","-","-","Shape",user_pipe_list[a[6]],user_pipe_list[a[7]]])}}}else{if(a[3]==="0"&&(a[4]==="0"||a[5]==="0")){if(a[6]==="4294967295"||a[7]==="4294967295"){dest_rule_table.row.add([a[0],a[1],num2dot(a[2]),schedule_list[a[3]],"N/A","-","-","Block","-","-"])}else{if(a[6]==="0"||a[7]==="0"){dest_rule_table.row.add([a[0],a[1],num2dot(a[2]),schedule_list[a[3]],"N/A","-","-","Allow","-","-"])}else{dest_rule_table.row.add([a[0],a[1],num2dot(a[2]),schedule_list[a[3]],"N/A","-","-","Shape",user_pipe_list[a[6]],user_pipe_list[a[7]]])}}}else{if(a[3]!=="0"&&(a[4]==="0"||a[5]==="0")){if(a[6]==="4294967295"||a[7]==="4294967295"){dest_rule_table.row.add([a[0],a[1],num2dot(a[2]),schedule_list[a[3]],"Allow","-","-","Block","-","-"])}else{if(a[6]==="0"||a[7]==="0"){dest_rule_table.row.add([a[0],a[1],num2dot(a[2]),schedule_list[a[3]],"Allow","-","-","Allow","-","-"])}else{dest_rule_table.row.add([a[0],a[1],num2dot(a[2]),schedule_list[a[3]],"Allow","-","-","Shape",user_pipe_list[a[6]],user_pipe_list[a[7]]])}}}else{if(a[6]==="4294967295"||a[7]==="4294967295"){dest_rule_table.row.add([a[0],a[1],num2dot(a[2]),schedule_list[a[3]],"Shape",user_pipe_list[a[4]],user_pipe_list[a[5]],"Block","-","-"])}else{if(a[6]==="0"||a[7]==="0"){dest_rule_table.row.add([a[0],a[1],num2dot(a[2]),schedule_list[a[3]],"Shape",user_pipe_list[a[4]],user_pipe_list[a[5]],"Allow","-","-"])}else{dest_rule_table.row.add([a[0],a[1],num2dot(a[2]),schedule_list[a[3]],"Shape",user_pipe_list[a[4]],user_pipe_list[a[5]],"Shape",user_pipe_list[a[6]],user_pipe_list[a[7]]])}}}}}}dest_rule_table.draw(false)}function set_dest_rule_edit_modal_elements(){var a=dest_rule_table.row(".selected").data();$("#editDestRuleIP").val(a[2]).attr("disabled",true);set_rule_table_pipes(WINDOW_RULE_DESTINATIONS,3)}function Update_URL_Rules(a){var b=$.cookie("pqsf");url_rules=[];var c=new Uint32Array(2);c[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,WO_GET_URLRULE_LIST,0);c[1]=a;$.ajax({data:c.buffer,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(f,h,e){var g=f.split(";");for(var d=0;d<g.length-1;d++){url_rules[d]=g[d]}Display_URL_Rule_Table();Init_WO_Param(1,0,1,0)}).fail(function(d,f,e){console.error("Problems when posting...");alert("Problems when posting...")})}function Display_URL_Rule_Table(){url_rule_table.clear().draw();for(var b=0;b<url_rules.length;b++){var a=url_rules[b].split("&");if(a[6]==="4294967295"||a[7]==="4294967295"){if(a[8]==="4294967295"||a[9]==="4294967295"){url_rule_table.row.add([a[0],a[1],get_authentiation(a[2]),a[3],get_dns_det(a[4]),schedule_list[a[5]],"Block","-","-","Block","-","-"])}else{if(a[8]==="0"||a[9]==="0"){url_rule_table.row.add([a[0],a[1],get_authentiation(a[2]),get_dns_det(a[3]),a[4],schedule_list[a[5]],"Block","-","-","Allow","-","-"])}else{url_rule_table.row.add([a[0],a[1],get_authentiation(a[2]),get_dns_det(a[3]),a[4],schedule_list[a[5]],"Block","-","-","Shape",user_pipe_list[a[8]],user_pipe_list[a[9]]])}}}else{if(a[5]==="0"&&(a[6]==="0"||a[7]==="0")){if(a[8]==="4294967295"||a[9]==="4294967295"){url_rule_table.row.add([a[0],a[1],get_authentiation(a[2]),get_dns_det(a[3]),a[4],schedule_list[a[5]],"N/A","-","-","Block","-","-"])}else{if(a[8]==="0"||a[9]==="0"){url_rule_table.row.add([a[0],a[1],get_authentiation(a[2]),get_dns_det(a[3]),a[4],schedule_list[a[5]],"N/A","-","-","Allow","-","-"])}else{url_rule_table.row.add([a[0],a[1],get_authentiation(a[2]),get_dns_det(a[3]),a[4],schedule_list[a[5]],"N/A","-","-","Shape",user_pipe_list[a[8]],user_pipe_list[a[9]]])}}}else{if(a[5]!=="0"&&(a[6]==="0"||a[7]==="0")){if(a[8]==="4294967295"||a[9]==="4294967295"){url_rule_table.row.add([a[0],a[1],get_authentiation(a[2]),get_dns_det(a[3]),a[4],schedule_list[a[5]],"Allow","-","-","Block","-","-"])}else{if(a[8]==="0"||a[9]==="0"){url_rule_table.row.add([a[0],a[1],get_authentiation(a[2]),get_dns_det(a[3]),a[4],schedule_list[a[5]],"Allow","-","-","Allow","-","-"])}else{url_rule_table.row.add([a[0],a[1],get_authentiation(a[2]),get_dns_det(a[3]),a[4],schedule_list[a[5]],"Allow","-","-","Shape",user_pipe_list[a[8]],user_pipe_list[a[9]]])}}}else{if(a[8]==="4294967295"||a[9]==="4294967295"){url_rule_table.row.add([a[0],a[1],get_authentiation(a[2]),get_dns_det(a[3]),a[4],schedule_list[a[5]],"Shape",user_pipe_list[a[6]],user_pipe_list[a[7]],"Block","-","-"])}else{if(a[8]==="0"||a[9]==="0"){url_rule_table.row.add([a[0],a[1],get_authentiation(a[2]),get_dns_det(a[3]),a[4],schedule_list[a[5]],"Shape",user_pipe_list[a[6]],user_pipe_list[a[7]],"Allow","-","-"])}else{url_rule_table.row.add([a[0],a[1],get_authentiation(a[2]),get_dns_det(a[3]),a[4],schedule_list[a[5]],"Shape",user_pipe_list[a[6]],user_pipe_list[a[7]],"Shape",user_pipe_list[a[8]],user_pipe_list[a[9]]])}}}}}}url_rule_table.draw(false)}get_authentiation=function(a){switch(a){case"1":return"HTTP";break;case"2":return"HTTPS";break;case"3":return"HTTP or HTTPS";break}};get_dns_det=function(a){switch(a){case"0":return"Disabled";break;case"1":return"Enabled";break}};function set_url_rule_edit_modal_elements(){var a=url_rule_table.row(".selected").data();$("#edit_url_rule_authen option").filter(function(){return this.text===a[2]}).prop("selected",true);$("#edit_url_rule_authen").attr("disabled",true);$("#edit_url_rule_dns_det option").filter(function(){return this.text===a[3]}).prop("selected",true);$("#edit_url_rule_dns_det").attr("disabled",true);$("#edit_url_to_rule").val(a[4]).attr("disabled",true);set_rule_table_pipes(WINDOW_RULE_URL,5)}function Update_App_Rules(a){var b=$.cookie("pqsf");app_rules=[];var c=new Uint32Array(2);c[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,WO_GET_APPRULE_LIST,0);c[1]=a;$.ajax({data:c.buffer,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(f,h,e){var g=f.split(";");for(var d=0;d<g.length-1;d++){app_rules[d]=g[d]}Display_App_Rule_Table();Init_WO_Param(1,0,1,0)}).fail(function(d,f,e){console.error("Problems when posting...");alert("Problems when posting...")})}function Display_App_Rule_Table(){app_rule_table.clear().draw();for(var b=0;b<app_rules.length;b++){var a=app_rules[b].split("&");if(a[3]==="4294967295"||a[4]==="4294967295"){if(a[5]==="4294967295"||a[6]==="4294967295"){app_rule_table.row.add([a[0],a[1],application_list[a[1]],schedule_list[a[2]],"Block","-","-","Block","-","-"])}else{if(a[5]==="0"||a[6]==="0"){app_rule_table.row.add([a[0],a[1],application_list[a[1]],schedule_list[a[2]],"Block","-","-","Allow","-","-"])}else{app_rule_table.row.add([a[0],a[1],application_list[a[1]],schedule_list[a[2]],"Block","-","-","Shape",user_pipe_list[a[5]],user_pipe_list[a[6]]])}}}else{if(a[2]==="0"&&(a[3]==="0"||a[4]==="0")){if(a[5]==="4294967295"||a[6]==="4294967295"){app_rule_table.row.add([a[0],a[1],application_list[a[1]],schedule_list[a[2]],"N/A","-","-","Block","-","-"])}else{if(a[5]==="0"||a[6]==="0"){app_rule_table.row.add([a[0],a[1],application_list[a[1]],schedule_list[a[2]],"N/A","-","-","Allow","-","-"])}else{app_rule_table.row.add([a[0],a[1],application_list[a[1]],schedule_list[a[2]],"N/A","-","-","Shape",user_pipe_list[a[5]],user_pipe_list[a[6]]])}}}else{if(a[2]!=="0"&&(a[3]==="0"||a[4]==="0")){if(a[5]==="4294967295"||a[6]==="4294967295"){app_rule_table.row.add([a[0],a[1],application_list[a[1]],schedule_list[a[2]],"Allow","-","-","Block","-","-"])}else{if(a[5]==="0"||a[6]==="0"){app_rule_table.row.add([a[0],a[1],application_list[a[1]],schedule_list[a[2]],"Allow","-","-","Allow","-","-"])}else{app_rule_table.row.add([a[0],a[1],application_list[a[1]],schedule_list[a[2]],"Allow","-","-","Shape",user_pipe_list[a[5]],user_pipe_list[a[6]]])}}}else{if(a[5]==="4294967295"||a[6]==="4294967295"){app_rule_table.row.add([a[0],a[1],application_list[a[1]],schedule_list[a[2]],"Shape",user_pipe_list[a[3]],user_pipe_list[a[4]],"Block","-","-"])}else{if(a[5]==="0"||a[6]==="0"){app_rule_table.row.add([a[0],a[1],application_list[a[1]],schedule_list[a[2]],"Shape",user_pipe_list[a[3]],user_pipe_list[a[4]],"Allow","-","-"])}else{app_rule_table.row.add([a[0],a[1],application_list[a[1]],schedule_list[a[2]],"Shape",user_pipe_list[a[3]],user_pipe_list[a[4]],"Shape",user_pipe_list[a[5]],user_pipe_list[a[6]]])}}}}}}app_rule_table.draw(false)}function set_app_rule_edit_modal_elements(){var a=app_rule_table.row(".selected").data();$("#editAddedApp").val(a[2]).attr("disabled",true);set_rule_table_pipes(WINDOW_RULE_APPLICATIONS,3)}function Update_Service_Rules(a){var b=$.cookie("pqsf");serv_rules=[];var c=new Uint32Array(2);c[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,WO_GET_SVSITEM_LIST,0);c[1]=a;$.ajax({data:c.buffer,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(f,h,e){var g=f.split(";");for(var d=0;d<g.length-1;d++){serv_rules[d]=g[d]}Display_Service_Rule_Table();Init_WO_Param(1,0,1,0)}).fail(function(d,f,e){console.error("Problems when posting...");alert("Problems when posting...")})}function Display_Service_Rule_Table(){service_rule_table.clear().draw();for(var b=0;b<serv_rules.length;b++){var a=serv_rules[b].split("&");if(a[5]==="4294967295"||a[6]==="4294967295"){if(a[7]==="4294967295"||a[8]==="4294967295"){service_rule_table.row.add([a[0],a[1],a[2],get_service_type(a[3]),schedule_list[a[4]],"Block","-","-","Block","-","-"])}else{if(a[7]==="0"||a[8]==="0"){service_rule_table.row.add([a[0],a[1],a[2],get_service_type(a[3]),schedule_list[a[4]],"Block","-","-","Allow","-","-"])}else{service_rule_table.row.add([a[0],a[1],a[2],get_service_type(a[3]),schedule_list[a[4]],"Block","-","-","Shape",user_pipe_list[a[7]],user_pipe_list[a[8]]])}}}else{if(a[4]==="0"&&(a[5]==="0"||a[6]==="0")){if(a[7]==="4294967295"||a[8]==="4294967295"){service_rule_table.row.add([a[0],a[1],a[2],get_service_type(a[3]),schedule_list[a[4]],"N/A","-","-","Block","-","-"])}else{if(a[7]==="0"||a[8]==="0"){service_rule_table.row.add([a[0],a[1],a[2],get_service_type(a[3]),schedule_list[a[4]],"N/A","-","-","Allow","-","-"])}else{service_rule_table.row.add([a[0],a[1],a[2],get_service_type(a[3]),schedule_list[a[4]],"N/A","-","-","Shape",user_pipe_list[a[7]],user_pipe_list[a[8]]])}}}else{if(a[4]!=="0"&&(a[5]==="0"||a[6]==="0")){if(a[7]==="4294967295"||a[8]==="4294967295"){service_rule_table.row.add([a[0],a[1],a[2],get_service_type(a[3]),schedule_list[a[4]],"Allow","-","-","Block","-","-"])}else{if(a[7]==="0"||a[8]==="0"){service_rule_table.row.add([a[0],a[1],a[2],get_service_type(a[3]),schedule_list[a[4]],"Allow","-","-","Allow","-","-"])}else{service_rule_table.row.add([a[0],a[1],a[2],get_service_type(a[3]),schedule_list[a[4]],"Allow","-","-","Shape",user_pipe_list[a[7]],user_pipe_list[a[8]]])}}}else{if(a[7]==="4294967295"||a[8]==="4294967295"){service_rule_table.row.add([a[0],a[1],a[2],get_service_type(a[3]),schedule_list[a[4]],"Shape",user_pipe_list[a[5]],user_pipe_list[a[6]],"Block","-","-"])}else{if(a[7]==="0"||a[8]==="0"){service_rule_table.row.add([a[0],a[1],a[2],get_service_type(a[3]),schedule_list[a[4]],"Shape",user_pipe_list[a[5]],user_pipe_list[a[6]],"Allow","-","-"])}else{service_rule_table.row.add([a[0],a[1],a[2],get_service_type(a[3]),schedule_list[a[4]],"Shape",user_pipe_list[a[5]],user_pipe_list[a[6]],"Shape",user_pipe_list[a[7]],user_pipe_list[a[8]]])}}}}}}service_rule_table.draw(false)}function set_serv_rule_edit_modal_elements(){var a=service_rule_table.row(".selected").data();$("#edit_serv_rule_port").val(a[1]).attr("disabled",true);$("#edit_serv_rule_protocol option").filter(function(){return this.text===a[3]}).prop("selected",true);$("#edit_serv_rule_protocol").attr("disabled",true);set_rule_table_pipes(WINDOW_RULE_SERVICE,4)}get_service_type=function(a){if(a==="1"){return"TCP"}else{if(a==="2"){return"UDP"}else{if(a==="3"){return"Any"}}}};function Update_Admin_Pipe_List(){admin_pipe_list=[];admin_pipe_list_data=[];admin_pipe_list_tt=[];var a=$.cookie("pqsf");var b=new Uint32Array(2);b[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,WO_GET_ADMIN_SHAPER_LIST,0);$.ajax({data:b.buffer,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(f,h,e){var g=f.split(";");for(var d=0;d<g.length-1;d++){admin_pipe_list_data[d]=g[d];var c=g[d].split("&");admin_pipe_list[c[0]]=c[1];admin_pipe_list_tt[c[0]]=g[d]}Display_Admin_Pipe_Table()}).fail(function(c,e,d){console.error("Problems when posting...")})}function Display_Admin_Pipe_Table(){admin_pipe_table.clear().draw();for(var b=0;b<admin_pipe_list_data.length;b++){var a=admin_pipe_list_data[b].split("&");admin_pipe_table.row.add([a[0],a[1],a[2],a[3],a[4]])}admin_pipe_table.draw(false)}pipe_priority=function(a){if(a==="1"){return"Low"}else{if(a==="50"){return"Medium"}else{if(a==="0"){return"High"}else{return"Error"}}}};set_pipe_type=function(d,c){var b=$(d).val();var a=$(c).val();if(b==="0"){if(a==="0"){return 1}else{if(a==="1"){return 2}else{return 3}}}else{if(a==="0"){return 4}else{if(a==="1"){return 5}else{return 6}}}};get_pipe_type=function(b,a){if(a===0){switch(parseInt(b)){case 1:case 2:case 3:return"Per-IP";case 4:case 5:case 6:return"Shared"}}else{switch(parseInt(b)){case 1:case 4:return"Per-Item";break;case 2:case 5:return"Per-Profile";break;case 3:case 6:return"Per-Rule";break}}};function set_admin_pipe_table_modal_elements(){var a=admin_pipe_table.row(".selected").data();$("#editAdminPipeName").val(a[1]);$("#editAdminPipeGuarantBW").val(a[2]);$("#editAdminPipeMaxBW").val(a[3])}function Update_User_Pipe_List(a){user_pipe_list=[];user_pipe_list_data=[];user_pipe_list_tt=[];var b=$.cookie("pqsf");var c=new Uint32Array(2);c[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,WO_GET_USER_SHAPER_LIST,0);c[1]=a;$.ajax({data:c.buffer,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(g,j,f){var h=g.split(";");for(var e=0;e<h.length-1;e++){user_pipe_list_data[e]=h[e];var d=h[e].split("&");user_pipe_list[d[1]]=d[3];user_pipe_list_tt[d[1]]=h[e]}Display_User_Pipe_Table();Init_WO_Param(0,1,0,0)}).fail(function(d,f,e){console.error("Problems when posting...")})}function Display_User_Pipe_Table(){user_pipe_table.clear().draw();for(var b=0;b<user_pipe_list_data.length;b++){var a=user_pipe_list_data[b].split("&");var c=admin_pipe_list_tt[a[2]].split("&");user_pipe_table.row.add([a[0],a[1],a[2],a[3],get_pipe_type(a[5],0),get_pipe_type(a[5],1),c[2],c[3],pipe_priority(a[4]),a[6]])}user_pipe_table.draw(false)}function set_user_pipe_table_modal_elements(){var a=user_pipe_table.row(".selected").data();$("#edit_user_admin_pipe option").filter(function(){return this.text===admin_pipe_list[a[2]]}).prop("selected",true);$("#editUserPipeName").val(a[3]);$("#editUserPipeType option").filter(function(){return this.text===a[4]}).prop("selected",true);$("#editUserPipeType").attr("disabled",true);$("#editUserGroupingType option").filter(function(){return this.text===a[5]}).prop("selected",true);$("#editUserGroupingType").attr("disabled",true);$("#editUserPipeGuarantBW").val(a[6]).attr("disabled",true);$("#editUserPipeMaxBW").val(a[7]).attr("disabled",true);$("#editUserPipePriority option").filter(function(){return this.text===a[8]}).prop("selected",true);$("#editUserPipePriority").attr("disabled",true)}function Update_Schedule_List(a){schedule_list=[];schedule_list_data=[];schedule_list_tt=[];var b=$.cookie("pqsf");var c=new Uint32Array(2);c[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,WO_GET_SCHD_LIST,0);c[1]=a;$.ajax({data:c.buffer,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(g,j,f){schedule_list[0]="None";var h=g.split(";");for(var e=0;e<h.length-1;e++){schedule_list_data[e]=h[e];var d=h[e].split("&");schedule_list[d[1]]=d[2];schedule_list_tt[d[1]]=h[e]}Display_Schedule_Table()}).fail(function(d,f,e){console.error("Problems when posting...")})}function Display_Schedule_Table(){schedule_table.clear().draw();for(var b=0;b<schedule_list_data.length;b++){var a=schedule_list_data[b].split("&");if(Schedule_Type(a[3])==="Weekly Recurring"){schedule_table.row.add([a[0],a[1],a[2],Schedule_Type(a[3]),decode_days_of_week(a[4]),moment(a[5]*1000).format("hh:mm a"),moment(a[6]*1000).format("hh:mm a"),a[7]])}else{schedule_table.row.add([a[0],a[1],a[2],Schedule_Type(a[3]),Schedule_One_Time_Days(a[5],a[6]),moment(a[5]*1000).format("hh:mm a"),moment(a[6]*1000).format("hh:mm a"),a[7]])}}schedule_table.draw(false)}Schedule_Type=function(a){if(a==="21"){return"Weekly Recurring"}else{if(a==="22"){return"One Time"}else{return"Error"}}};Schedule_One_Time_Days=function(d,b){var a=moment(d*1000).format("Do MMMM YYYY");var c=moment(b*1000).format("Do MMMM YYYY");if(a===c){return a}else{return a+" - "+c}};function EditScheduleTableModal(){var d=schedule_table.row(".selected").data();$("#editScheduleName").val(d[2]);$("#ScheduleCodeEdit").val(d[3]);$("#ScheduleCodeEdit").attr("disabled",true);if(d[3]==="Weekly Recurring"){for(var c=0;c<d[4].length;c++){switch(d[4][c]){case"Monday":$("#RecurE_1").prop("checked",true);break;case"Tuesday":$("#RecurE_2").prop("checked",true);break;case"Wednesday":$("#RecurE_3").prop("checked",true);break;case"Thursday":$("#RecurE_4").prop("checked",true);break;case"Friday":$("#RecurE_5").prop("checked",true);break;case"Saturday":$("#RecurE_6").prop("checked",true);break;case"Sunday":$("#RecurE_7").prop("checked",true);break;default:return -1}}var b=moment(d[5],"hh:mm a").unix();var e=moment(d[6],"hh:mm a").unix();$("#editStartTimeRecur").val(moment(b*1000).format("hh:mmA"));$("#editEndTimeRecur").val(moment(e*1000).format("hh:mmA"))}else{if(d[3]==="One Time"){var a=[];if(d[4].indexOf("-")>-1){a=d[4].split("- ")}else{a[0]=d[4];a[1]=d[4]}var b=moment(a[0]+d[5],"Do MMMM YYYY hh:mm a").unix();var e=moment(a[1]+" "+d[6],"Do MMMM YYYY hh:mm a").unix();$("#edit_sched_startDateTimePeriod").val(moment(b*1000).format("MMMM Do YYYY - hh:mm a"));$("#edit_sched_endDateTimePeriod").val(moment(e*1000).format("MMMM Do YYYY - hh:mm a"))}else{alert("Error")}}}function SetScheduleTableModalElements(b,a){var c=null;if(b==="Weekly Recurring"){$("#CreateScheduleModalContent").css({height:"440px"});c="<label class='drop_down_label'> Days : </label><input type='checkbox' style='margin-left: 118px' id='Recur_1'> <label class='check_box_prop'>Monday </label><input type='checkbox' style='margin-left: 41px' id='Recur_2'> <label class='check_box_prop'>Tuesday</label><br><input type='checkbox' style='margin-left: 154px' id='Recur_3'> <label class='check_box_prop'>Wednesday</label><input type='checkbox' style='margin-left: 20px' id='Recur_4'> <label class='check_box_prop'>Thursday</label><br><input type='checkbox' style='margin-left: 154px' id='Recur_5'> <label class='check_box_prop'>Friday</label><input type='checkbox' style='margin-left: 50px' id='Recur_6'> <label class='check_box_prop'>Saturday</label><br><input type='checkbox' style='margin-left: 154px' id='Recur_7'> <label class='check_box_prop'>Sunday</label><br><br><label class='drop_down_label'> Start Time : </label><input type='text' id='startTimeRecur' class='clockpicker field_prop' placeholder='Start Time' style='margin-left: 90px; text-indent: 5px'><br><br><label class='drop_down_label'> End Time : </label><input type='text' id='endTimeRecur' class='clockpicker field_prop' placeholder='End Time' style='margin-left: 90px; text-indent: 5px'><br>";$("#"+a).append(c);setFormatRecur()}else{if(b==="One Time"){$("#CreateScheduleModalContent").css({height:"350px"});c="<label class='drop_down_label'> Start Date & Time : </label><input type='text' id='startDateTimePeriod' placeholder='Start date and time' class='field_prop_reporting' style='margin-left: 50px; font-size: 12px; color:black; width: 200px; text-indent: 5px' ><br><br><label class='drop_down_label'> End Date & Time : </label><input type='text' id='endDateTimePeriod' placeholder='End date and time' class='field_prop_reporting'  style='margin-left: 55px; font-size: 12px; color:black; width: 200px; text-indent: 5px'> <br><br>";$("#"+a).append(c);setFormatPeriod("#startDateTimePeriod","#endDateTimePeriod")}else{alert("Please select one option from the Field!")}}}function EditScheduleTableModalElements(a){var b=schedule_table.row(".selected").data()[3];var c=null;if(b==="Weekly Recurring"){$("#EditScheduleModalContent").css({height:"440px"});c="<label class='drop_down_label'> Days : </label><input type='checkbox' style='margin-left: 121px' id='RecurE_7'> <label class='check_box_prop'>Sunday</label><input type='checkbox' style='margin-left: 41px' id='RecurE_4'> <label class='check_box_prop'>Thursday</label><br><input type='checkbox' style='margin-left: 159px' id='RecurE_1'> <label class='check_box_prop'>Monday </label><input type='checkbox' style='margin-left: 38px' id='RecurE_5'> <label class='check_box_prop'>Friday</label><br><input type='checkbox' style='margin-left: 159px' id='RecurE_2'> <label class='check_box_prop'>Tuesday</label><input type='checkbox' style='margin-left: 35px' id='RecurE_6'> <label class='check_box_prop'>Saturday</label><br><input type='checkbox' style='margin-left: 159px' id='RecurE_3'> <label class='check_box_prop'>Wednesday</label><br><br><label class='drop_down_label'> Start Time : </label><input type='text' id='editStartTimeRecur' class='clockpicker field_prop' placeholder='Start Time' style='margin-left: 90px; text-indent: 5px'><br><br><label class='drop_down_label'> End Time : </label><input type='text' id='editEndTimeRecur' class='clockpicker field_prop' placeholder='End Time' style='margin-left: 90px; text-indent: 5px'><br>";$("#"+a).append(c);editFormatRecur()}else{if(b==="One Time"){$("#EditScheduleModalContent").css({height:"350px"});c="<label class='drop_down_label'> Start Date & Time : </label><input type='text' id='edit_sched_startDateTimePeriod' placeholder='Start date and time' class='field_prop_reporting' style='margin-left: 50px; font-size: 12px; color:black; width: 200px; text-indent: 5px' ><br><br><label class='drop_down_label'> End Date & Time : </label><input type='text' id='edit_sched_endDateTimePeriod' placeholder='End date and time' class='field_prop_reporting'  style='margin-left: 55px; font-size: 12px; color:black; width: 200px; text-indent: 5px'> <br><br>";$("#"+a).append(c);setFormatPeriod("#edit_sched_startDateTimePeriod","#edit_sched_endDateTimePeriod")}else{alert("Error in Schedule!")}}}var recur_st=null;var recur_et=null;function setFormatRecur(){$("#startTimeRecur").clockpicker({twelvehour:true,placement:"bottom",align:"left",donetext:"Add Time","default":"now"}).change(function(){recur_st=moment(this.value,"hh-mm-A")/1000});$("#endTimeRecur").clockpicker({twelvehour:true,placement:"bottom",align:"left",donetext:"Add Time","default":"now"}).change(function(){recur_et=moment(this.value,"hh-mm-A")/1000})}function editFormatRecur(){$("#editStartTimeRecur").clockpicker({twelvehour:true,placement:"bottom",align:"left",donetext:"Add Time"}).change(function(){recur_st=moment(this.value,"hh-mm-A")/1000});$("#editEndTimeRecur").clockpicker({twelvehour:true,placement:"bottom",align:"left",donetext:"Add Time"}).change(function(){recur_et=moment(this.value,"hh-mm-A")/1000})}function setFormatPeriod(a,b){$(a).datetimepicker({format:"MMM Do YYYY - h:mm a",sideBySide:true,viewMode:"days",minDate:Date.now(),showClear:true,showClose:true});$(b).datetimepicker({format:"MMM Do YYYY - h:mm a",sideBySide:true,viewMode:"days",minDate:Date.now(),showClear:true,showClose:true});$(a).on("dp.change",function(c){if($(a).val()!==""){$(b).data("DateTimePicker").minDate(c.date)}})}checked_days=function(a){if($("#Recur_"+a).is(":checked")){return 1}else{return 0}};checkedE_days=function(a){if($("#RecurE_"+a).is(":checked")){return 1}else{return 0}};var encode_days_of_week=function(f,g,h,b,a,c,e){var d=f+(g<<2)+(h<<4)+(b<<6)+(a<<8)+(c<<10)+(e<<12);return d};var decode_days_of_week=function(b){var e=[];var a={Monday:b&3,Tuesday:(b>>2)&3,Wednesday:(b>>4)&3,Thursday:(b>>6)&3,Friday:(b>>8)&3,Saturday:(b>>10)&3,Sunday:(b>>12)&1048575};for(var c in a){if(a[c]===1){e.push(c)}}return e};function set_user_for_rules(){global_rule_user=parseInt($("#rule_user_modal_dropdown option:selected").val());$("#rule_user_label").text(user_profile_lookup_list[global_rule_user]);document.getElementById("RuleUserModal").style.display="none";Init_WO_Param(1,1,1,1)}get_first_rule_user_index=function(c){var a;var b;if(user_profile_lookup_list.length){a=user_profile_lookup_list.find(function(d){return !!d});b=user_profile_lookup_list.indexOf(a);return b}else{return 0}};get_user_based_rules=function(){switch(CURRENT_WINDOW){case WINDOW_RULE_DESTINATIONS:clear_and_init_list("#add_dest_rule_schedule",schedule_list);clear_and_init_list("#edit_dest_rule_schedule",schedule_list);clear_and_init_list("#add_dest_rule_sched_dlink_pipe",user_pipe_list);clear_and_init_list("#edit_dest_rule_sched_dlink_pipe",user_pipe_list);clear_and_init_list("#add_dest_rule_sched_ulink_pipe",user_pipe_list);clear_and_init_list("#edit_dest_rule_sched_ulink_pipe",user_pipe_list);clear_and_init_list("#add_dest_rule_def_dlink_pipe",user_pipe_list);clear_and_init_list("#edit_dest_rule_def_dlink_pipe",user_pipe_list);clear_and_init_list("#add_dest_rule_def_ulink_pipe",user_pipe_list);clear_and_init_list("#edit_dest_rule_def_ulink_pipe",user_pipe_list);Update_Dest_Rules(global_rule_user);break;case WINDOW_RULE_URL:clear_and_init_list("#add_url_rule_schedule",schedule_list);clear_and_init_list("#edit_url_rule_schedule",schedule_list);clear_and_init_list("#add_url_rule_sched_dlink_pipe",user_pipe_list);clear_and_init_list("#edit_url_rule_sched_dlink_pipe",user_pipe_list);clear_and_init_list("#add_url_rule_sched_ulink_pipe",user_pipe_list);clear_and_init_list("#edit_url_rule_sched_ulink_pipe",user_pipe_list);clear_and_init_list("#add_url_rule_def_dlink_pipe",user_pipe_list);clear_and_init_list("#edit_url_rule_def_dlink_pipe",user_pipe_list);clear_and_init_list("#add_url_rule_def_ulink_pipe",user_pipe_list);clear_and_init_list("#edit_url_rule_def_ulink_pipe",user_pipe_list);Update_URL_Rules(global_rule_user);break;case WINDOW_RULE_APPLICATIONS:clear_and_init_list("#add_app_rule_schedule",schedule_list);clear_and_init_list("#edit_app_rule_schedule",schedule_list);clear_and_init_list("#add_app_rule_sched_dlink_pipe",user_pipe_list);clear_and_init_list("#edit_app_rule_sched_dlink_pipe",user_pipe_list);clear_and_init_list("#add_app_rule_sched_ulink_pipe",user_pipe_list);clear_and_init_list("#edit_app_rule_sched_ulink_pipe",user_pipe_list);clear_and_init_list("#add_app_rule_def_dlink_pipe",user_pipe_list);clear_and_init_list("#edit_app_rule_def_dlink_pipe",user_pipe_list);clear_and_init_list("#add_app_rule_def_ulink_pipe",user_pipe_list);clear_and_init_list("#edit_app_rule_def_ulink_pipe",user_pipe_list);Update_App_Rules(global_rule_user);break;case WINDOW_RULE_SERVICE:clear_and_init_list("#add_serv_rule_schedule",schedule_list);clear_and_init_list("#edit_serv_rule_schedule",schedule_list);clear_and_init_list("#add_serv_rule_sched_dlink_pipe",user_pipe_list);clear_and_init_list("#edit_serv_rule_sched_dlink_pipe",user_pipe_list);clear_and_init_list("#add_serv_rule_sched_ulink_pipe",user_pipe_list);clear_and_init_list("#edit_serv_rule_sched_ulink_pipe",user_pipe_list);clear_and_init_list("#add_serv_rule_def_dlink_pipe",user_pipe_list);clear_and_init_list("#edit_serv_rule_def_dlink_pipe",user_pipe_list);clear_and_init_list("#add_serv_rule_def_ulink_pipe",user_pipe_list);clear_and_init_list("#edit_serv_rule_def_ulink_pipe",user_pipe_list);Update_Service_Rules(global_rule_user);break;case WINDOW_OBJ_SCHEDULE:Display_Schedule_Table();break;case WINDOW_OBJ_USER_PIPES:Display_User_Pipe_Table();break;case WINDOW_USER_SUMMARY:load_user_sum_window();break}};reload_user_based_interface=function(){if(CURRENT_WINDOW===WINDOW_APP_LINK_UTIL){link_util_flag=true;is_bwm_app_req_init=false;is_app_grap_init=false;btn_link_util_bw_load_now(1)}else{var a=CURRENT_WINDOW;CURRENT_WINDOW=0;load_window(a)}};var pq_pie_update_que=[];var pqpie_resize=function(e,c){var d=$(e).width();var b=$(e).height();var a=d*0.9;if(d>b){a=b*0.9}c.options.size.canvasHeight=a;c.options.size.canvasWidth=a;c.redraw();$(e+" svg").css("margin-top",(b-a)/2)};var pqpie_update_nresize=function(e,c){var d=$(e).width();var b=$(e).height();var a=d*0.9;if(d>b){a=b*0.9}$(e+" svg").css("margin-top",(b-a)/2)};var pqpie_exec_resize_seq=function(){setTimeout(function(){var a=pq_pie_update_que.shift();pqpie_resize(a.div,a.pie);if(pq_pie_update_que.length>0){pqpie_exec_resize_seq()}},10)};var pqpie_resize_loading=function(b,a){pq_pie_update_que.push({div:b,pie:a});if(pq_pie_update_que.length===1){pqpie_exec_resize_seq()}};var pqwr_rtime;var pqwr_timeout=false;var pqwr_delta=50;$(window).resize(function(){pqwr_rtime=new Date();if(pqwr_timeout===false){pqwr_timeout=true;setTimeout(resizeend,pqwr_delta)}});function resizeend(){if(new Date()-pqwr_rtime<pqwr_delta){setTimeout(resizeend,pqwr_delta)}else{pqwr_timeout=false;if(CURRENT_WINDOW===WINDOW_LINK_SUMMARY){pqpie_resize_loading("#pq_sum_src_hldr",pie_pq_sum_srcs);pqpie_resize_loading("#pq_sum_dest_hldr",pie_pq_sum_dests);pqpie_resize_loading("#pq_sum_app_hldr",pie_pq_sum_apps)}else{if(CURRENT_WINDOW===WINDOW_SES_SES){$("#Session_Table").closest(".dataTables_scrollBody").css("max-height",($("#Session_Sessions_Holder").height()-125))}else{if(CURRENT_WINDOW===WINDOW_SES_SOURCE){$("#Source_Table").closest(".dataTables_scrollBody").css("max-height",($("#Session_Sources_Holder").height()-125))}else{if(CURRENT_WINDOW===WINDOW_SES_DEST){$("#Destination_Table").closest(".dataTables_scrollBody").css("max-height",($("#Session_Destination_Holder").height()-125))}else{if(CURRENT_WINDOW===WINDOW_SES_APP){$("#Application_Table").closest(".dataTables_scrollBody").css("max-height",($("#Session_Applications_Holder").height()-125))}else{if(CURRENT_WINDOW===WINDOW_SES_SERV){$("#Ses_Service_Table").closest(".dataTables_scrollBody").css("max-height",($("#Session_Services_Holder").height()-125))}else{if(CURRENT_WINDOW===WINDOW_DASH_SOURCE||CURRENT_WINDOW===WINDOW_DASH_DEST||CURRENT_WINDOW===WINDOW_DASH_APP){pqpie_resize_loading("#dashPie_src_dlink",pie_pq_dashPie_dlink);pqpie_resize_loading("#dashPie_src_ulink",pie_pq_dashPie_ulink);$("#dashPie_pie_dlink_table").closest(".dataTables_scrollBody").css("height",($("#dashPie_pie_dlink_table_holder").height()-15));$("#dashPie_pie_ulink_table").closest(".dataTables_scrollBody").css("height",($("#dashPie_pie_ulink_table_holder").height()-15))}else{if(CURRENT_WINDOW===WINDOW_LIVE_SERVER_WATCH){pqpie_resize_loading("#pq_live_usage_pie_hlder",pie_pq_live_usage)}}}}}}}}}}function validateEmail(b){var c=/\w+(\.\w+)*\@(\w+\.)+[a-z]{2,3}/;var a=c.test(b);return a}function validateIP(c){var b=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\s*$/;var a=b.test(c);return a}function show_acjs_status_modal(a){switch(a){case 2:InvalidStatus("Operation failed!");break;case 4:InvalidStatus("New Entry already exists in the System!");break;case 6:InvalidStatus("Invalid File!");break;case 7:InvalidStatus("Outdated Installation File!");break;case 10:SuccessStatus("Profile updated successfully");break;case 11:InvalidStatus("You have reached the Maximum Entry Limit!");break;case 12:InvalidStatus("New Entry is Invalid!");break;case 14:InvalidStatus("Entry already exists in database!");break;case 16:InvalidStatus("Cannot delete! Profile is already in use.");break;case 17:InvalidStatus("Invalid Shaper configuration!");break;case 18:InvalidStatus("Invalid Address entry! Collision at source and destination entries!");break;case 19:InvalidStatus("Invalid Address entry to Profile!");break;case 20:InvalidStatus("User limit exceeded!");break;case 21:InvalidStatus("You cannot delete the default user/server");break;default:return -1}}function show_warning_type_modal(a){switch(a){case 1:WarningStatus(a,"You are about to change the media configuration! Do you want to proceed?");$("#statusModalButton").click(function(){display_media_config_table()});break;default:return -1}}function warning_proceed_func(a){switch(a){case 1:change_media_config_type(config_med_clicked);break;case 99:$("#StatusModal").hide();$("#"+$(".in").attr("id")).collapse("toggle");$("#collapse11").collapse("toggle");$("#tab_maint").css({background:"#6f5e5e"});load_window(WINDOW_MAINTENANCE);break;default:return -1}}function SuccessStatus(c){$("#userStatusModalImage").children().detach();$("#userStatusModalText").children().detach();var b="<img id='gif'  style='display: inline-block; margin-top:10px' src='image/success.png' alt='your image' height='50' width='50'/>";var a="<div style='margin-left: 15px; margin-top: 32px; font-family: Courier-New; font-size: 17px;' >"+c+"</div><button id='statusModalButton' class='statusModalButton' style='width:80px; height:30px; margin-left: 76px; margin-top: 30px; background:#21b224 ' >Continue</button>";$("#userStatusModalImage").append(b);$("#userStatusModalText").append(a);$("#StausText").html("Success");$("#StatusModal").show();$("#statusModalButton").click(function(){$("#StatusModal").hide()})}var mbx_loading_cancel_status=0;function LoadingStatus(c){mbx_loading_cancel_status=0;$("#userStatusModalImage").children().detach();$("#userStatusModalText").children().detach();var b="<img id='gif'  style='display: inline-block; margin-top:10px' src='image/gif/update_bl_cir.gif' alt='your image' height='50' width='50'/>";var a="<div style='margin-left: 15px; margin-top: 32px; font-family: Courier-New; font-size: 17px;' >"+c+"</div><button id='statusModalButton' class='statusModalButton' style='width:80px; height:30px; margin-left: 76px; margin-top: 17px; background:#f44242 ' >Cancel</button>";$("#userStatusModalImage").append(b);$("#userStatusModalText").append(a);$("#StausText").html("System");$("#StatusModal").show();$("#statusModalButton").click(function(){$("#StatusModal").hide();mbx_loading_cancel_status=1})}function InvalidStatus(c){$("#userStatusModalImage").children().detach();$("#userStatusModalText").children().detach();var b="<img id='gif'  style='display: inline-block;' src='image/failed.png' alt='your image' height='50' width='50'/>";var a="<div style='margin-left: 12px; margin-top: 22px; font-family: Courier-New; font-size: 17px;' >"+c+"</div><button id='statusModalButton' class='statusModalButton' style='width:80px; height:30px; margin-left: 76px; margin-top: 17px; background:#f44242 ' >Close</button>";$("#userStatusModalImage").append(b);$("#userStatusModalText").append(a);$("#StausText").html("Invalid Operation");$("#StatusModal").show();$("#statusModalButton").click(function(){$("#StatusModal").hide()})}function AbortStatus(c){$("#userStatusModalImage").children().detach();$("#userStatusModalText").children().detach();var b="<img id='gif'  style='display: inline-block;' src='image/reset.png' alt='your image' height='50' width='50'/>";var a="<div style='margin-left: 12px; margin-top: 22px; font-family: Courier-New; font-size: 17px;' >"+c+"</div><button id='abortStatusModalProceed' class='statusModalButton' style='width:90px; height:30px; margin-left: 10px; margin-top: 20px; background:#f44242 ' >Retry</button><button id='statusModalButton' class='statusModalButton' style='width:90px; height:30px; margin-left: 10px; margin-top: 20px; background:#f44242 ' >Cancel</button>";$("#userStatusModalImage").append(b);$("#userStatusModalText").append(a);$("#StausText").html("Abort");$("#StatusModal").show();$("#statusModalButton").click(function(){$("#StatusModal").hide()})}function WarningStatus(c,d){$("#userStatusModalImage").children().detach();$("#userStatusModalText").children().detach();var b="<img id='gif'  style='display: inline-block;' src='image/reset.png' alt='your image' height='50' width='60'/>";var a="<div style='margin-left: 10px; margin-top: 22px; font-family: Courier-New; font-size: 16px;' >"+d+"</div><button id='warningStatusModalProceed' onclick='warning_proceed_func("+c+")' class='statusModalButton' style='width:90px; height:30px; margin-left: 10px; margin-top: 20px; background:#f44242 ' >Proceed</button><button id='statusModalButton' class='statusModalButton' style='width:90px; height:30px; margin-left: 10px; margin-top: 20px; background:#f44242 ' >Cancel</button>";$("#userStatusModalImage").append(b);$("#userStatusModalText").append(a);$("#StausText").html("Warning");$("#StatusModal").show();$("#statusModalButton").click(function(){$("#StatusModal").hide()});if(c===99){$("#StatusModalContent").css("height","190px")}}function DisplayStatus(a){switch(a){case 2:InvalidStatus("Operation Failed");break;case 4:InvalidStatus("IP/Username already exists in the database");break;case 10:SuccessStatus("System updated successfully");break;case 11:InvalidStatus("You have reached the Maximum User Limit");break;case 12:InvalidStatus("You have entered an invalid email to the system");break;default:return -1}}var selectedMgmtTableRowCount;var selectedMgmtTableRowData;var rowMgmtIndex;var mgmt_iface_table;var maintenance_warning_type=0;var init_mgmt_ifc_configuration_window=function(){mgmt_iface_table=$("#mgmt_iface_table").DataTable({select:true,columnDefs:[{targets:0,visible:false},{width:"10%",targets:1},{width:"20%",targets:2},{width:"20%",targets:3},{width:"20%",targets:4},{width:"20%",targets:5},{width:"10%",targets:6},{orderable:false,targets:"_all"},{className:"dt-center",targets:"_all"}],scrollY:"100px",scrollCollapse:true,paging:false,searching:false,info:false,ordering:false,createdRow:function(c,b,a){if(b[4]==="1"||b[4]==="2"){$("td:eq(3)",c).css("background-color","#d6ffb2")}else{if(b[4]==="0"){$("td:eq(3)",c).css("background-color","#ff9e9e")}}}});$("#mgmt_iface_table").on("click","tbody tr",function(){selectedMgmtTableRowData=(mgmt_iface_table.row(this).data())+"";selectedMgmtTableRowCount=0;rowMgmtIndex=mgmt_iface_table.row(this).index();var a=1;setTimeout(function(){selectedMgmtTableRowCount=mgmt_iface_table.rows(".selected").count()},a)});$("#mgmt_iface_table").on("click","tbody tr",function(){var a=1;setTimeout(function(){if(selectedMgmtTableRowCount===1){$(".edit,.delete").removeAttr("disabled");if(rowMgmtIndex===0){$("#mgmt_o_mask").show();$("#mgmt_t_mask").hide()}else{$("#mgmt_t_mask").show();$("#mgmt_o_mask").hide()}}else{if(selectedMgmtTableRowCount===0){$(".edit,.delete").attr("disabled","disabled");$("#mgmt_t_mask,#mgmt_o_mask").hide()}else{$(".edit,.delete").attr("disabled","disabled");$("#mgmt_t_mask,#mgmt_o_mask").hide()}}},a)});$("#editMgmtButton").click(function(){if(validateIP($("#mgmt_edit_ip").val())){if(validateIP($("#mgmt_edit_subnet").val())){if(validateIP($("#mgmt_edit_dgw").val())){if(validateIP($("#mgmt_edit_dnss").val())){var a=selectedMgmtTableRowData.split(",");send_mgmt_update(a[0],dot2num($("#mgmt_edit_ip").val()),dot2num($("#mgmt_edit_subnet").val()),dot2num($("#mgmt_edit_dgw").val()),dot2num($("#mgmt_edit_dnss").val()));document.getElementById("editMgmtModal").style.display="none"}else{$("#mgmt_edit__confirm_msg").val("Invalied DNS server IP").css("color","red")}}else{$("#mgmt_edit__confirm_msg").val("Invalid Default Gateway").css("color","red")}}else{$("#mgmt_edit__confirm_msg").val("Invalid Subnet").css("color","red")}}else{$("#mgmt_edit__confirm_msg").val("Invalid IP address").css("color","red")}})};function display_mgmt_table(){mgmt_iface_table.clear();var a=$.cookie("pqsf");var b=new Uint32Array(2);b[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,41,0);$.ajax({data:b.buffer,processData:false,headers:{PARAQUMTEC:a},timeout:1000,type:"POST",url:"/"}).done(function(e){var f=e.split(";");for(var d=0;d<f.length-1;d++){var c=f[d].split("$");mgmt_iface_table.row.add([c[0],c[1],num2dot(c[2]),num2dot(c[3]),num2dot(c[4]),num2dot(c[5]),"Active"]).draw(false)}}).fail(function(){console.error("Problems when posting...")})}function edit_mgmt_interface_prop(){var c=document.getElementById("editMgmtModal");var b=document.getElementById("closeEditMgmtModal");c.style.display="block";b.onclick=function(){c.style.display="none"};window.onclick=function(d){if(d.target===c){c.style.display="none"}};var a=mgmt_iface_table.row(".selected").data();$("#mgmt_edit_infc").val(a[1]);$("#mgmt_edit_ip").val(a[2]);$("#mgmt_edit_subnet").val(a[3]);$("#mgmt_edit_dgw").val(a[4]);$("#mgmt_edit_dnss").val(a[5])}function info_mgmt_interface_show(){var c=document.getElementById("mgmtInfoProModal");var b=document.getElementById("closemgmtInfoModal");c.style.display="block";b.onclick=function(){c.style.display="none"};window.onclick=function(d){if(d.target===c){c.style.display="none"}};var a=mgmt_iface_table.row(".selected").data();$("#mgmt_info_infc").val(a[1]);$("#mgmt_info_ip").val(a[2]);$("#mgmt_info_subnet").val(a[3]);$("#mgmt_info_dgw").val(a[4]);$("#mgmt_info_dnss").val(a[5])}function MgmtDisplayStatus(a){switch(a){case 2:InvalidStatus("Failed to configure the Management Interface Settings");break;case 4:InvalidStatus("MGMT1 and MGMT2 IPs should be on different Subnets");break;case 10:SuccessStatus("System updated successfully");display_mgmt_table();default:return -1}}send_mgmt_update=function(c,h,g,d,a){var f=new ArrayBuffer(4*6);var e=new Uint32Array(f,0,6);e[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,42,0);e[1]=c;e[2]=h;e[3]=g;e[4]=d;e[5]=a;var b=$.cookie("pqsf");$.ajax({data:f,processData:false,headers:{PARAQUMTEC:b},timeout:1000,type:"POST",url:"/"}).done(function(k,l,j){MgmtDisplayStatus(k.charCodeAt(0))}).fail(function(j,l,k){console.error("Problems when posting...")})};maintenance_do_operation=function(c){var b=update_acjs_elements(30+(c-1),"",72,97,115,105,116,104);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){maintenance_show_operation(maintenance_warning_type);document.getElementById("maintenance_warning_modal").style.display="none"}).fail(function(d,f,e){console.error("Problems when posting...")})};maintenance_show_operation=function(e){var c;$(".dmaintain_operation_label").text("");var b=document.getElementById("maintenance_operation_modal");b.style.display="block";if(e===1){c="Device will Reset In "}else{if(e===2){c="Device will Reboot In "}else{c="Device will Shut Down In "}}var d=10;setTimeout(a,1000);function a(){d--;if(d>0){$(".dmaintain_operation_label").text(c+" "+d+" seconds");setTimeout(a,1000)}else{b.style.display="none"}}};maintenance_show_warning=function(d,c){maintenance_warning_type=d;var b=document.getElementById("maintenance_warning_modal");var a=document.getElementById("maintenance_cancel_warning_modal");b.style.display="block";$(".dmaintain_show_label").text(c);a.onclick=function(){b.style.display="none"};window.onclick=function(e){if(e.target===b){b.style.display="none"}}};maintenance_reset=function(){maintenance_show_warning(1,"You are about to reset the Device! Please press Proceed for the Reset.")};maintenance_reboot=function(){maintenance_show_warning(2,"You are about to Reboot the Device! Please press Proceed for the Reboot.")};maintenance_poweroff=function(){maintenance_show_warning(3,"You are about to Power Down the Device! Please press Proceed for the Power Down.")};maintenance_cancel_op=function(){$("#maintenance_warning_modal").hide()};create_modal=function(c,b,d){var a="<div id='"+b+"' class='pq_modal'><div class='pq_modal-content'><img src='image/dribbble_material_preloader.gif' style='width: 80px;float: left'><p class='pq_mdl_vcenter'>"+d+"</p></div></div>";$(c).append(a)};hide_modal=function(a){$(a).hide()};show_modal=function(a){$(a).show()};add_update_indicator=function(d,c,b){var a="<div class='pq_updater_zee' id ='"+c+"' style='position: absolute; width: 100%; height: 100%;background-color: #f4f5f5;'><img src='image/gif/update_bl_beu.gif' style='float: left' class='pq_hvcenter'><a style='float: left; margin-left: 30px;font-size: 16px; color: #1a7cea' class='pq_hvcenter'>"+b+"</a></div>";$(d).append(a);$("#"+c).hide()};show_update_indicator=function(a){$(a).show()};hide_update_indicator=function(a){$(a).hide()};var PQ_ADMIN_TYPE=12;var PQ_USER_TYPE=23;var NW_USER_LIST_ADD=33;var NW_USER_LIST_RESPW=34;var NW_USER_LIST_UPDATE=39;var NW_USER_LIST_DELETE=35;var NW_GET_USER_LIST=36;var NW_USER_LIST_ENBDIS=38;update_acjs_elements=function(b,a,l,k,h,g,e,d){var f=new ArrayBuffer(4*7+a.length);var j=new Uint32Array(f,0,7);j[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,b,0);j[1]=l;j[2]=k;j[3]=h;j[4]=g;j[5]=e;j[6]=d;if(a!==""){j[5]=a.length;var c=new Uint8Array(f,4*7,a.length);for(var m=0;m<a.length;m++){c[m]=a.charCodeAt(m)}}return f};update_two_strings_acjs_elements=function(a,d,c,l,k,h,f){var g=new ArrayBuffer(4*7+d.length+c.length);var j=new Uint32Array(g,0,7);j[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,a,0);j[1]=l;j[2]=k;j[3]=h;j[4]=f;j[5]=d.length;j[6]=c.length;if(d!==""){var e=new Uint8Array(g,4*7,d.length);for(var m=0;m<d.length;m++){e[m]=d.charCodeAt(m)}}if(c!==""){var b=new Uint8Array(g,4*7+d.length,c.length);for(var m=0;m<c.length;m++){b[m]=c.charCodeAt(m)}}return g};add_nw_user_account=function(g,f,b,d,l){var e=new ArrayBuffer(4*7+f.length+b.length);var h=new Uint32Array(e,0,7);h[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,NW_USER_LIST_ADD,0);h[1]=g;h[2]=d;h[3]=l;h[4]=1;h[5]=f.length;h[6]=b.length;var j=new Uint8Array(e,4*7,f.length);for(var k=0;k<f.length;k++){j[k]=f.charCodeAt(k)}var c=new Uint8Array(e,4*7+f.length,b.length);for(var k=0;k<b.length;k++){c[k]=b.charCodeAt(k)}var a=$.cookie("pqsf");$.ajax({data:e,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(n,o,m){Update_Profile_Data(true,false);DisplayStatus(n.charCodeAt(0));$("input").val("")}).fail(function(m,o,n){console.error("Problems when posting...")})};update_user_account=function(d,b,f,a){var e=update_acjs_elements(NW_USER_LIST_UPDATE,b,d,f,a,0,0,0);var c=$.cookie("pqsf");$.ajax({data:e,processData:false,headers:{PARAQUMTEC:c},timeout:1000,type:"POST",url:"/"}).done(function(h,j,g){Update_Profile_Data(true,false);DisplayStatus(h.charCodeAt(0))}).fail(function(g,j,h){console.error("Problems when posting...")})};renew_nw_user_pwd=function(b,e,d){var c=update_two_strings_acjs_elements(NW_USER_LIST_RESPW,e,d,b,0,0,0);var a=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:a},timeout:1000,type:"POST",url:"/"}).done(function(g,h,f){Update_Profile_Data(true,false);DisplayStatus(g.charCodeAt(0));$("input").val("")}).fail(function(f,h,g){console.error("Problems when posting...")})};enable_disable_nw_user_account=function(c,a,h){var g=new ArrayBuffer(4*4+a.length);var f=new Uint32Array(g,0,4);f[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,NW_USER_LIST_ENBDIS,0);f[1]=c;f[2]=h;f[3]=a.length;var e=new Uint8Array(g,4*4,a.length);for(var d=0;d<a.length;d++){e[d]=a.charCodeAt(d)}var b=$.cookie("pqsf");$.ajax({data:g,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(k,l,j){Update_Profile_Data(true,false);DisplayStatus(k.charCodeAt(0))}).fail(function(j,l,k){console.error("Problems when posting...")})};delete_nw_user_account=function(c,a){var g=new ArrayBuffer(4*3+a.length);var f=new Uint32Array(g,0,3);f[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,NW_USER_LIST_DELETE,0);f[1]=c;f[2]=a.length;var e=new Uint8Array(g,4*3,a.length);for(var d=0;d<a.length;d++){e[d]=a.charCodeAt(d)}var b=$.cookie("pqsf");$.ajax({data:g,processData:false,headers:{PARAQUMTEC:b},timeout:1000,type:"POST",url:"/"}).done(function(j,k,h){Update_Profile_Data(true,true);DisplayStatus(j.charCodeAt(0))}).fail(function(h,k,j){console.error("Problems when posting...")})};add_wo_address=function(e,b,a,g,d){var f=update_acjs_elements(WO_ADDR_LIST_ADD,b,pq_2_16_32(e,a),g,d,0,0,0);var c=$.cookie("pqsf");$.ajax({data:f,processData:false,headers:{PARAQUMTEC:c},timeout:10000,type:"POST",url:"/"}).done(function(j,k,h){Update_Address_List();show_acjs_status_modal(j.charCodeAt(0))}).fail(function(h,k,j){console.error("Problems when posting...")})};update_wo_address=function(d,e,a,g,c){var f=update_acjs_elements(WO_ADDR_LIST_UPDATE,"",d,pq_2_16_32(e,a),g,c,0,0);var b=$.cookie("pqsf");$.ajax({data:f,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(j,k,h){Update_Address_List();show_acjs_status_modal(j.charCodeAt(0))}).fail(function(h,k,j){console.error("Problems when posting...")})};delete_wo_address=function(b){var c=update_acjs_elements(WO_ADDR_LIST_DELETE,"",b,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){Update_Address_List();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};add_wo_mac_to_list=function(a,e,d){var c=update_acjs_elements(TS_MACADR_LIST_ADD,a,e,d,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(g,h,f){Update_MAC_List();show_acjs_status_modal(g.charCodeAt(0))}).fail(function(f,h,g){console.error("Problems when posting...")})};edit_wo_mac_of_list=function(b,e,d){var c=update_acjs_elements(TS_MACADR_LIST_UPDATE,"",b,e,d,0,0,0);var a=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(g,h,f){Update_MAC_List();show_acjs_status_modal(g.charCodeAt(0))}).fail(function(f,h,g){console.error("Problems when posting...")})};delete_wo_mac_from_list=function(b){var c=update_acjs_elements(TS_MACADR_LIST_DELETE,"",b,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){Update_MAC_List();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};add_wo_addr_prof=function(a){var c=update_acjs_elements(TS_ADRPROF_LIST_ADD,a,0,0,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:100000000,type:"POST",url:"/"}).done(function(e,f,d){Update_Addr_Prof_List();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};delete_wo_addr_prof=function(b){var c=update_acjs_elements(TS_ADRPROF_LIST_DELETE,"",b,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){Update_Addr_Prof_List();$("#editAddrProfCreate").attr("disabled",true);show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};add_wo_addr_to_prof=function(e,c,a){var d=update_acjs_elements(TS_ADRPELE_LIST_ADD,"",e,c,a,0,0,0);var b=$.cookie("pqsf");$.ajax({data:d,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(g,h,f){Update_Addr_Prof_Addrs();show_acjs_status_modal(g.charCodeAt(0))}).fail(function(f,h,g){console.error("Problems when posting...")})};delete_wo_addr_from_prof=function(d,c){var b=update_acjs_elements(TS_ADRPELE_LIST_DELETE,"",d,c,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(f,g,e){Update_Addr_Prof_Addrs();show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...")})};add_wo_quota_rule=function(a,c,g,b,f,h){var e=update_acjs_elements(WO_QUTA_RULE_LIST_ADD,"",c,a,pq_2_16_32(g,b),pq_2_16_32(f,h),0,0);var d=$.cookie("pqsf");$.ajax({data:e,processData:false,headers:{PARAQUMTEC:d},timeout:10000,type:"POST",url:"/"}).done(function(k,l,j){Init_WO_Quota_Param(0,0,0,0,0,0,0);show_acjs_status_modal(k.charCodeAt(0))}).fail(function(j,l,k){console.error("Problems when posting...")})};update_wo_quota_rule=function(b,j,h,f,d,c,e){var g=update_acjs_elements(WO_QUTA_RULE_LIST_UPDATE,"",b,pq_2_16_32(h,j),pq_2_16_32(f,d),pq_2_16_32(c,e),0,0);var a=$.cookie("pqsf");$.ajax({data:g,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(l,m,k){Init_WO_Quota_Param(1,1,1,1,1,1,1);show_acjs_status_modal(l.charCodeAt(0))}).fail(function(k,m,l){console.error("Problems when posting...")})};swap_wo_quota_rule=function(c,a){var d=update_acjs_elements(WO_QUTA_RULE_LIST_SWAP,"",c,a,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:d,processData:false,headers:{PARAQUMTEC:b},timeout:10000000,type:"POST",url:"/"}).done(function(f,g,e){Init_WO_Quota_Param(1,1,1,1,1,1,1);show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...")})};delete_wo_quota_rule=function(c){var b=update_acjs_elements(WO_QUTA_RULE_LIST_DELETE,"",c,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){Init_WO_Quota_Param(1,1,1,1,1,1,1);show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};add_wo_app_quota_prof=function(a){var c=update_acjs_elements(WO_QUTA_APPPROF_LIST_ADD,a,0,0,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:100000000,type:"POST",url:"/"}).done(function(e,f,d){Update_Quota_App_Prof_List();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};delete_wo_app_quota_prof=function(b){var c=update_acjs_elements(WO_QUTA_APPPROF_LIST_DELETE,"",b,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){Update_Quota_App_Prof_List();$("#editQuotaAppProfCreate").attr("disabled",true);show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};add_wo_app_quota=function(e,a,d){var c=update_acjs_elements(WO_QUTA_APPRULE_LIST_ADD,"",e,a,d,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(g,h,f){Update_Quota_App_Prof_Apps();show_acjs_status_modal(g.charCodeAt(0))}).fail(function(f,h,g){console.error("Problems when posting...")})};update_wo_app_quota=function(a,b,e){var d=update_acjs_elements(WO_QUTA_APPRULE_LIST_UPDATE,"",a,b,e,0,0,0);var c=$.cookie("pqsf");$.ajax({data:d,processData:false,headers:{PARAQUMTEC:c},timeout:10000,type:"POST",url:"/"}).done(function(g,h,f){Update_Quota_App_Prof_Apps();show_acjs_status_modal(g.charCodeAt(0))}).fail(function(f,h,g){console.error("Problems when posting...")})};delete_wo_app_quota=function(a,d){var c=update_acjs_elements(WO_QUTA_APPRULE_LIST_DELETE,"",a,d,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(f,g,e){Update_Quota_App_Prof_Apps();show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...")})};add_wo_url_quota_prof=function(a){var c=update_acjs_elements(WO_QUTA_URLPROF_LIST_ADD,a,0,0,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:100000000,type:"POST",url:"/"}).done(function(e,f,d){Update_Quota_URL_Prof_List();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};delete_wo_url_quota_prof=function(b){var c=update_acjs_elements(WO_QUTA_URLPROF_LIST_DELETE,"",b,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){Update_Quota_URL_Prof_List();$("#editQuotaURLProfCreate").attr("disabled",true);show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};add_wo_url_quota=function(f,a,e,d){var c=update_acjs_elements(WO_QUTA_URLRULE_LIST_ADD,"",f,e,a,d,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(h,j,g){Update_Quota_URL_Prof_URLs();show_acjs_status_modal(h.charCodeAt(0))}).fail(function(g,j,h){console.error("Problems when posting...")})};update_wo_url_quota=function(a,e,d){var c=update_acjs_elements(WO_QUTA_URLRULE_LIST_UPDATE,"",a,e,d,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(g,h,f){Update_Quota_URL_Prof_URLs();show_acjs_status_modal(g.charCodeAt(0))}).fail(function(f,h,g){console.error("Problems when posting...")})};delete_wo_url_quota=function(a,d){var c=update_acjs_elements(WO_QUTA_URLRULE_LIST_DELETE,"",a,d,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(f,g,e){Update_Quota_URL_Prof_URLs();show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...")})};add_wo_serv_quota_prof=function(a){var c=update_acjs_elements(WO_QUTA_SVSPROF_LIST_ADD,a,0,0,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:100000000,type:"POST",url:"/"}).done(function(e,f,d){Update_Quota_Serv_Prof_List();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};delete_wo_serv_quota_prof=function(b){var c=update_acjs_elements(WO_QUTA_SVSPROF_LIST_DELETE,"",b,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){Update_Quota_Serv_Prof_List();$("#editQuotaServProfCreate").attr("disabled",true);show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};add_wo_serv_quota=function(e,d,f,c){var b=update_acjs_elements(WO_QUTA_SVSRULE_LIST_ADD,"",e,f,d,c,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(h,j,g){Update_Quota_Serv_Prof_Servs();show_acjs_status_modal(h.charCodeAt(0))}).fail(function(g,j,h){console.error("Problems when posting...")})};update_wo_serv_quota=function(a,e,d){var c=update_acjs_elements(WO_QUTA_SVSRULE_LIST_UPDATE,"",a,e,d,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(g,h,f){Update_Quota_Serv_Prof_Servs();show_acjs_status_modal(g.charCodeAt(0))}).fail(function(f,h,g){console.error("Problems when posting...")})};delete_wo_serv_quota=function(d,c){var b=update_acjs_elements(WO_QUTA_SVSRULE_LIST_DELETE,"",d,c,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(f,g,e){Update_Quota_Serv_Prof_Servs();show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...")})};add_wo_quota_prof=function(c,e,g,a,b,h){var f=update_acjs_elements(WO_QUTAELE_LIST_ADD,c,g,pq_2_16_32(e,a),h,b,0,0);var d=$.cookie("pqsf");$.ajax({data:f,processData:false,headers:{PARAQUMTEC:d},timeout:10000,type:"POST",url:"/"}).done(function(k,l,j){Update_Quota_Prof_List();show_acjs_status_modal(k.charCodeAt(0))}).fail(function(j,l,k){console.error("Problems when posting...")})};update_wo_quota_prof=function(c,e,a,f){var d=update_acjs_elements(WO_QUTAELE_LIST_UPDATE,"",c,e,f,a,0,0);var b=$.cookie("pqsf");$.ajax({data:d,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(h,j,g){Update_Quota_Prof_List();show_acjs_status_modal(h.charCodeAt(0))}).fail(function(g,j,h){console.error("Problems when posting...")})};delete_wo_quota_prof=function(b){var c=update_acjs_elements(WO_QUTAELE_LIST_DELETE,"",b,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){Update_Quota_Prof_List();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};reset_wo_quota_rule=function(a,b){Update_Quota_Reset_Element()};var user_email_address="";get_user_id=function(){setTimeout(function(){var a=$.cookie("pqsf");var b=new Uint32Array(1);b[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,47,0);$.ajax({data:b.buffer,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(c){$("#pq_user_prof_name").text(c);user_ID=c.split("@");user_email_address=c;setTimeout(function(){},1000)}).fail(function(){})},1000)};init_user_reporting_list=function(){setTimeout(function(){init_reporting_var();init_reports_window()},1000)};update_application_list=function(){var a=$.cookie("pqsf");var b=new Uint32Array(1);b[0]=pq_4_8_32(CJS_REQUEST_START,42,48,0);$.ajax({data:b.buffer,processData:false,headers:{PARAQUMTEC:a},timeout:1000,type:"POST",url:"/"}).done(function(d){application_list[0]="Other";var c=d.split(";");for(var f=0;f<c.length;f++){var e=c[f].split("&");application_list[e[1]]=e[0]}setTimeout(function(){update_services_list()},1000)}).fail(function(){alert("Application list initialisation failed")})};update_services_list=function(){var a=$.cookie("pqsf");var b=new Uint32Array(1);b[0]=pq_4_8_32(CJS_REQUEST_START,42,80,0);$.ajax({data:b.buffer,processData:false,headers:{PARAQUMTEC:a},timeout:1000,type:"POST",url:"/"}).done(function(f){pq_services_list[0]="Other";var e=f.split(";");for(var d=0;d<e.length;d++){var c=e[d].split("&");pq_services_list[c[1]]=c[0]}}).fail(function(){})};get_dashb_notific=function(){setTimeout(function(){var a=$.cookie("pqsf");var b=new Uint32Array(2);b[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,INFO_DASH_NOTIFIC,0);b[1]=0;$.ajax({data:b.buffer,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(g){var f=g.split(";");for(var e=0;e<f.length-1;e++){var h=f[e].split(":");var c=moment.unix(h[0]).format("MMM Do YYYY - hh:mm:ss A");var d=$('<img src="image/bullet.png" style="width: 10px;height: 10px;margin-left: 18px; float: left;margin-top: 10px; "/><div style="font-size: 11px; margin-left: 30px; margin-top: 10px;">'+c+" : "+h[1]+"</div>");$("#notific_area").append(d)}}).fail(function(){console.log("Notification Update failed")})},1000)};change_device_media_configurations=function(d,b){var c=update_acjs_elements(134,"",d,b,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(f,g,e){display_media_config_table();show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...")})};check_update_state=function(){var b=update_acjs_elements(PDEV_UPDATE_STATE,"",0,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(d,e,c){if(d.charCodeAt(0)===1){SuccessStatus("System updated successfully")}else{if(d.charCodeAt(0)===2){get_new_update()}else{if(d.charCodeAt(0)===99){WarningStatus(99,"The system has transferred to Fail-safe Mode! Please go to Maintenance Tab & click Refresh")}else{if(d.charCodeAt(0)===0){}else{return"Error"}}}}}).fail(function(c,e,d){console.error("Problems when posting...")})};update_sys_admin_email=function(a){var c=update_acjs_elements(PDEV_SET_UPDATE_EMAIL,a,0,0,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){get_system_update_info();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};schedule_update=function(a){var c=update_acjs_elements(PDEV_CHECK_UPDATE_OPERATION,"",a,0,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};switch_online_update=function(a){var c=update_acjs_elements(PDEV_SWITCH_ONLINE_UPDATE,"",a,0,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){get_system_update_info()}).fail(function(d,f,e){console.error("Problems when posting...")})};install_offline_update=function(){var b=update_acjs_elements(PDEV_INSTALL_OFFLINE_UPDATE,"",0,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(d,e,c){$("#Offline_Update_Install_Window").hide();if(d.charCodeAt(0)===10){$("#Updating_modal").show()}else{show_acjs_status_modal(d.charCodeAt(0))}}).fail(function(c,e,d){console.error("Problems when posting...")})};install_app_sig_update=function(){var b=update_acjs_elements(PDEV_INSTALL_SIGNATURE_FILE,"",0,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(d,e,c){$("#App_Signature_Update_Install_Window").hide();if(d.charCodeAt(0)===10){$("#Updating_modal").show()}else{show_acjs_status_modal(d.charCodeAt(0))}}).fail(function(c,e,d){console.error("Problems when posting...")})};install_license_update=function(){var b=update_acjs_elements(PDEV_INSTALL_LICENSE,"",0,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(d,e,c){$("#License_Update_Install_Window").hide();if(d.charCodeAt(0)===10){$("#Updating_modal").show()}else{show_acjs_status_modal(d.charCodeAt(0))}}).fail(function(c,e,d){console.error("Problems when posting...")})};set_config_backup_now=function(){var b=update_acjs_elements(NA_CNFGBKUP_BKUP_NOW,"",0,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(d,e,c){get_config_backup_details();show_acjs_status_modal(d.charCodeAt(0))}).fail(function(c,e,d){console.error("Problems when posting...")})};set_config_backup_sched=function(a){var c=update_acjs_elements(NA_CNFGBKUP_MOD_CFG_TIME,"",a,0,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){get_config_backup_details();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};restore_config_backup=function(){var b=update_acjs_elements(NA_CNFGBKUP_RESTORE_NOW,"",0,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(d,e,c){get_config_backup_details();show_acjs_status_modal(d.charCodeAt(0))}).fail(function(c,e,d){console.error("Problems when posting...")})};set_config_backup_serv=function(d,a){var c=update_acjs_elements(NA_CNFGBKUP_MOD_SERVER_CFG,"",d,a,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(f,g,e){get_config_backup_details();show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...")})};get_config_backup_details=function(){var b=update_acjs_elements(NA_CNFGBKUP_DETAIL_LIST,"",0,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(d,f,c){var e=d.split(";");config_backup_data=e[0];update_backup_conf_info()}).fail(function(c,e,d){console.error("Problems when posting...")})};update_ldap_acjs_elements=function(a,d,c,l,k,h,f){var g=new ArrayBuffer(4*7+d.length+c.length);var j=new Uint32Array(g,0,7);j[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,a,0);j[1]=l;j[2]=k;j[3]=h;j[4]=f;j[5]=d.length;j[6]=c.length;if(d!==""){var e=new Uint8Array(g,4*7,d.length);for(var m=0;m<d.length;m++){e[m]=d.charCodeAt(m)}}if(c!==""){var b=new Uint8Array(g,4*7+d.length,c.length);for(var m=0;m<c.length;m++){b[m]=c.charCodeAt(m)}}return g};add_ml_dest_rule=function(f,h,d,g,e,c,a){var j=update_acjs_elements(WO_ADDR_LIST_ADD,"",f,pq_2_16_32(g,e),pq_2_16_32(c,a),h,pq_2_16_32(2,d),0);var b=$.cookie("pqsf");$.ajax({data:j,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(l,m,k){Update_Dest_Rules(f);show_acjs_status_modal(l.charCodeAt(0))}).fail(function(k,m,l){console.error("Problems when posting...")})};edit_ml_dest_rule=function(g,c,e,h,f,d,a){var j=update_acjs_elements(WO_ADDR_LIST_UPDATE,"",g,pq_2_16_32(h,f),pq_2_16_32(d,a),c,pq_2_16_32(2,e),0);var b=$.cookie("pqsf");$.ajax({data:j,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(l,m,k){Update_Dest_Rules(g);show_acjs_status_modal(l.charCodeAt(0))}).fail(function(k,m,l){console.error("Problems when posting...")})};delete_ml_dest_rule=function(a,d){var c=update_acjs_elements(WO_ADDR_LIST_DELETE,"",a,d,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(f,g,e){Update_Dest_Rules(a);show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...")})};add_ml_url_rule=function(h,b,j,c,f,k,g,e,a){var l=update_acjs_elements(ML_URL_RULE_ADD,c,h,pq_1_16_2_8_32(f,b,j),pq_2_16_32(k,g),pq_2_16_32(e,a),0,0);var d=$.cookie("pqsf");$.ajax({data:l,processData:false,headers:{PARAQUMTEC:d},timeout:10000,type:"POST",url:"/"}).done(function(n,o,m){Update_URL_Rules(h);show_acjs_status_modal(n.charCodeAt(0))}).fail(function(m,o,n){console.error("Problems when posting...")})};edit_ml_url_rule=function(g,b,e,h,f,d,a){var j=update_acjs_elements(ML_URL_RULE_UPDATE,"",g,pq_2_16_32(h,f),pq_2_16_32(d,a),pq_2_16_32(b,e),0,0);var c=$.cookie("pqsf");$.ajax({data:j,processData:false,headers:{PARAQUMTEC:c},timeout:10000,type:"POST",url:"/"}).done(function(l,m,k){Update_URL_Rules(g);show_acjs_status_modal(l.charCodeAt(0))}).fail(function(k,m,l){console.error("Problems when posting...")})};delete_ml_url_rule=function(a,d){var c=update_acjs_elements(WO_URLRULE_LIST_DELETE,"",d,a,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(f,g,e){Update_URL_Rules(a);show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...")})};add_ml_app_rule=function(g,d,e,h,f,c,a){var j=update_acjs_elements(ML_APP_RULE_ADD,"",g,d,pq_2_16_32(h,f),pq_2_16_32(c,a),e,0);var b=$.cookie("pqsf");$.ajax({data:j,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(l,m,k){Update_App_Rules(g);show_acjs_status_modal(l.charCodeAt(0))}).fail(function(k,m,l){console.error("Problems when posting...")})};edit_ml_app_rule=function(g,d,e,h,f,c,a){var j=update_acjs_elements(ML_APP_RULE_UPDATE,"",g,d,pq_2_16_32(h,f),pq_2_16_32(c,a),e,0);var b=$.cookie("pqsf");$.ajax({data:j,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(l,m,k){Update_App_Rules(g);show_acjs_status_modal(l.charCodeAt(0))}).fail(function(k,m,l){console.error("Problems when posting...")})};delete_ml_app_rule=function(a,b){var d=update_acjs_elements(ML_APP_RULE_DELETE,"",b,a,0,0,0,0,0);var c=$.cookie("pqsf");$.ajax({data:d,processData:false,headers:{PARAQUMTEC:c},timeout:10000,type:"POST",url:"/"}).done(function(f,g,e){Update_App_Rules(a);show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...")})};add_ml_serv_rule=function(g,d,k,e,h,f,c,a){var j=update_acjs_elements(ML_SVS_RULE_ADD,"",g,pq_2_16_32(h,f),pq_2_16_32(c,a),pq_2_16_32(e,k),d,0);var b=$.cookie("pqsf");$.ajax({data:j,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(m,n,l){Update_Service_Rules(g);show_acjs_status_modal(m.charCodeAt(0))}).fail(function(l,n,m){console.error("Problems when posting...")})};edit_ml_serv_rule=function(g,d,e,h,f,c,a){var j=update_acjs_elements(ML_SVS_RULE_UPDATE,"",g,pq_2_16_32(h,f),pq_2_16_32(c,a),e,d,0);var b=$.cookie("pqsf");$.ajax({data:j,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(l,m,k){Update_Service_Rules(g);show_acjs_status_modal(l.charCodeAt(0))}).fail(function(k,m,l){console.error("Problems when posting...")})};delete_ml_serv_rule=function(a,d){var c=update_acjs_elements(ML_SVS_RULE_DELETE,"",d,a,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(f,g,e){Update_Service_Rules(a);show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...")})};add_ml_admin_pipe=function(b,d,a){var e=update_acjs_elements(WO_ADMIN_SHAPER_LIST_ADD,b,d,a,0,0,0,0);var c=$.cookie("pqsf");$.ajax({data:e,processData:false,headers:{PARAQUMTEC:c},timeout:10000,type:"POST",url:"/"}).done(function(g,h,f){Update_Admin_Pipe_List();show_acjs_status_modal(g.charCodeAt(0))}).fail(function(f,h,g){console.error("Problems when posting...")})};update_ml_admin_pipe=function(d,b,e,a){var f=update_acjs_elements(WO_ADMIN_SHAPER_LIST_UPDATE,b,d,e,a,0,0,0);var c=$.cookie("pqsf");$.ajax({data:f,processData:false,headers:{PARAQUMTEC:c},timeout:10000,type:"POST",url:"/"}).done(function(h,j,g){Update_Admin_Pipe_List();show_acjs_status_modal(h.charCodeAt(0))}).fail(function(g,j,h){console.error("Problems when posting...")})};delete_ml_admin_pipe=function(b){var c=update_acjs_elements(WO_ADMIN_SHAPER_LIST_DELETE,"",b,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){Update_Admin_Pipe_List();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};add_ml_user_pipe=function(c,b,d,f,a){var g=update_acjs_elements(WO_SHAPER_LIST_ADD,d,c,b,a,f,0,0);var e=$.cookie("pqsf");$.ajax({data:g,processData:false,headers:{PARAQUMTEC:e},timeout:10000,type:"POST",url:"/"}).done(function(j,k,h){Update_User_Pipe_List(c);show_acjs_status_modal(j.charCodeAt(0))}).fail(function(h,k,j){console.error("Problems when posting...")})};update_ml_user_pipe=function(b,f,a,c){var e=update_acjs_elements(WO_SHAPER_LIST_UPDATE,c,b,f,a,0,0,0);var d=$.cookie("pqsf");$.ajax({data:e,processData:false,headers:{PARAQUMTEC:d},timeout:10000,type:"POST",url:"/"}).done(function(h,j,g){Update_User_Pipe_List(b);show_acjs_status_modal(h.charCodeAt(0))}).fail(function(g,j,h){console.error("Problems when posting...")})};delete_ml_user_pipe=function(a,c){var d=update_acjs_elements(WO_SHAPER_LIST_DELETE,"",a,c,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:d,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(f,g,e){Update_User_Pipe_List(a);show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...")})};add_ml_schedule=function(a,b,e,h,g,d){var f=update_acjs_elements(WO_SCHD_LIST_ADD,b,a,pq_2_16_32(h,e),g,d,0,0);var c=$.cookie("pqsf");$.ajax({data:f,processData:false,headers:{PARAQUMTEC:c},timeout:10000000000,type:"POST",url:"/"}).done(function(k,l,j){Update_Schedule_List(a);show_acjs_status_modal(k.charCodeAt(0))}).fail(function(j,l,k){console.error("Problems when posting...");alert("Problems when posting...")})};edit_ml_schedule=function(a,e,b,h,g,d){var f=update_acjs_elements(WO_SCHD_LIST_UPDATE,b,a,pq_2_16_32(h,e),g,d,0,0);var c=$.cookie("pqsf");$.ajax({data:f,processData:false,headers:{PARAQUMTEC:c},timeout:10000000000,type:"POST",url:"/"}).done(function(k,l,j){Update_Schedule_List(a);show_acjs_status_modal(k.charCodeAt(0))}).fail(function(j,l,k){console.error("Problems when posting...");alert("Problems when posting...")})};delete_ml_schedule=function(a,c){var d=update_acjs_elements(WO_SCHD_LIST_DELETE,"",a,c,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:d,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(f,g,e){Update_Schedule_List(a);show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...");alert("Problems when posting...")})};var sc_sd_diagram={nodes:[],links:[]};var sc_digram_colors=[];var sc_cd_type=CLIENT_DIAGRAM;var sc_cd_ip;var sc_cd_mask;var sc_cd_sum_type;var sc_cd_sum_refresh=true;var sc_cd_diagram_type;var sc_window_id=0;var scd_windo_data_updater;function start_live_scd_updates(){if(scd_windo_data_updater){return}scd_windo_data_updater=setInterval(request_scdw_diagram_info,10000)}function end_live_scd_updates(){clearInterval(scd_windo_data_updater);scd_windo_data_updater=null}function request_scdw_diagram_info(){sc_cd_sum_refresh=false;load_and_draw_sc_dgrm(sc_cd_diagram_type);load_and_draw_sc_sumry(sc_cd_sum_type)}var create_live_srcdes_watch_graph=function(){return lssd_graph_init(LSRC_UPDATE,"plot_live_sources_updown","","#a8334d","#008000","#pq_lsd_uplink_usage","#pq_lsd_downlink_usage","#pq_lsd_uplink_pkts","#pq_lsd_downlink_pkts","#pq_lscw_stat_bar",2)};run_diagram=function(){$(sc_cd_div).empty();var a=d3.select(sc_cd_div).append("svg").chart("Sankey.Path");a.name(sc_cd_label).colorNodes(function(b,c){return sc_digram_colors[c.name]||"#9f9fa3"}).colorLinks(function(b){return sc_digram_colors[b.source.name]||"#9f9fa3"}).nodeWidth(20).nodePadding(10).spread(true).iterations(0).draw(sc_sd_diagram);$(sc_cd_div+" svg").css("margin-top","10px")};function sc_cd_label(a){return a.name}function load_sc_diagram(b,d,a,e,c){sc_cd_type=b;sc_cd_ip=d;sc_cd_div=e;sc_cd_mask=a;sc_window_id=c;sc_cd_sum_type=1;btn_sc_load_now(SCD_TRAFIC);if(b===CLIENT_DIAGRAM){$("#btn_lw_bt_one").text("Applications");$("#btn_lw_bt_two").text("Destinations");if(live_watch_mode===0){$("#pq_lsrc_go_back_text").text("Back To Sources")}else{if(live_watch_mode===1){$("#pq_lsrc_go_back_text").text("Back To Top Sources")}else{$("#pq_lsrc_go_back_text").text("Back To Watch")}}$("#tc_diag_type").text("Source Diagram");$("#btn_lw_bt_three").show();update_live_watch_summery(LSUM_SRC_T_APP,dot2num(num2dot(d)),a)}else{if(b===SERVER_DIAGRAM){$("#btn_lw_bt_one").text("Sources");$("#btn_lw_bt_two").text("Applications");if(live_watch_mode===0){$("#pq_lsrc_go_back_text").text("Back To Destinations")}else{if(live_watch_mode===1){$("#pq_lsrc_go_back_text").text("Back To Top Destinations")}else{$("#pq_lsrc_go_back_text").text("Back To Watch")}}$("#tc_diag_type").text("Destination Diagram");$("#btn_lw_bt_three").show();update_live_watch_summery(LSUM_DES_T_SRC,dot2num(num2dot(d)),a)}else{if(b===APP_DIAGRAM){$("#btn_lw_bt_one").text("Sources");$("#btn_lw_bt_two").text("Destinations");if(live_watch_mode===0){$("#pq_lsrc_go_back_text").text("Back To Applications")}else{if(live_watch_mode===1){$("#pq_lsrc_go_back_text").text("Back To Top Applications")}else{$("#pq_lsrc_go_back_text").text("Back To Watch")}}$("#tc_diag_type").text("Application Diagram");$("#btn_lw_bt_three").hide();update_live_watch_summery(LSUM_APP_T_SRC,d,a)}else{if(b==SVS_DIAGRAM){$("#btn_lw_bt_one").text("Sources");$("#btn_lw_bt_two").text("Destinations");if(live_watch_mode===0){$("#pq_lsrc_go_back_text").text("Back To Services")}else{if(live_watch_mode===1){$("#pq_lsrc_go_back_text").text("Back To Top Services")}else{$("#pq_lsrc_go_back_text").text("Back To Watch")}}$("#tc_diag_type").text("Service Diagram");$("#btn_lw_bt_three").hide();update_live_watch_summery(LSUM_SVS_T_SRC,d,a)}}}}start_live_scd_updates()}load_and_draw_sc_dgrm=function(d){sc_sd_diagram.links.length=0;sc_sd_diagram.nodes.length=0;var a;var b={type:DIAGRAM_UPDATE,id:sc_cd_type,uid:global_rule_user,gid:d,ip:sc_cd_ip,mask:sc_cd_mask};if(sc_cd_type===APP_DIAGRAM){var c;if(b.ip<application_list.length){c=application_list[b.ip]}else{c=pq_services_list[b.ip-application_list.length+1]}a=c;sc_sd_diagram.nodes.push({name:c,id:"final_score"})}else{if(sc_cd_type==SVS_DIAGRAM){a=pq_services_list[b.ip];sc_sd_diagram.nodes.push({name:pq_services_list[b.ip],id:"final_score"})}else{if(sc_cd_mask>=32){a=num2dot(b.ip)}else{a=num2dot(b.ip)+"/"+sc_cd_mask}sc_sd_diagram.nodes.push({name:a,id:"final_score"})}}if(sc_digram_colors[a]==null){sc_digram_colors[a]=randomColor({luminosity:"bright"})}cjs_make_request(CLIENT_DIAGRAM,b)};btn_sc_load_now=function(a){sc_cd_diagram_type=a;load_and_draw_sc_dgrm(a)};load_and_draw_sc_sumry=function(a){if(a===1){if(sc_cd_type==CLIENT_DIAGRAM){update_live_watch_summery(LSUM_SRC_T_APP,dot2num(num2dot(sc_cd_ip)),sc_cd_mask)}else{if(sc_cd_type==SERVER_DIAGRAM){update_live_watch_summery(LSUM_DES_T_SRC,dot2num(num2dot(sc_cd_ip)),sc_cd_mask)}else{if(sc_cd_type==SVS_DIAGRAM){update_live_watch_summery(LSUM_SVS_T_SRC,sc_cd_ip,sc_cd_mask)}else{update_live_watch_summery(LSUM_APP_T_SRC,sc_cd_ip,sc_cd_mask)}}}}else{if(a===3){if(sc_cd_type==CLIENT_DIAGRAM){update_live_watch_summery(LSUM_SRC_T_SVS,dot2num(num2dot(sc_cd_ip)),sc_cd_mask)}else{if(sc_cd_type==SERVER_DIAGRAM){update_live_watch_summery(LSUM_DES_T_SVS,dot2num(num2dot(sc_cd_ip)),sc_cd_mask)}}}else{if(sc_cd_type==CLIENT_DIAGRAM){update_live_watch_summery(LSUM_SRC_T_DEST,dot2num(num2dot(sc_cd_ip)),sc_cd_mask)}else{if(sc_cd_type==SERVER_DIAGRAM){update_live_watch_summery(LSUM_DES_T_APP,dot2num(num2dot(sc_cd_ip)),sc_cd_mask)}else{if(sc_cd_type==SVS_DIAGRAM){update_live_watch_summery(LSUM_SVS_T_DEST,sc_cd_ip,sc_cd_mask)}else{update_live_watch_summery(LSUM_APP_T_DEST,sc_cd_ip,sc_cd_mask)}}}}}};btn_sc_sum_load_now=function(a){sc_cd_sum_type=a;sc_cd_sum_refresh=true;load_and_draw_sc_sumry(a)};change_source_watch_head=function(d,b,a,c){if(a>=32){if(b!=="_"&&b!=="N/A"&&b!==undefined){$("#pq_lscw_sip_text").text("Client: "+d+" ("+b+")")}else{$("#pq_lscw_sip_text").text("Client IP: "+d)}}else{if(isNaN(a)){$("#pq_lscw_sip_text").text("Client IP: "+d)}else{$("#pq_lscw_sip_text").text("Client IP: "+d+"/"+a)}}$("#pq_lscw_ses_text").text("Sessions : "+c)};change_dest_watch_head=function(a,c,b,d){if(b>=32){if(c!=="_"&&c!==0&&c!==undefined){$("#pq_lscw_sip_text").text("Server: "+a+" ("+c+")")}else{$("#pq_lscw_sip_text").text("Server IP: "+a)}}else{if(isNaN(b)){$("#pq_lscw_sip_text").text("Server IP: "+a)}else{$("#pq_lscw_sip_text").text("Server IP: "+a+"/"+b)}}$("#pq_lscw_ses_text").text("Sessions : "+d)};change_application_watch_head=function(a,c){var b;if(a<application_list.length){b=application_list[a]}else{b=pq_services_list[a-application_list.length+1]}$("#pq_lscw_sip_text").text("Application : "+b);$("#pq_lscw_ses_text").text("Sessions : "+c)};change_services_watch_head=function(a,b){$("#pq_lscw_sip_text").text("Service: "+pq_services_list[a]);$("#pq_lscw_ses_text").text("Sessions : "+b)};var data_pq_live_usage=[{label:"1",value:0}];var pie_pq_live_usage;var pie_pq_live_usage_wrap;var pie_pq_live_usage_id=3;create_live_su_pie=function(d,c,a){var b=document.getElementById(""+c).offsetWidth;return new d3pie(c,{size:{canvasHeight:b,canvasWidth:b,pieOuterRadius:"100%"},data:{content:a},labels:{outer:{format:"none"},inner:{hideWhenLessThanPercentage:5},mainLabel:{fontSize:9},percentage:{color:"#ffffff",decimalPlaces:0},value:{color:"#adadad",fontSize:8},lines:{enabled:true},truncation:{enabled:true}},effects:{load:{speed:10},pullOutSegmentOnClick:{effect:"linear",speed:40,size:8}},misc:{gradient:{enabled:false,percentage:100}},callbacks:{onMouseoverSegment:function(e){if(e.data.label.length>15){$("#pq_live_usage_legend .pqpie_lble_nme").css({height:"40px",top:"calc(20%)"})}else{$("#pq_live_usage_legend .pqpie_lble_nme").css({height:"20px",top:"calc(25%)"})}$("#pq_live_usage_legend .pqpie_lble").css({display:"block"}).delay(2000).hide(0);$("#pq_live_usage_legend .pqpie_lble_nme").text(e.data.label).css({color:e.data.color,"text-shadow":"0 0 10px #000"});$("#pq_live_usage_legend .pqpie_lble_val").text(pq_get_usage(e.data.value)).css({color:e.data.color,"text-shadow":"0 0 10px #000"})}}})};init_live_su_watch_plots=function(a){pie_pq_live_usage_id=a;if(pie_pq_live_usage_wrap!=null){data_pq_live_usage.length=0;data_pq_live_usage.push({label:"1",value:0})}pie_pq_live_usage=create_live_su_pie(a,"pq_live_usage_pie_hlder",data_pq_live_usage);pie_pq_live_usage_wrap=new pq_mod_pie(pie_pq_live_usage,"#pq_live_usage_pie_hlder",data_pq_live_usage,"#pq_live_usage_legend",a);pqpie_resize_loading("#pq_live_usage_pie_hlder",pie_pq_live_usage)};update_live_watch_summery=function(c,d,a){data_pq_live_usage.length=0;data_pq_live_usage.push({label:"1",value:0});pie_pq_live_usage_wrap.update_summery_pie(pie_pq_live_usage_id,1);$("#pq_live_usage_legend").children().remove();var b={type:SESSION_UPDATE,id:LSUMRY_UPDATE,uid:global_rule_user,lid:c,loc:1,sip:d,dip:a};cjs_make_request(LSUMRY_UPDATE,b)};var data_dashPie_dlink=[{label:"1",value:0}];var pie_pq_dashPie_dlink;var data_dashPie_ulink=[{label:"1",value:0}];var pie_pq_dashPie_ulink;init_dashPie_piecharts=function(){pie_pq_dashPie_dlink=new d3pie("dashPie_src_dlink",{size:{canvasHeight:$("#dashPie_src_dlink").width()*0.9,canvasWidth:$("#dashPie_src_dlink").width()*0.9,pieOuterRadius:"100%"},data:{sortOrder:"value-desc",content:data_dashPie_dlink},labels:{outer:{format:"none"},inner:{hideWhenLessThanPercentage:5},mainLabel:{fontSize:8},percentage:{color:"#ffffff",decimalPlaces:2},value:{color:"#adadad",fontSize:11},truncation:{enabled:true}},tooltips:{enabled:true,type:"placeholder",string:"{label}: {value}, {percentage}%",placeholderParser:function(a,b){b.value=pq_get_usage(b.value)},styles:{fadeInSpeed:1000,backgroundColor:"#0079dc",backgroundOpacity:1}},effects:{load:{speed:10},pullOutSegmentOnClick:{effect:"linear",speed:400,size:8}},misc:{gradient:{enabled:false,percentage:79}},callbacks:{onClickSegment:function(b){dashPie_bw_plot_init(b.data.label);$("#dashPie_bw_plot").text("Bandwidth Usage - "+b.data.label);dashPie_clk_seg=b.data.label}}});pie_pq_dashPie_ulink=new d3pie("dashPie_src_ulink",{size:{canvasHeight:$("#dashPie_src_ulink").width()*0.9,canvasWidth:$("#dashPie_src_ulink").width()*0.9,pieOuterRadius:"100%"},data:{sortOrder:"value-desc",content:data_dashPie_ulink},labels:{outer:{format:"none"},inner:{hideWhenLessThanPercentage:5},mainLabel:{fontSize:8},percentage:{color:"#ffffff",decimalPlaces:2},value:{color:"#adadad",fontSize:11},lines:{enabled:false,style:"straight",color:"#000000"},truncation:{enabled:true}},tooltips:{enabled:true,type:"placeholder",string:"{label}: {value}, {percentage}%",placeholderParser:function(a,b){b.value=pq_get_usage(b.value)},styles:{fadeInSpeed:1000,backgroundColor:"#0079dc",backgroundOpacity:1}},effects:{load:{speed:10},pullOutSegmentOnClick:{effect:"linear",speed:400,size:8}},misc:{gradient:{enabled:false,percentage:79}},callbacks:{onClickSegment:function(b){dashPie_bw_plot_init(b.data.label);$("#dashPie_bw_plot").text("Bandwidth Usage - "+b.data.label);dashPie_clk_seg=b.data.label}}})};var summary_dashPie_updater;function start_dashPie_update(){if(summary_dashPie_updater){return}summary_dashPie_updater=setInterval(request_dashPie_update,15000)}function end_dashPie_update(){clearInterval(summary_dashPie_updater);summary_dashPie_updater=null}function request_dashPie_update(){var b=dashPieCat;switch(b){case 1:var a={type:SESSION_UPDATE,id:SUMRY_SRC_UPDATE,uid:global_rule_user,lid:SUMRY_SRC_UPDATE,loc:1};cjs_make_request(SUMRY_SRC_UPDATE,a);break;case 2:var a={type:SESSION_UPDATE,id:SUMRY_DEST_UPDATE,uid:global_rule_user,lid:SUMRY_DEST_UPDATE,loc:1};cjs_make_request(SUMRY_DEST_UPDATE,a);break;case 3:var c={type:SESSION_UPDATE,id:SUMRY_APP_UPDATE,uid:global_rule_user,lid:SUMRY_APP_UPDATE,loc:1};cjs_make_request(SUMRY_APP_UPDATE,c);break}}var _globle_summery_pie_chart=[];var _globle_pie_mapper=[];var _globle_pie_data_array=[];var _globle_pie_div_array=[];var pq_mod_pie=function(b,c,e,a,h){var d=[];var g=a;_globle_pie_mapper[h]=d;_globle_summery_pie_chart[h]=b;_globle_pie_data_array[h]=e;_globle_pie_div_array[h]=c;var f=function(j){var k=j.slice(0);k.sort(function(m,l){if(m.value<l.value){return 1}if(m.value>l.value){return -1}return 0});return k};this.add_pq_pie_legend=function(o,l,j,n){var m=0;var k='"'+l+'"';if(CURRENT_WINDOW===WINDOW_USER_SUMMARY){item="<div class='pie_elem_leg' style='width: 105px; height: 24px;cursor: pointer;background-color: whitsmoke' onclick= '"+n+"("+k+","+h+")'> <div class='pq_vcenter' style='float: left; width: 11px;height: 10px;margin-left: "+m+"px; margin-top:5px; background-color: "+j+"'></div><a class='pq_vcenter' style='margin-left: 5px; width: 85px; float: left; margin-top:5px; font-size: 10px;overflow: hidden; text-decoration:none;'>"+l+"</a></div>"}else{item="<div class='pie_elem_leg' style='width: 105px; height: 24px;cursor: default;background-color: whitsmoke'> <div class='pq_vcenter' style='float: left; width: 11px;height: 10px;margin-left: "+m+"px; margin-top:5px; background-color: "+j+"'></div><a class='pq_vcenter' style='margin-left: 5px; width: 85px; float: left; margin-top:5px; font-size: 10px;overflow: hidden; text-decoration:none;'>"+l+"</a></div>"}$(o).append(item)};pq_legend_clicked=function(j,k){redirect_live_watch(j,k)};clear_pq_pie_legends=function(j){$(j).children().remove();$(j).append(ele_pqpie_label_html);if($("#pq_sum_src_legend").height()>($("#pq_sum_src_hldr").height()+50)){$(".pqpie_modal").height($("#pq_sum_src_hldr").height()+20)}else{$(".pqpie_modal").height($("#pq_sum_src_legend").height())}$(".pqpie_modal").width($("#pq_sum_src_legend").width())};this.update_summery_pie=function(n,j){var l=f(_globle_pie_data_array[n]);if(l.length>j){l=l.slice(0,j)}var k=0;clear_pq_pie_legends(a);_globle_pie_mapper[n].length=0;for(var m=0;m<l.length;m++){l[m].color=pieColorScheme_10[m];this.add_pq_pie_legend(a,l[m].label,l[m].color,"pq_legend_clicked");_globle_pie_mapper[n][l[m].label]=k;k++}_globle_summery_pie_chart[n].updateProp("data.content",l);pqpie_update_nresize(_globle_pie_div_array[n],_globle_summery_pie_chart[n])};this.clear_summery_pie=function(m,j){var l=f(e);if(l.length>j){l=l.slice(0,j)}var k=0;clear_pq_pie_legends(a);_globle_summery_pie_chart[m].upddateProp("data.content",l)}};var pq_mod_pie_update_que=[];var pq_mod_pie_sequence=function(){setTimeout(function(){var a=pq_mod_pie_update_que.shift();a.w.update_summery_pie(a.i,a.c);if(pq_mod_pie_update_que.length>0){pq_mod_pie_sequence()}},2000)};var pq_mod_pie_update=function(a,c,b){pq_mod_pie_update_que.push({w:a,i:c,c:b});if(pq_mod_pie_update_que.length===1){pq_mod_pie_sequence()}};var data_pq_sum_srcs=[{label:"1",value:0}];var pie_pq_sum_srcs;var pie_pq_sum_srcs_wrap;var data_pq_sum_dests=[{label:"1",value:0}];var pie_pq_sum_dests;var pie_pq_sum_dests_wrap;var data_pq_sum_apps=[{label:"1",value:0}];var pie_pq_sum_apps;var pie_pq_sum_apps_wrap;init_summary_dbd_plots=function(){pie_pq_sum_srcs=new d3pie("pq_sum_src_hldr",{size:{canvasHeight:200,canvasWidth:200,pieOuterRadius:"100%"},data:{content:data_pq_sum_srcs},labels:{outer:{format:"none"},inner:{hideWhenLessThanPercentage:5},mainLabel:{fontSize:9},percentage:{color:"#ffffff",decimalPlaces:0},value:{color:"#adadad",fontSize:8},lines:{enabled:true},truncation:{enabled:true}},effects:{load:{speed:10},pullOutSegmentOnClick:{effect:"linear",speed:40,size:8}},misc:{gradient:{enabled:false,percentage:100}},callbacks:{onMouseoverSegment:function(b){$("#pq_sum_src_legend .pqpie_lble").css({display:"block"}).delay(2000).hide(0);$("#pq_sum_src_legend .pqpie_lble_nme").text(b.data.label).css({color:b.data.color,"text-shadow":"0 0 10px #000"});$("#pq_sum_src_legend .pqpie_lble_val").text(pq_get_usage(b.data.value)).css({color:b.data.color,"text-shadow":"0 0 10px #000"})}}});pie_pq_sum_srcs_wrap=new pq_mod_pie(pie_pq_sum_srcs,"#pq_sum_src_hldr",data_pq_sum_srcs,"#pq_sum_src_legend",0);pqpie_resize_loading("#pq_sum_src_hldr",pie_pq_sum_srcs);pie_pq_sum_dests=new d3pie("pq_sum_dest_hldr",{size:{canvasHeight:200,canvasWidth:200,pieOuterRadius:"100%"},data:{content:data_pq_sum_dests},labels:{outer:{format:"none"},inner:{hideWhenLessThanPercentage:5},mainLabel:{fontSize:9},percentage:{color:"#ffffff",decimalPlaces:0},value:{color:"#adadad",fontSize:8},lines:{enabled:true},truncation:{enabled:true}},effects:{load:{speed:10},pullOutSegmentOnClick:{effect:"linear",speed:40,size:8}},misc:{gradient:{enabled:false,percentage:100}},callbacks:{onMouseoverSegment:function(b){$("#pq_sum_dest_legend .pqpie_lble").css({display:"block"}).delay(2000).hide(0);$("#pq_sum_dest_legend .pqpie_lble_nme").text(b.data.label).css({color:b.data.color,"text-shadow":"0 0 25px #000"});$("#pq_sum_dest_legend .pqpie_lble_val").text(pq_get_usage(b.data.value)).css({color:b.data.color,"text-shadow":"0 0 25px #000"})}}});pie_pq_sum_dests_wrap=new pq_mod_pie(pie_pq_sum_dests,"#pq_sum_dest_hldr",data_pq_sum_dests,"#pq_sum_dest_legend",1);pqpie_resize_loading("#pq_sum_dest_hldr",pie_pq_sum_dests);pie_pq_sum_apps=new d3pie("pq_sum_app_hldr",{size:{canvasHeight:200,canvasWidth:200,pieOuterRadius:"100%"},data:{content:data_pq_sum_apps},labels:{outer:{format:"none"},inner:{hideWhenLessThanPercentage:5},mainLabel:{fontSize:9},percentage:{color:"#ffffff",decimalPlaces:0},value:{color:"#adadad",fontSize:8},lines:{enabled:true},truncation:{enabled:true}},effects:{load:{speed:10},pullOutSegmentOnClick:{effect:"linear",speed:400,size:8}},misc:{gradient:{enabled:false,percentage:100}},callbacks:{onMouseoverSegment:function(b){if(b.data.label.length>15){$("#pq_sum_app_legend .pqpie_lble_nme").css({height:"40px",top:"calc(20%)"})}else{$("#pq_sum_app_legend .pqpie_lble_nme").css({height:"20px",top:"calc(25%)"})}$("#pq_sum_app_legend .pqpie_lble").css({display:"block"}).delay(2000).hide(0);$("#pq_sum_app_legend .pqpie_lble_nme").text(b.data.label).css({color:b.data.color,"text-shadow":"0 0 10px #000"});$("#pq_sum_app_legend .pqpie_lble_val").text(pq_get_usage(b.data.value)).css({color:b.data.color,"text-shadow":"0 0 10px #000"})}}});pie_pq_sum_apps_wrap=new pq_mod_pie(pie_pq_sum_apps,"#pq_sum_app_hldr",data_pq_sum_apps,"#pq_sum_app_legend",2);pqpie_resize_loading("#pq_sum_app_hldr",pie_pq_sum_apps)};var summery_top_updater;function start_summary_top_update(){if(summery_top_updater){return}summery_top_updater=setInterval(request_summary_top_update,15000)}function end_summary_top_update(){clearInterval(summery_top_updater);summery_top_updater=null}function request_summary_top_update(){var a={type:SESSION_UPDATE,id:SUMRY_SDC_UPDATE,uid:global_rule_user,lid:SESSION_APP_UPDATE,loc:1};cjs_make_request(SUMRY_SDC_UPDATE,a)}function redirect_live_watch(e,h,g){var f=[];switch(h){case 0:var a="N/A";if(isNaN(dot2num(e))){a=e;var d=_globle_pie_mapper[h][e];e=data_pq_sum_srcs_ip[d]}f=[e,a];load_src_live_watch_window(f,0);break;case 1:var c=0;if(isNaN(dot2num(e))){c=e;var d=_globle_pie_mapper[h][e];e=data_pq_sum_dests_ip[d]}f=[e,c,"N/A"];load_dest_live_watch_window(f,0);break;case 2:var b=application_list.indexOf(e);f=[0,"N/A",0,0,0,0,0,b];load_app_live_watch_window(f,0);break;case 3:f=[e,"N/A"];load_src_live_watch_window(f,1);break;case 4:f=[e,0,"N/A"];load_dest_live_watch_window(f,1);break;case 5:var b=application_list.indexOf(e);f=[0,"N/A",0,0,0,0,0,b];load_app_live_watch_window(f,1);break;case 6:var c=0;if(isNaN(dot2num(e))){c=e;e=data_pq_dash_dlink_items[g]}f=[e,c,"N/A"];load_dest_live_watch_window(f,1);break;case 7:var c=0;if(isNaN(dot2num(e))){c=e;e=data_pq_dash_ulink_items[g]}f=[e,c,"N/A"];load_dest_live_watch_window(f,1);break}}var bwh_ulg_id;var bwh_dlg_id;var last_bwh_req;var hist_glob_stime;var hist_glob_end_time;update_his_search_time_range=function(b,a){$("#date_input_bw_his_st").data("DateTimePicker").date(moment.utc(get_Ts_time(b)).format("MMM Do YYYY - hh:mm:ss A"));$("#date_input_bw_his_et").data("DateTimePicker").date(moment.utc(get_Ts_time(a)).format("MMM Do YYYY - hh:mm:ss A"));hist_glob_stime=b;hist_glob_end_time=a};var hide_history_no_data=function(){$("#pq_bwh_ul_plot_no_data").hide();$("#pq_bwh_dl_plot_no_data").hide()};var hide_history_no_avil=function(){$("#pq_bwh_ul_plot_no_avil").hide();$("#pq_bwh_dl_plot_no_avil").hide()};var hide_history_loading=function(){$("#pq_bwh_ul_plot_loading").hide();$("#pq_bwh_dl_plot_loading").hide()};var show_history_loading=function(){$("#pq_bwh_ul_plot_loading").show();$("#pq_bwh_dl_plot_loading").show()};var validate_hist_data_availability=function(b,a){if(b===bwh_ulg_id){$("#pq_bwh_ul_plot_loading").hide();if(a===0){$("#pq_bwh_ul_plot_no_avil").show();$("#bw_hist_prev_btn").attr("disabled",true);$("#bw_hist_next_btn").attr("disabled",true)}}if(b===bwh_dlg_id){$("#pq_bwh_dl_plot_loading").hide();if(a===0){$("#pq_bwh_dl_plot_no_avil").show();$("#bw_hist_prev_btn").attr("disabled",true);$("#bw_hist_next_btn").attr("disabled",true)}}};var show_history_no_data=function(){$("#pq_bwh_ul_plot_no_data").show();$("#pq_bwh_dl_plot_no_data").show();$("#bw_hist_prev_btn").attr("disabled",true);$("#bw_hist_next_btn").attr("disabled",true)};var initialize_bwh_window=function(){bwh_ulg_id=bwh_graph_init("pq_bwh_ul_plot","#32c182",0);bwh_dlg_id=bwh_graph_init("pq_bwh_dl_plot","#cd790f",1);$("#date_input_bw_his_st").datetimepicker({format:"MMM Do YYYY - hh:mm:ss A",maxDate:Date.now()});$("#date_input_bw_his_et").datetimepicker({format:"MMM Do YYYY - hh:mm:ss A",maxDate:Date.now()});$("#date_input_bw_his_st,#date_input_bw_his_et").on("dp.change",function(){show_history_no_data()});$("#date_input_bw_his_st").on("dp.change",function(c){if($("#date_input_bw_his_st").val()!==""){$("#date_input_bw_his_et").data("DateTimePicker").minDate(c.date)}});var a=moment().hours(0).minutes(0).seconds(0).milliseconds(0).format("MMM Do YYYY - hh:mm:ss A");var b=moment().seconds(0).milliseconds(0).format("MMM Do YYYY - hh:mm:ss A");$("#date_input_bw_his_st").data("DateTimePicker").date(a);$("#date_input_bw_his_et").data("DateTimePicker").date(b);$("#pq_bwh_dl_plot,#pq_bwh_ul_plot").bind("contextmenu",function(c){c.preventDefault();$(".custom-menu").toggle(10).css({top:(c.pageY-5)+"px",left:(c.pageX-5)+"px"})});$("#pq_bwh_dl_plot,#pq_bwh_ul_plot").bind("mousedown",function(){$(".custom-menu").hide(100)});hide_history_no_avil();hide_history_no_data();show_history_loading();bwh_apply_btnclk()};bwh_apply_btnclk=function(){hide_history_no_avil();hide_history_no_data();$("#bw_hist_prev_btn").attr("disabled",false);$("#bw_hist_next_btn").attr("disabled",false);var c=$("#date_input_bw_his_st").data("DateTimePicker").date();var a=$("#date_input_bw_his_et").data("DateTimePicker").date();hist_glob_stime=new Date(c);hist_glob_end_time=new Date(a);if(hist_glob_stime.getTime()===hist_glob_end_time.getTime()){InvalidStatus("Start and End Time cannot be the same");show_history_no_data()}else{$("#bwhist_dlink_label").text("Network Downlink Bandwidth");$("#bwhist_ulink_label").text("Network Uplink Bandwidth");show_history_loading();var b={type:GRAPH_UPDATE,id:GRAPH_BH_UPDATE,gid:bwh_ulg_id,link:pq_2_16_32(bwh_link_id,0),chanel:0,s_date:c,e_date:a,min_bw:0,log:0,vid:4095};cjs_make_request(GRAPH_BH_UPDATE,b);last_bwh_req=b}};bwh_refresh_btn_click=function(){hide_history_no_avil();show_history_no_data();update_his_search_time_range(new Date(),new Date())};var bwh_mine_click=function(d,c){if(bwh_graph_type!=0){var f=$("#date_input_bw_his_st").data("DateTimePicker").date();var a=$("#date_input_bw_his_et").data("DateTimePicker").date();hide_history_no_avil();hide_history_no_data();show_history_loading();var b={type:GRAPH_UPDATE,id:GRAPH_BH_UPDATE,gid:bwh_ulg_id,link:pq_2_16_32(0,bwh_graph_type),chanel:pq_2_16_32(0,HIST_TYPE_MINE),s_date:f,e_date:a,min_bw:0,log:bwh_point_buff[c.idx],vid:4095};last_bwh_req=b;cjs_make_request(GRAPH_BH_UPDATE,b)}};bwh_previous_click=function(){if(bwh_point_buff.length>0&&bwh_point_buff[0]>0){var c=$("#date_input_bw_his_st").data("DateTimePicker").date();var a=$("#date_input_bw_his_et").data("DateTimePicker").date();hide_history_no_avil();hide_history_no_data();show_history_loading();var b={type:GRAPH_UPDATE,id:GRAPH_BH_UPDATE,gid:bwh_ulg_id,link:pq_2_16_32(0,bwh_graph_type),chanel:pq_2_16_32(0,HIST_TYPE_PREV),s_date:c,e_date:a,min_bw:0,log:bwh_point_buff[0],vid:4095};last_bwh_req=b;cjs_make_request(GRAPH_BH_UPDATE,b)}};bwh_next_click=function(){if(bwh_point_buff.length>0){var c=$("#date_input_bw_his_st").data("DateTimePicker").date();var a=$("#date_input_bw_his_et").data("DateTimePicker").date();hide_history_no_avil();hide_history_no_data();show_history_loading();var b={type:GRAPH_UPDATE,id:GRAPH_BH_UPDATE,gid:bwh_ulg_id,link:pq_2_16_32(0,bwh_graph_type),chanel:pq_2_16_32(0,HIST_TYPE_NEXT),s_date:c,e_date:a,min_bw:0,log:bwh_point_buff[bwh_point_buff.length-1],vid:4095};last_bwh_req=b;cjs_make_request(GRAPH_BH_UPDATE,b)}};var skt_live_bw_con=[];var live_graph=[];var lg_data_buff=[];var lg_color_buff=[];var blg_clr_keep=[];var last_lg_ut=[];var last_bwu_time=[];var bwhist_prv_ts=[];var bwhist_prv_csc_cnt=[];var vlan_enable;function get_cjs_ws_url(){var b;var a=document.URL;if(a.substring(0,5)=="https"){b="wss://";a=a.substr(8)}else{b="ws://";if(a.substring(0,4)=="http"){a=a.substr(7)}}a=a.split("/");return b+a[0]+"/xxx"}var cjs_make_auth_req=function(a){var e=new ArrayBuffer(4*1+a.gid.length);var d=new Uint32Array(e,0,1);d[0]=pq_4_8_32(CJS_REQUEST_START,a.type,0,0);var c=new Uint8Array(e,4,a.gid.length);for(var b=0;b<a.gid.length;b++){c[b]=a.gid.charCodeAt(b)}return e};var bwh_plot=[];var bwh_dbuff=[];var bwh_cbuff=[];var bwh_color=[];var bwh_vname=[];var bwh_ref_time=[];var bwh_point_buff=[];var bwh_graph_type=0;var bwh_max_free_tspan=0;var bwh_prev_tspan=0;var bwh_make_request=function(a){var b=new Uint32Array(11);b[0]=pq_4_8_32(CJS_REQUEST_START,a.type,a.id,a.gid);b[1]=0;b[2]=a.link;b[3]=a.chanel;b[4]=a.s_date-(b[4]*4294967296);b[5]=a.s_date/4294967296;var c=new Date(4294967296*b[3]+b[4]);b[6]=a.e_date-(b[6]*4294967296);b[7]=a.e_date/4294967296;b[8]=a.min_bw;b[9]=a.log;b[10]=a.vid;return b.buffer};var bwh_graph_init=function(f,b,c){if(bwh_dbuff[c]==null){var e=[];e.push([0,0]);bwh_dbuff[c]=e;var a=[];a.push([b]);bwh_cbuff[c]=a;bwh_color[c]=[b];bwh_vname[c]=[];bwh_ref_time[c]=0}var d=new Dygraph(document.getElementById(f),bwh_dbuff[c],bwh_cbuff[c],0,c,{showRoller:false,fillGraph:true,axisLabelFontSize:10,drawGrid:false,plotter:smoothPlotter,labels:["Time","Bandwidth"],labelsDivStyles:pq_dygraph_tooltip(),labelsSeparateLines:true,axes:{y:{axisLabelWidth:65,valueFormatter:function(g){return y_axis_bw_val_formatter(g,2)},axisLabelFormatter:function(g){return y_axis_bw_val_formatter(g,2)}},x:{valueFormatter:function(g){return x_axis_av_formatter(g)}}},pointClickCallback:function(h,g){bwh_mine_click(h,g)}});bwh_plot[c]=d;return c};bwh_update_start=function(b,a){bwh_plot[b].resize();bwh_dbuff[b]=[];bwh_cbuff[b].length=0;bwh_vname[b].length=0;validate_hist_data_availability(b,a[1]);bwh_ref_time[b]=new Date(4294967296*a[4]+a[3]);bwh_plot[b+1].resize();bwh_dbuff[b+1]=[];bwh_cbuff[b+1].length=0;bwh_vname[b+1].length=0;validate_hist_data_availability(b+1,a[1]);bwh_ref_time[b+1]=new Date(4294967296*a[4]+a[3]);bwh_prev_tspan=0;bwh_graph_type=a[2];bwhist_prv_ts[b]=0;bwhist_prv_csc_cnt[b]=0;bwh_point_buff.length=0;if(bwh_graph_type===0){bwh_max_free_tspan=2000}else{if(bwh_graph_type===1){bwh_max_free_tspan=60*1000*2}else{if(bwh_graph_type===2){bwh_max_free_tspan=60*1000*5*2}else{if(bwh_graph_type===3){bwh_max_free_tspan=60*1000*15*2}else{if(bwh_graph_type===4){bwh_max_free_tspan=60*1000*120*2}else{if(bwh_graph_type===4){bwh_max_free_tspan=60*1000*120*12*2}}}}}}};bwh_update=function(c,g){if(g.length%4===0){for(var h=0;h<g.length;h=h+4){var d=uint32_float(g[h]);var f=uint32_float(g[h+1]);var k=g[h+2];var j=g[h+3];if(j>0){var e=new Date(bwh_ref_time[c].getTime()+j);if(bwh_prev_tspan!==0){if((e-bwh_prev_tspan)>=bwh_max_free_tspan){var a=new Date(bwh_prev_tspan.getTime()+bwh_max_free_tspan/2);var b=new Date(e.getTime()-bwh_max_free_tspan/2);bwh_dbuff[c].push([a,0]);bwh_dbuff[c+1].push([a,0]);bwh_dbuff[c].push([b,0]);bwh_dbuff[c+1].push([b,0]);if(bwh_cbuff[c].length<=1400){bwh_cbuff[c].push(bwh_color[c]);bwh_cbuff[c+1].push(bwh_color[c+1]);bwh_cbuff[c].push(bwh_color[c]);bwh_cbuff[c+1].push(bwh_color[c+1])}}}if(e>=bwhist_prv_ts[c]){bwhist_prv_ts[c]=e;bwhist_prv_csc_cnt[c]=0;bwh_prev_tspan=e;bwh_dbuff[c].push([e,d]);bwh_dbuff[c+1].push([e,f]);bwh_point_buff.push(k);if(bwh_cbuff[c].length<=1400){bwh_cbuff[c].push(bwh_color[c]);bwh_cbuff[c+1].push(bwh_color[c+1])}if(bwh_dbuff[c].length>1400){bwh_dbuff[c].shift();bwh_dbuff[c+1].shift();bwh_point_buff.shift()}}else{e=bwh_prev_tspan;bwhist_prv_csc_cnt[c]++;if(bwhist_prv_csc_cnt[c]>3){bwh_dbuff[c].pop();bwhist_prv_ts[c]=e}}}}}else{console.log("Invalid Bandwidth History Data")}};bwh_update_end=function(a){bwh_plot[a].updateOptions({file:bwh_dbuff[a]});bwh_plot[a+1].updateOptions({file:bwh_dbuff[a+1]});hide_history_loading()};var max_session_data_point=0;var max_session_count=0;var url_discovery_count=0;var url_discovery_que_id=0;var all_sessions_make_request=function(a){var b=new Uint32Array(9);b[0]=pq_4_8_32(CJS_REQUEST_START,a.type,a.id,a.lid);b[1]=a.uid;b[2]=a.loc;b[3]=a.sip;b[4]=a.dip;b[5]=pq_2_16_32(a.sport,a.dport);b[6]=pq_2_16_32(a.prot,a.app);b[7]=a.sipr;b[8]=a.dipr;return b.buffer};all_sessions_update_start=function(e,a,b,c,d){url_discovery_count=d;url_discovery_que_id=c;if(session_table){session_table.clear()}max_session_data_point=(uint32_float(b)*1000000)/8};all_sessions_update=function(h,e){var c;if(e.length%8===0){for(var b=0;b<e.length;b=b+8){var g=e[b+3]&255;if(g===6){g="TCP"}else{g="UDP"}var a=e[b+3]>>>16;var f=1;c="non-vlan";var d;if(e[b+6]<application_list.length){d=application_list[e[b+6]]}else{d=pq_services_list[e[b+6]-application_list.length+1]}session_table.row.add([num2dot(e[b]),"-",num2dot(e[b+1]),(e[b+2]&65535),(e[b+2]>>>16),g,c,d,e[b+4],e[b+5],max_session_data_point,e[b+6]])}}else{console.log("Invalid Sesson Data")}};all_sessions_update_end=function(a){hide_update_indicator("#pq_session_ud_indicator");session_table.draw(false)};q_sessions_update_start=function(c,b,a,e,d){if(c===SESSION_SOURCE_UPDATE){url_discovery_count=d;url_discovery_que_id=e;if(source_table){source_table.clear()}}else{if(c===SESSION_DEST_UPDATE){url_discovery_count=d;url_discovery_que_id=e;if(destination_table){destination_table.clear()}}else{if(c===SESSION_APP_UPDATE){if(app_table){app_table.clear()}}else{if(c===SESSION_SVS_UPDATE){if(ses_service_table){ses_service_table.clear()}}else{console.log("Error: Unknown Session Type Start")}}}}max_session_count=b;max_session_data_point=(uint32_float(a)*1000000)/8};q_sessions_update=function(b,c){if(c.length%4===0){if(b===SESSION_SOURCE_UPDATE){for(var a=0;a<c.length;a=a+4){source_table.row.add([num2dot(c[a]),"_",c[a+1],(uint32_float(c[a+2])*1000000)/8,(uint32_float(c[a+3])*1000000)/8,((uint32_float(c[a+2])+uint32_float(c[a+3]))*1000000)/8,max_session_data_point,max_session_count])}}else{if(b===SESSION_DEST_UPDATE){for(var a=0;a<c.length;a=a+4){destination_table.row.add([num2dot(c[a]),"_",c[a+1],(uint32_float(c[a+2])*1000000)/8,(uint32_float(c[a+3])*1000000)/8,((uint32_float(c[a+2])+uint32_float(c[a+3]))*1000000)/8,max_session_data_point,max_session_count])}}else{if(b===SESSION_APP_UPDATE){for(var a=0;a<c.length;a=a+4){if(c[a]>=application_list.length){app_table.row.add([pq_services_list[c[a]-application_list.length+1],c[a+1],(uint32_float(c[a+2])*1000000)/8,(uint32_float(c[a+3])*1000000)/8,((uint32_float(c[a+2])+uint32_float(c[a+3]))*1000000)/8,max_session_data_point,max_session_count,c[a]])}else{app_table.row.add([application_list[c[a]],c[a+1],(uint32_float(c[a+2])*1000000)/8,(uint32_float(c[a+3])*1000000)/8,((uint32_float(c[a+2])+uint32_float(c[a+3]))*1000000)/8,max_session_data_point,max_session_count,c[a]])}}}else{if(b===SESSION_SVS_UPDATE){for(var a=0;a<c.length;a=a+4){ses_service_table.row.add([pq_services_list[c[a]],c[a+1],(uint32_float(c[a+2])*1000000)/8,(uint32_float(c[a+3])*1000000)/8,((uint32_float(c[a+2])+uint32_float(c[a+3]))*1000000)/8,max_session_data_point,max_session_count,c[a]])}}else{console.log("Error: Unknown Session Type Start")}}}}}else{console.log("Invalid Sesson Data")}};q_sessions_update_with_url=function(c,d){var a=$.cookie("pqsf");var b=new Uint32Array(1);b[0]=pq_4_8_32(CJS_REQUEST_START,43,75,url_discovery_que_id);$.ajax({data:b.buffer,processData:false,headers:{PARAQUMTEC:a},timeout:1000,type:"POST",url:"/"}).done(function(h){var f=h.split(";");var e=c.rows().count();for(var g=0;g<f.length-1;g++){if(e>=g&&f[g]!==""){c.cell(g,d).data(f[g])}}c.draw(false);hide_update_indicator("#pq_session_ud_indicator");hide_update_indicator("#pq_source_ud_indicator");hide_update_indicator("#pq_destination_ud_indicator")}).fail(function(){c.draw(false);hide_update_indicator("#pq_session_ud_indicator");hide_update_indicator("#pq_source_ud_indicator");hide_update_indicator("#pq_destination_ud_indicator")})};q_sessions_update_end=function(a){if(a===SESSION_SOURCE_UPDATE){if(url_discovery_count>0){q_sessions_update_with_url(source_table,1)}else{source_table.draw(false);hide_update_indicator("#pq_source_ud_indicator")}}else{if(a===SESSION_DEST_UPDATE){if(url_discovery_count>0){q_sessions_update_with_url(destination_table,1)}else{destination_table.draw(false);hide_update_indicator("#pq_destination_ud_indicator")}}else{if(a===SESSION_APP_UPDATE){app_table.draw(false);hide_update_indicator("#pq_application_ud_indicator")}else{if(a===SESSION_SVS_UPDATE){ses_service_table.draw(false);hide_update_indicator("#pq_service_ud_indicator")}else{console.log("Error: Unknown Session Type End")}}}}};var smy_ob_src_items=0;var smy_ob_des_items=0;var smy_ob_app_items=0;var smy_ob_prt_items=0;var smy_ob_read_count=0;var dash_que_id=0;var dash_ad_count=0;var data_pq_sum_srcs_ip=[];var data_pq_sum_dests_ip=[];var data_pq_dash_dlink_items=[];var data_pq_dash_ulink_items=[];var dash_ad_elements=[];q_smry_update_start=function(a){smy_ob_src_items=a[1];smy_ob_des_items=a[2]+smy_ob_src_items;smy_ob_app_items=a[3]+smy_ob_des_items;smy_ob_prt_items=a[4]+smy_ob_app_items;dash_que_id=a[5];dash_ad_count=a[6];dash_ad_elements=[];data_pq_sum_srcs_ip=[];data_pq_sum_dests_ip=[];data_pq_sum_srcs.length=0;data_pq_sum_dests.length=0;data_pq_sum_apps.length=0;smy_ob_read_count=0;$("#pq_mw_session_count span").text(a[7])};q_smry_update=function(d){for(var b=0;b<d.length;b=b+4){smy_ob_read_count++;if(smy_ob_read_count<=smy_ob_src_items){data_pq_sum_srcs.push({label:num2dot(d[b]),value:((uint32_float(d[b+2])+uint32_float(d[b+3]))*1000000)/8});data_pq_sum_srcs_ip.push(num2dot(d[b]))}else{if(smy_ob_read_count<=smy_ob_des_items){data_pq_sum_dests.push({label:num2dot(d[b]),value:((uint32_float(d[b+2])+uint32_float(d[b+3]))*1000000)/8});data_pq_sum_dests_ip.push(num2dot(d[b]))}else{if(smy_ob_read_count<=smy_ob_app_items){if(d[b]>0){data_pq_sum_apps.push({label:application_list[d[b]],value:((uint32_float(d[b+2])+uint32_float(d[b+3]))*1000000)/8})}}else{var c=d[b]>>>16;var a=d[b]&65535}}}}};q_smry_update_end=function(a){if(CURRENT_WINDOW!==WINDOW_USER_SUMMARY){return}if(smy_ob_src_items>0){if(dash_ad_count>0){q_smry_update_with_ad_users()}else{pq_mod_pie_update(pie_pq_sum_srcs_wrap,0,10)}}if(smy_ob_des_items>0){if(dash_ad_count===0||dash_ad_count===undefined){pq_mod_pie_update(pie_pq_sum_dests_wrap,1,10)}}if(smy_ob_app_items>0){pq_mod_pie_update(pie_pq_sum_apps_wrap,2,10)}};q_smry_update_with_ad_users=function(){var a=$.cookie("pqsf");var b=new Uint32Array(1);b[0]=pq_4_8_32(CJS_REQUEST_START,43,75,dash_que_id);$.ajax({data:b.buffer,processData:false,headers:{PARAQUMTEC:a},timeout:1000,type:"POST",url:"/"}).done(function(d){dash_ad_elements=d.split(";");for(var c=0;c<dash_ad_elements.length-1;c++){if(dash_ad_elements[c]!==""){if(c<smy_ob_src_items){data_pq_sum_srcs[c].label=dash_ad_elements[c]}else{if(c<smy_ob_des_items){data_pq_sum_dests[c-smy_ob_src_items].label=dash_ad_elements[c]}}}}pq_mod_pie_update(pie_pq_sum_srcs_wrap,0,10);pq_mod_pie_update(pie_pq_sum_dests_wrap,1,10)}).fail(function(){console.error("Problems when posting...")})};var smy_dashPie_ulink_items=0;var smy_dashPie_dlink_items=0;var smy_dashPie_read_count=0;var total_data_sent_dashPie=0;var total_data_received_dashPie=0;var init_max_srcDestAppServ_dlink=null;var dashPie_obj_flag=true;q_smry_dashPie_update_start=function(a){smy_dashPie_ulink_items=a[1];smy_dashPie_dlink_items=a[2]+smy_dashPie_ulink_items;dash_que_id=a[5];dash_ad_count=a[6];data_pq_dash_dlink_items=[];data_pq_dash_ulink_items=[];total_data_sent_dashPie=(uint32_float(a[3])/8)*1000000;total_data_received_dashPie=(uint32_float(a[4])/8)*1000000;data_dashPie_dlink.length=0;data_dashPie_ulink.length=0;smy_dashPie_read_count=0;smy_ob_src_dlink_read_count=0};q_smry_dashPie_update=function(d){dashPie_dlink_table.clear().draw();dashPie_ulink_table.clear().draw();for(var b=0;b<d.length;b=b+4){smy_dashPie_read_count++;if(smy_dashPie_read_count<=smy_dashPie_ulink_items){if(dashPieCat===3){data_pq_dash_ulink_items.push(application_list[d[b]]);data_dashPie_ulink.push({label:application_list[d[b]],value:(uint32_float(d[b+2])*1000000)/8,color:pieColorScheme[smy_dashPie_read_count-1]});dashPie_ulink_table.row.add(["","<a style='cursor:pointer; text-decoration: none' onclick='redirect_live_watch(this.text,5)'>"+application_list[d[b]]+"</a>",pq_get_usage((uint32_float(d[b+2])*1000000)/8),(((uint32_float(d[b+2])*1000000)/8)*100/total_data_sent_dashPie).toFixed(2)+" %"])}else{data_pq_dash_ulink_items.push(num2dot(d[b]));data_dashPie_ulink.push({label:num2dot(d[b]),value:(uint32_float(d[b+2])*1000000)/8,color:pieColorScheme[smy_dashPie_read_count-1]});dashPie_ulink_table.row.add(["","<a style='cursor:pointer; text-decoration: none' onclick='redirect_live_watch(this.text,parseInt(dashPieCat+2))'>"+num2dot(d[b])+"</a>",pq_get_usage((uint32_float(d[b+2])*1000000)/8),(((uint32_float(d[b+2])*1000000)/8)*100/total_data_sent_dashPie).toFixed(2)+" %"])}}else{if(smy_dashPie_read_count<=smy_dashPie_dlink_items){smy_ob_src_dlink_read_count++;if(dashPieCat===3){if(dashPie_obj_flag){dashPie_obj_flag=false;init_max_srcDestAppServ_dlink=application_list[d[b]];dashPie_clk_seg=init_max_srcDestAppServ_dlink}data_pq_dash_dlink_items.push(application_list[d[b]]);data_dashPie_dlink.push({label:application_list[d[b]],value:(uint32_float(d[b+3])*1000000)/8,color:pieColorScheme[smy_ob_src_dlink_read_count-1]});dashPie_dlink_table.row.add(["","<a style='cursor:pointer; text-decoration: none' onclick='redirect_live_watch(this.text,5)'>"+application_list[d[b]]+"</a>",pq_get_usage((uint32_float(d[b+3])*1000000)/8),(((uint32_float(d[b+3])*1000000)/8)*100/total_data_received_dashPie).toFixed(2)+" %"])}else{if(dashPie_obj_flag){dashPie_obj_flag=false;init_max_srcDestAppServ_dlink=num2dot(d[b]);dashPie_clk_seg=init_max_srcDestAppServ_dlink}data_pq_dash_dlink_items.push(num2dot(d[b]));data_dashPie_dlink.push({label:num2dot(d[b]),value:(uint32_float(d[b+3])*1000000)/8,color:pieColorScheme[smy_ob_src_dlink_read_count-1]});dashPie_dlink_table.row.add(["","<a style='cursor:pointer; text-decoration: none' onclick='redirect_live_watch(this.text,parseInt(dashPieCat+2))'>"+num2dot(d[b])+"</a>",pq_get_usage((uint32_float(d[b+3])*1000000)/8),(((uint32_float(d[b+3])*1000000)/8)*100/total_data_received_dashPie).toFixed(2)+" %"])}}else{var c=d[b]>>>16;var a=d[b]&65535}}}};q_smry_src_update_end=function(a){if(smy_dashPie_ulink_items>0){if(dash_ad_count>0){q_smry_dashPie_update_with_ad_users()}else{dashPie_ulink_table.draw(false)}pie_pq_dashPie_ulink.updateProp("data.content",data_dashPie_ulink)}if(smy_dashPie_dlink_items>smy_dashPie_ulink_items){if(dash_ad_count===0||dash_ad_count===undefined){dashPie_dlink_table.draw(false)}pie_pq_dashPie_dlink.updateProp("data.content",data_dashPie_dlink)}};q_smry_dashPie_update_with_ad_users=function(){var a=$.cookie("pqsf");var b=new Uint32Array(1);b[0]=pq_4_8_32(CJS_REQUEST_START,43,75,dash_que_id);$.ajax({data:b.buffer,processData:false,headers:{PARAQUMTEC:a},timeout:1000,type:"POST",url:"/"}).done(function(g){var f=g.split(";");var d=dashPie_dlink_table.rows().count();var e=dashPie_ulink_table.rows().count();for(var c=0;c<d;c++){if(d>=c&&f[smy_dashPie_ulink_items+c]!==""){dashPie_dlink_table.cell(c,1).data("<a style='cursor:pointer; text-decoration: none' onclick='redirect_live_watch(this.text,6,"+c+")'>"+f[smy_dashPie_ulink_items+c]+"</a>")}}for(var c=0;c<e;c++){if(e>=c&&f[c]!==""){dashPie_ulink_table.cell(c,1).data("<a style='cursor:pointer; text-decoration: none' onclick='redirect_live_watch(this.text,7,"+c+")'>"+f[c]+"</a>")}}dashPie_dlink_table.draw(false);dashPie_ulink_table.draw(false)}).fail(function(){console.error("Problems when posting...")})};var lsumry_que_id=0;var lsumry_ad_count=0;lsumry_update_start=function(a){lsumry_que_id=a[5];lsumry_ad_count=a[6];data_pq_live_usage.length=0};lsumry_update=function(b,c){for(var a=0;a<c.length;a=a+4){if(c[a]>=0){if(b==LSUM_DES_T_APP||b==LSUM_SRC_T_APP){data_pq_live_usage.push({label:application_list[c[a]],value:((uint32_float(c[a+2])+uint32_float(c[a+3]))*1000000)/8})}else{if(b==LSUM_DES_T_SVS||b==LSUM_SRC_T_SVS){data_pq_live_usage.push({label:pq_services_list[c[a]],value:((uint32_float(c[a+2])+uint32_float(c[a+3]))*1000000)/8})}else{data_pq_live_usage.push({label:num2dot(c[a]),value:((uint32_float(c[a+2])+uint32_float(c[a+3]))*1000000)/8})}}}}};lsumry_update_end=function(a){if(data_pq_live_usage.length>0){if(lsumry_ad_count>0){lsumry_update_with_ad_users()}else{pie_pq_live_usage_wrap.update_summery_pie(pie_pq_live_usage_id,10)}}};lsumry_update_with_ad_users=function(){var a=$.cookie("pqsf");var b=new Uint32Array(1);b[0]=pq_4_8_32(CJS_REQUEST_START,43,75,lsumry_que_id);$.ajax({data:b.buffer,processData:false,headers:{PARAQUMTEC:a},timeout:1000,type:"POST",url:"/"}).done(function(e){var d=e.split(";");for(var c=0;c<d.length-1;c++){if(d[c]!==""){data_pq_live_usage[c].label=d[c]}}pie_pq_live_usage_wrap.update_summery_pie(pie_pq_live_usage_id,10)}).fail(function(){console.error("Problems when posting...")})};var durl_discovery_count=0;var durl_discovery_que_id=0;var sc_diagram_mask=0;var sc_diagram_start_type=0;var sc_diagram_parent_que=[];var sc_diagram_parent_id=0;var sc_diagram_parent_type=0;var sc_diagram_url_element=[];var sc_diagram_make_request=function(a){var b=new Uint32Array(4);b[0]=pq_4_8_32(CJS_REQUEST_START,a.type,a.id,a.gid);b[1]=a.uid;b[2]=a.ip;b[3]=pq_2_16_32(a.mask,0);return b.buffer};var pre_ip=0;var ip_node_id=0;var port_node_id=0;var sc_port_map=[];sc_diagram_update_start=function(e,d,c,b,a){sc_diagram_mask=c;sc_diagram_start_type=d;durl_discovery_count=a;durl_discovery_que_id=b;sc_port_map.length=0;pre_ip=0;ip_node_id=0;port_node_id=0;sc_diagram_parent_que.length=0};sc_diagram_update=function(d,b,c){var a=c.length;if(c.length%5!=0){a--}if(a%5===0){sc_diagram_parent_que.push(c);sc_diagram_parent_id=d;sc_diagram_parent_type=b}else{console.log("Invalid SC-Diagram Data")}};sc_diagram_run_collective_update=function(){while(sc_diagram_parent_que.length>0){var d=sc_diagram_parent_que.shift();var g=d.length;if(d.length%5!==0){g--}for(var e=0;e<g;e=e+5){var a="";if(sc_diagram_url_element.length>0){a=sc_diagram_url_element.shift()}var j=d[e];var h=d[e+2];var b=d[e+1];var k;var c=b;if(sc_diagram_parent_id===SCD_TRAFIC){k=1+((uint32_float(d[e+3])+uint32_float(d[e+4]))*1000000)/8;if(sc_diagram_mask<32){c=num2dot(b);if(sc_diagram_start_type===CLIENT_DIAGRAM){if(a!==""){c=c+" ("+a+")"}}}else{c="port: "+(pq_pad(b,5,"0")+"")}}else{if(sc_diagram_parent_id===SCD_SESSIONS){k=1+h;if(sc_diagram_mask<32){c=num2dot(b);if(sc_diagram_start_type===CLIENT_DIAGRAM){if(a!==""){c=c+" ("+a+")"}}}else{c="port: "+(pq_pad(b,5,"0")+"")}}else{k=1+b;if(sc_diagram_mask<32){c=num2dot(h);if(sc_diagram_start_type===CLIENT_DIAGRAM){if(a!==""){c=a+" ("+c+")"}}c=c+" - "+b}c=c+" ms"}}if(pre_ip!==j){var f=num2dot(j);if(sc_diagram_start_type===CLIENT_DIAGRAM&&sc_diagram_mask<32){}else{if(a!==""){f=f+" ("+a+")"}}sc_sd_diagram.nodes.push({name:f,id:num2dot(j)});if(sc_digram_colors[num2dot(j)]==null){sc_digram_colors[num2dot(j)]=randomColor({luminosity:"bright"})}ip_node_id=sc_sd_diagram.nodes.length-1;sc_sd_diagram.links.push({source:0,value:k,target:ip_node_id})}if(sc_port_map[b]==null){sc_sd_diagram.nodes.push({name:c+"",id:b+""});port_node_id=sc_sd_diagram.nodes.length-1;sc_port_map[b]=port_node_id}else{port_node_id=sc_port_map[b]}if(sc_digram_colors[c]==null){sc_digram_colors[c]=randomColor({luminosity:"bright"})}sc_sd_diagram.links.push({source:ip_node_id,value:k,target:port_node_id});pre_ip=j}}};sc_diagram_update_with_url=function(c,d){var a=$.cookie("pqsf");var b=new Uint32Array(1);b[0]=pq_4_8_32(CJS_REQUEST_START,43,75,durl_discovery_que_id);$.ajax({data:b.buffer,processData:false,headers:{PARAQUMTEC:a},timeout:1000,type:"POST",url:"/"}).done(function(e){sc_diagram_url_element=e.split(";");sc_diagram_run_collective_update();run_diagram()}).fail(function(){sc_diagram_run_collective_update();run_diagram()})};sc_diagram_update_end=function(a){sc_diagram_url_element.length=0;if((a===SERVER_DIAGRAM&&sc_diagram_mask>=32)||durl_discovery_count===0){sc_diagram_run_collective_update();run_diagram()}else{sc_diagram_update_with_url()}};var turl_discovery_count=0;var turl_discovery_que_id=0;var tc_diagram_parant_que=[];var tc_diagram_parant_id=0;var tc_diagram_parant_type=0;var tc_diagram_url_element=[];var tc_diagram_ad_user_map=[];var tc_diagram_make_request=function(a){var b=new Uint32Array(8);b[0]=pq_4_8_32(CJS_REQUEST_START,a.type,a.id,a.gid);b[1]=a.uid;b[2]=a.sip;b[3]=a.dip;b[4]=pq_2_16_32(a.sport,a.dport);b[5]=pq_1_16_2_8_32(a.vid,a.prot,a.app);b[6]=a.sipr;b[7]=a.dipr;return b.buffer};tc_diagram_update_start=function(c,d,b,a){turl_discovery_count=a;turl_discovery_que_id=b;tc_dgam_data.length=0;tc_diagram_parant_que.length=0;tc_diagram_ad_user_map=[]};trafic_diagram_update=function(a,b){if(b.length%4===0){tc_diagram_parant_que.push(b);tc_diagram_parant_type=a}else{console.log("Invalid TC-Diagram Data")}};tc_diagram_collective_update=function(){while(tc_diagram_parant_que.length>0){var f=tc_diagram_parant_que.shift();for(var c=0;c<f.length;c=c+4){var a="";var b="";if(tc_diagram_url_element.length>0){a=tc_diagram_url_element.shift();b=tc_diagram_url_element.shift()}var e=num2dot(f[c]);var d=num2dot(f[c+1]);if(a!==""){e=a;tc_diagram_ad_user_map[a]=num2dot(f[c]);if(tc_dgam_colours[a]==null){tc_dgam_colours[a]=randomColor({luminosity:"bright"})}}else{if(tc_dgam_colours[num2dot(f[c])]==null){tc_dgam_colours[num2dot(f[c])]=randomColor({luminosity:"bright"})}}if(b!==""){d=b+" ("+d+")"}tc_dgam_data.push([e,d,(uint32_float(f[c+2])*1000000)/8,(uint32_float(f[c+3])*1000000)/8])}}};tc_diagram_update_with_url=function(c,d){var a=$.cookie("pqsf");var b=new Uint32Array(1);b[0]=pq_4_8_32(CJS_REQUEST_START,43,75,turl_discovery_que_id);$.ajax({data:b.buffer,processData:false,headers:{PARAQUMTEC:a},timeout:1000,type:"POST",url:"/"}).done(function(e){tc_diagram_url_element=e.split(";");tc_diagram_collective_update();draw_trafic_diagram()}).fail(function(){tc_diagram_collective_update();draw_trafic_diagram()})};session_diagram_update=function(a,b){};tc_diagram_update_end=function(a,b){if(a==TRAFFIC_DIAGRAM){if(turl_discovery_count>0){tc_diagram_update_with_url()}else{tc_diagram_collective_update();draw_trafic_diagram()}}else{if(a==SESSION_DIAGRAM){}}};var info_get_request=function(a){var b=new Uint32Array(2);b[0]=pq_4_8_32(CJS_REQUEST_START,a.type,a.id,a.gid);b[1]=a.uid;return b.buffer};info_get_update=function(c,g,e){if(c==INFO_MANW_ST_RQ){$("#pq_mw_event_count").text("Events: "+e[0]);$("#pq_mw_session_ps").text("New Sessions Per-Second: "+e[1]);$("#pq_mw_session_count").text("Total Sessions: "+e[2]);$("#pq_sw_event_count").text("Events: "+e[0]);$("#pq_sw_session_ps").text("New Sessions Per-Second: "+e[1]);$("#pq_sw_session_count").text("Total Sessions: "+e[2]);var b=e[3];var f=Math.floor(b/(60*60*24));b-=f*(60*60*24);var a=Math.floor(b/(60*60));b-=a*(60*60);var d=Math.floor(b/(60));$("#pq_mw_uptime").text(f+" day(s) "+a+" hour(s) "+d+" min(s)");$("#pq_sw_uptime").text(f+" day(s) "+a+" hour(s) "+d+" min(s)")}else{if(c==INFO_MANW_CT_RQ){$("#pq_mw_event_count").text("Events: "+e[0]);$("#pq_mw_session_ps").text("New Sessions Per-Second: "+e[1]);$("#pq_mw_session_count").text("Total Sessions: "+e[2]);$("#pq_sw_event_count").text("Events: "+e[0]);$("#pq_sw_session_ps").text("New Sessions Per-Second: "+e[1]);$("#pq_sw_session_count").text("Total Sessions: "+e[2])}else{if(c===INFO_SETW_RQ){if(e[1]!==0){$("#license_info").text("Evaluation period ends in "+e[1]+" days")}}else{console.log("unknown info request update")}}}};var gui_data_get_request=function(a){var b=new Uint32Array(2);b[0]=pq_4_8_32(CJS_REQUEST_START,a.type,a.id,a.gid);return b.buffer};guid_data_update=function(b,e,d,c){var a=new Uint8Array(c);if(b===MENUBAR_SHEET){if(a[0]===9){if(a[1]){$("#set_prof_win").show()}if(a[2]){$("#tab_config").show()}if(a[3]){$("#set_mgmt_win").show()}if(a[4]){$("#tab_set").show()}if(a[5]){$("#set_info_win").show()}if(a[6]){$("#set_maint_win").show()}if(a[7]){if(a[7]===1){SET_PRIMARY=true}else{SET_PRIMARY=false}}if(a[8]){$("#Quota_Panel").show()}if(a[9]){$("#set_ha_win").show()}}}else{if(b===PROPERTY_SHEET){if(e===0){user_add_proprty_sheet=String.fromCharCode.apply(null,new Uint8Array(c,1,a[0]))}else{console.log("invalied property sheet type")}}else{console.log("invalied gui sheet type")}}};var cjs_req_conn;var cjs_request;var cjs_request_type=0;var cjs_request_que=[];var cjs_request_status="none";var cjs_make_request=function(a,b){if(cjs_request_status==="relax"){cjs_request_status="busy";if(a===SESSION_LIST_UPDATE||a===SESSION_SOURCE_UPDATE||a===SESSION_DEST_UPDATE||a===SESSION_APP_UPDATE||a===SESSION_SVS_UPDATE||a===SUMRY_SRC_UPDATE||a===SUMRY_DEST_UPDATE||a===SUMRY_APP_UPDATE||a===SUMRY_SDC_UPDATE||a===LSUMRY_UPDATE){cjs_req_conn.send(all_sessions_make_request(b))}else{if(a===GRAPH_BH_UPDATE){cjs_req_conn.send(bwh_make_request(b))}else{if(a===SERVER_DIAGRAM||a===CLIENT_DIAGRAM){cjs_req_conn.send(sc_diagram_make_request(b))}else{if(a===TRAFFIC_DIAGRAM||a===SESSION_DIAGRAM){cjs_req_conn.send(tc_diagram_make_request(b))}else{if(a===INFO_MANW_CT_RQ||a===INFO_MANW_ST_RQ||a===INFO_SETW_RQ){cjs_req_conn.send(info_get_request(b))}else{if(a===MENUBAR_SHEET||a===PROPERTY_SHEET){cjs_req_conn.send(gui_data_get_request(b))}else{if(a===200){cjs_req_conn.send(cjs_make_auth_req(b))}else{console.log("unidentified cjs request!")}}}}}}}}else{cjs_request_que.push([a,b])}};var cjs_try_make_request=function(){if(cjs_request_status==="relax"){if(cjs_request_que.length>0){cjs_request_status="busy";var a=cjs_request_que.shift();if(a[0]===SESSION_LIST_UPDATE||a[0]===SESSION_SOURCE_UPDATE||a[0]===SESSION_DEST_UPDATE||a[0]===SESSION_APP_UPDATE||a[0]===SESSION_SVS_UPDATE||a[0]===SUMRY_SRC_UPDATE||a[0]===SUMRY_DEST_UPDATE||a[0]===SUMRY_APP_UPDATE||a[0]===SUMRY_SDC_UPDATE||a[0]===LSUMRY_UPDATE){cjs_req_conn.send(all_sessions_make_request(a[1]))}else{if(a[0]===GRAPH_BH_UPDATE){cjs_req_conn.send(bwh_make_request(a[1]))}else{if(a[0]===SERVER_DIAGRAM||a[0]===CLIENT_DIAGRAM){cjs_req_conn.send(sc_diagram_make_request(a[1]))}else{if(a[0]===TRAFFIC_DIAGRAM||a[0]===SESSION_DIAGRAM){cjs_req_conn.send(tc_diagram_make_request(a[1]))}else{if(a[0]===INFO_MANW_CT_RQ||a[0]===INFO_MANW_ST_RQ||a[0]===INFO_SETW_RQ){cjs_req_conn.send(info_get_request(a[1]))}else{if(a[0]===MENUBAR_SHEET||a[0]===PROPERTY_SHEET){cjs_req_conn.send(gui_data_get_request(a[1]))}else{if(a[0]===200){cjs_req_conn.send(cjs_make_auth_req(a[1]))}else{console.log("unidentified cjs request!")}}}}}}}}}};var cjs_request_cbk=function(d){var a=new Uint32Array(d);if(a.length===1||a.length===3||a.length===5||a.length===7||a.length===9){var c=pq_32_4_8(a[0]);if(c.one===CJS_REQUEST_START){cjs_request_type=c;if(c.two===GRAPH_UPDATE){cjs_request=c;cjs_request_type=c.three;if(c.three===GRAPH_BH_UPDATE){bwh_update_start(c.four,a)}}else{if(c.two===SESSION_UPDATE){cjs_request=c;cjs_request_type=c.three;if(c.three===SESSION_LIST_UPDATE){all_sessions_update_start(c.four,a[1],a[2],a[3],a[4])}else{if(c.three===SESSION_SOURCE_UPDATE||c.three===SESSION_DEST_UPDATE||c.three===SESSION_APP_UPDATE||c.three===SESSION_SVS_UPDATE){q_sessions_update_start(c.three,a[1],a[2],a[3],a[4])}else{if(c.three===SUMRY_SRC_UPDATE||c.three===SUMRY_DEST_UPDATE||c.three===SUMRY_APP_UPDATE){q_smry_dashPie_update_start(a)}else{if(c.three===SUMRY_SDC_UPDATE){q_smry_update_start(a)}else{if(c.three===LSUMRY_UPDATE){lsumry_update_start(a)}}}}}}else{if(c.two===DIAGRAM_UPDATE){cjs_request=c;cjs_request_type=c.three;if(c.three===SERVER_DIAGRAM||c.three===CLIENT_DIAGRAM||c.three===APP_DIAGRAM||c.three===SVS_DIAGRAM){sc_diagram_update_start(c.four,c.three,a[2],a[3],a[4])}else{if(c.three===SESSION_DIAGRAM||c.three===TRAFFIC_DIAGRAM){tc_diagram_update_start(c.three,c.four,a[3],a[4])}}}else{if(c.two===INFORMATION_UPDATE){cjs_request=c;cjs_request_type=c.three}else{if(c.two===GUI_SHEETS){cjs_request=c;cjs_request_type=c.three}else{console.log("unknown request start")}}}}}}else{if(c.one===CJS_REQUEST_END){cjs_request_type=c;if(c.two===GRAPH_UPDATE){if(c.three===GRAPH_BH_UPDATE){bwh_update_end(c.four)}}else{if(c.two===SESSION_UPDATE){if(c.three===SESSION_LIST_UPDATE){all_sessions_update_end(c.four)}else{if(c.three===SESSION_SOURCE_UPDATE||c.three===SESSION_DEST_UPDATE||c.three===SESSION_APP_UPDATE||c.three===SESSION_SVS_UPDATE){q_sessions_update_end(c.three)}else{if(c.three===SUMRY_SRC_UPDATE||c.three===SUMRY_DEST_UPDATE||c.three===SUMRY_APP_UPDATE){q_smry_src_update_end(a)}else{if(c.three===SUMRY_SDC_UPDATE){q_smry_update_end(a)}else{if(c.three===LSUMRY_UPDATE){lsumry_update_end(a)}}}}}}else{if(c.two===SETTINGS_UPDATE){if(c.three===TIMESTAMP_UPDATE){tgap_update_end(c.four)}}else{if(c.two===DIAGRAM_UPDATE){if(c.three===SERVER_DIAGRAM||c.three===CLIENT_DIAGRAM||c.three===APP_DIAGRAM||c.three===SVS_DIAGRAM){sc_diagram_update_end(c.four)}else{if(c.three===SESSION_DIAGRAM||c.three===TRAFFIC_DIAGRAM){tc_diagram_update_end(c.three,c.four)}}}else{if(c.two===INFORMATION_UPDATE){}else{if(c.two===GUI_SHEETS){}else{if(c.two===200){}else{console.log("unknown request end")}}}}}}}cjs_request_status="relax";cjs_try_make_request()}else{console.log("undefined cjs request")}}}else{if(cjs_request.two===GRAPH_UPDATE){if(cjs_request.three===GRAPH_BH_UPDATE){var b=cjs_request.four;bwh_update(b,a)}}else{if(cjs_request.two===SESSION_UPDATE){if(cjs_request.three===SESSION_LIST_UPDATE){var e=cjs_request.four;all_sessions_update(e,a)}else{if(cjs_request.three===SESSION_SOURCE_UPDATE||cjs_request.three===SESSION_DEST_UPDATE||cjs_request.three===SESSION_APP_UPDATE||cjs_request.three===SESSION_SVS_UPDATE){q_sessions_update(cjs_request.three,a)}else{if(cjs_request.three===SUMRY_SRC_UPDATE||cjs_request.three===SUMRY_DEST_UPDATE||cjs_request.three===SUMRY_APP_UPDATE){q_smry_dashPie_update(a)}else{if(cjs_request.three===SUMRY_SDC_UPDATE){q_smry_update(a)}else{if(cjs_request.three===LSUMRY_UPDATE){lsumry_update(cjs_request.four,a)}}}}}}else{if(cjs_request.two===DIAGRAM_UPDATE){if(cjs_request.three===SERVER_DIAGRAM||cjs_request.three===CLIENT_DIAGRAM||cjs_request.three===APP_DIAGRAM||cjs_request.three===SVS_DIAGRAM){sc_diagram_update(cjs_request.four,cjs_request.three,a)}else{if(cjs_request.three===SESSION_DIAGRAM){session_diagram_update(cjs_request.three,a)}else{if(cjs_request.three===TRAFFIC_DIAGRAM){trafic_diagram_update(cjs_request.three,a)}}}}else{if(cjs_request.two===INFORMATION_UPDATE){info_get_update(cjs_request.three,cjs_request.four,a)}else{if(cjs_request.two===GUI_SHEETS){guid_data_update(cjs_request.three,cjs_request.four,a,d)}else{console.log("undifine cjs mass update")}}}}}}a=null};var cjs_init_request_connection=function(c){if(typeof MozWebSocket!="undefined"){cjs_req_conn=new MozWebSocket(get_cjs_ws_url(),c)}else{cjs_req_conn=new WebSocket(get_cjs_ws_url(),c)}cjs_req_conn.binaryType="arraybuffer";cjs_make_request(200,{type:200,gid:$.cookie("pqsf")});try{cjs_req_conn.onopen=function(){console.log(c+" connected");cjs_request_status="relax";cjs_try_make_request()};cjs_req_conn.onmessage=function b(d){cjs_request_cbk(d.data)};cjs_req_conn.onclose=function(){var d=document.getElementById("DisconnectModal");d.style.display="block";console.log(c+" connection closed");cjs_request_status="none"}}catch(a){alert("<p>Error"+a)}};var lu_plot=[];var lu_dbuff=[];var lu_cbuff=[];var lu_color=[];var lu_vname=[];var lu_ref_time=[];var lu_last_update_time=[];var lu_vlan_d_id=[];var lu_vlan_u_id=[];var lu_bwg_prv_ts=[];var lu_bwg_prv_csc_cnt=[];var URL_WATCH_FLAG;var lcju_make_auth_req=function(a){var e=new ArrayBuffer(4*1+a.gid.length);var d=new Uint32Array(e,0,1);d[0]=pq_4_8_32(CJS_REQUEST_START,a.type,0,0);var c=new Uint8Array(e,4,a.gid.length);for(var b=0;b<a.gid.length;b++){c[b]=a.gid.charCodeAt(b)}return e};var labwu_make_request=function(a){var b=new Uint32Array(3);b[0]=pq_4_8_32(CJS_REQUEST_START,a.type,a.id,a.gid);b[1]=a.uid;b[2]=pq_2_16_32(a.link,a.chanel);return b.buffer};var labwu_graph_init=function(f,b,c){if(lu_dbuff[c]==null){var e=[];e.push([0,0]);lu_dbuff[c]=e;lu_ref_time[c]=0;var a=[];a.push([b]);lu_cbuff[c]=a;lu_vname[c]=[];lu_color[c]=[b];lu_last_update_time[c]=0}var d=new Dygraph(document.getElementById(f),lu_dbuff[c],lu_cbuff[c],0,c,{animatedZooms:true,drawGrid:false,showRoller:false,fillGraph:true,plotter:smoothPlotter,color:b,labels:["Time","Bandwidth"],labelsDivStyles:pq_dygraph_tooltip(),labelsSeparateLines:true,axisLabelFontSize:10,axes:{y:{axisLabelWidth:65,valueFormatter:function(g){return y_axis_bw_val_formatter(g,2)},axisLabelFormatter:function(g){return y_axis_bw_val_formatter(g,2)}},x:{valueFormatter:function(g){return x_axis_av_formatter(g)}}}});lu_plot[c]=d;return c};labwu_update_start=function(b,a){lu_plot[b].resize();lu_ref_time[b]=new Date(4294967296*a[4]+a[3]);lu_dbuff[b]=[];lu_cbuff[b].length=0;lu_bwg_prv_ts[b]=0;lu_bwg_prv_csc_cnt[b]=0;lu_last_update_time[b]=0};labwu_update=function(h,e){if(e.length%2===0){var f;for(var b=0;b<e.length;b=b+2){var g=uint32_float(e[b]);var a=e[b+1];if(a>0&&g<60000){f=new Date(a*1000);if(lu_bwg_prv_ts[h]!==0){if((f-lu_bwg_prv_ts[h])>=30000){var c=new Date(lu_bwg_prv_ts[h]+10000/2);var d=new Date(f.getTime()-10000/2);lu_dbuff[h].push([c,0]);lu_dbuff[h].push([d,0])}}if(f>=lu_bwg_prv_ts[h]){lu_bwg_prv_ts[h]=f;lu_bwg_prv_csc_cnt[h]=0;lu_dbuff[h].push([f,g]);if(lu_cbuff[h].length<=1400){lu_cbuff[h].push(lu_color[h])}if(lu_dbuff[h].length>1400){lu_dbuff[h].shift()}}else{f=lu_last_update_time[h];lu_bwg_prv_csc_cnt[h]++;if(lu_bwg_prv_csc_cnt[h]>3){lu_dbuff[h].pop();lu_bwg_prv_ts[h]=f}}}}if(f-lu_last_update_time[h]>=1000){lu_last_update_time[h]=f;lu_plot[h].updateOptions({file:lu_dbuff[h]})}}else{console.log("Invalid Live Bandwidth Data")}};labwu_update_end=function(a){};var labwu_user_make_request=function(a){var b=new Uint32Array(2);b[0]=pq_4_8_32(CJS_REQUEST_START,a.type,a.id,a.gid);b[1]=a.uid;return b.buffer};var labwu_user_graph_init=function(f,h,a,b,g){if(lu_dbuff[g]==null){var c=[];var j=[];var k=[];c.push([0,0]);j.push([a]);k.push([b]);lu_color[g]=[a];lu_color[g+1]=[b];lu_dbuff[g]=c;lu_dbuff[g+1]=c;lssd_ref_time[g]=0;lu_cbuff[g]=j;lu_cbuff[g+1]=k;lu_last_update_time[g]=0;lu_last_update_time[g+1]=0}var e=new Dygraph(document.getElementById(f),lu_dbuff[g],lu_cbuff[g],0,g,{showRoller:false,fillGraph:true,plotter:smoothPlotter,labels:["Time","Bandwidth"],labelsDivStyles:pq_dygraph_tooltip(),labelsSeparateLines:true,axisLabelFontSize:10,axes:{x:{valueFormatter:function(l){return x_axis_av_formatter(l)}},y:{axisLabelWidth:60,valueFormatter:function(l){return y_axis_bw_val_formatter(l,2)},axisLabelFormatter:function(l){return y_axis_bw_val_formatter(l,2)}}}});var d=new Dygraph(document.getElementById(h),lu_dbuff[g+1],lu_cbuff[g+1],0,(g+1),{showRoller:false,fillGraph:true,plotter:smoothPlotter,labels:["Time","Bandwidth"],labelsDivStyles:pq_dygraph_tooltip(),labelsSeparateLines:true,axisLabelFontSize:10,axes:{x:{valueFormatter:function(l){return x_axis_av_formatter(l)}},y:{axisLabelWidth:60,valueFormatter:function(l){return y_axis_bw_val_formatter(l,2)},axisLabelFormatter:function(l){return y_axis_bw_val_formatter(l,2)}}}});lu_plot[g]=e;lu_plot[g+1]=d;return g};labwu_user_update_start=function(b,a){lu_plot[b].resize();lu_plot[b+1].resize();lu_dbuff[b]=[];lu_cbuff[b].length=0;lu_dbuff[b+1]=[];lu_cbuff[b+1].length=0;lu_bwg_prv_ts[b]=0;lu_bwg_prv_ts[b+1]=0;lu_bwg_prv_csc_cnt[b]=0;lu_bwg_prv_csc_cnt[b+1]=0;lu_last_update_time[b]=0;lu_last_update_time[b+1]=0};labwu_user_update=function(c,g){var j;if(!(g.length%3)){j=g.length}else{j=g.length-1}if(j%3===0){var d;for(var h=0;h<j;h=h+3){var e=uint32_float(g[h]);var f=uint32_float(g[h+1]);var k=g[h+2];if(k>0){d=new Date(k*10*1000);if(lu_bwg_prv_ts[c]!==0){if((d-lu_bwg_prv_ts[c])>=30000){var a=new Date(lu_bwg_prv_ts[c]+10000/2);var b=new Date(d.getTime()-10000/2);lu_dbuff[c].push([a,0]);lu_dbuff[c].push([b,0])}}if(lu_bwg_prv_ts[c+1]!==0){if((d-lu_bwg_prv_ts[c+1])>=30000){var a=new Date(lu_bwg_prv_ts[c+1]+10000/2);var b=new Date(d.getTime()-10000/2);lu_dbuff[c+1].push([a,0]);lu_dbuff[c+1].push([b,0])}}if(d>=lu_bwg_prv_ts[c]){lu_bwg_prv_ts[c]=d;lu_bwg_prv_csc_cnt[c]=0;lu_dbuff[c].push([d,e]);if(lu_cbuff[c].length<=1400){lu_cbuff[c].push(lu_color[c])}if(lu_dbuff[c].length>1400){lu_dbuff[c].shift()}}else{d=lu_last_update_time[c];lu_bwg_prv_csc_cnt[c]++;if(lu_bwg_prv_csc_cnt[c]>3){lu_dbuff[c].pop();lu_bwg_prv_ts[c]=d}}if(d>=lu_bwg_prv_ts[c+1]){lu_bwg_prv_ts[c+1]=d;lu_bwg_prv_csc_cnt[c+1]=0;lu_dbuff[c+1].push([d,f]);if(lu_cbuff[c+1].length<=1400){lu_cbuff[c+1].push(lu_color[c+1])}if(lu_dbuff[c+1].length>1400){lu_dbuff[c+1].shift()}}else{d=lu_last_update_time[c+1];lu_bwg_prv_csc_cnt[c+1]++;if(lu_bwg_prv_csc_cnt[c+1]>3){lu_dbuff[c+1].pop();lu_bwg_prv_ts[c+1]=d}}}}if(d-lu_last_update_time[c]>=1000){lu_last_update_time[c]=d;lu_plot[c].updateOptions({file:lu_dbuff[c]})}if(d-lu_last_update_time[c+1]>=1000){lu_last_update_time[c+1]=d;lu_plot[c+1].updateOptions({file:lu_dbuff[c+1]})}}else{console.log("Invalid Live Bandwidth Data")}};var lssd_plot=[];var lssd_dbuff=[];var lssd_cbuff=[];var lssd_color=[];var lssd_label=[];var lssd_status_bar=[];var lssd_tbw=[];var lssd_pkt=[];var lssd_ref_time=[];var lssd_last_update_time=[];var lssd_prev_tspan=0;var lssd_make_request=function(a){var b=new Uint32Array(6);b[0]=pq_4_8_32(CJS_REQUEST_START,a.type,a.id,a.gid);b[1]=a.uid;b[2]=a.sip;b[3]=a.dip;b[4]=pq_2_16_32(a.sport,a.dport);b[5]=pq_1_16_2_8_32(a.vid,a.prot,a.app);return b.buffer};lssd_chart_plotter=function(h){var a=h.drawingContext;var f=h.points;var d=h.dygraph.toDomYCoord(0);var j=2;for(var c=0;c<f.length;c++){var g=f[c];var b=g.canvasx;a.fillStyle=h.dygraph.pqcolor[c][h.pqmcolor];a.fillRect(b-j/2,g.canvasy,j,d-g.canvasy)}};var lssd_graph_init=function(n,h,m,a,b,d,j,k,l,o,g){var c=[];var q=[];var r=[];if(n==LSES_UPDATE){c.push([0,0]);q.push([a]);r.push([b]);lssd_color[g]=[a];lssd_color[g+1]=[b]}else{c.push([0,0,0]);q.push([b,a]);r.push([b,a]);lssd_color[g]=[b,a]}lssd_dbuff[g]=c;lssd_dbuff[g+1]=c;lssd_ref_time[g]=0;lssd_cbuff[g]=q;lssd_cbuff[g+1]=r;lssd_label[g]=[$(d),$(k)];lssd_label[g+1]=[$(j),$(l)];lssd_status_bar[g]=[$(o)];lssd_status_bar[g+1]=[$(o)];lssd_tbw[g]=0;lssd_tbw[g+1]=0;lssd_last_update_time[g]=0;lssd_last_update_time[g+1]=0;if(n==LSES_UPDATE){var f=new Dygraph(document.getElementById(h),lssd_dbuff[g],lssd_cbuff[g],0,(g),{showRoller:false,fillGraph:true,plotter:smoothPlotter,labels:["Time","Bandwidth"],labelsDivStyles:pq_dygraph_tooltip(),labelsSeparateLines:true,axisLabelFontSize:10,axes:{x:{valueFormatter:function(s){return x_axis_av_formatter(s)}},y:{axisLabelWidth:60,valueFormatter:function(s){return y_axis_bw_val_formatter(s,2)},axisLabelFormatter:function(s){return y_axis_bw_val_formatter(s,2)}}}});var e=new Dygraph(document.getElementById(m),lssd_dbuff[g+1],lssd_cbuff[g+1],0,(g+1),{showRoller:false,fillGraph:true,plotter:smoothPlotter,labels:["Time","Bandwidth"],labelsDivStyles:pq_dygraph_tooltip(),labelsSeparateLines:true,axisLabelFontSize:10,axes:{x:{valueFormatter:function(s){return x_axis_av_formatter(s)}},y:{axisLabelWidth:60,valueFormatter:function(s){return y_axis_bw_val_formatter(s,2)},axisLabelFormatter:function(s){return y_axis_bw_val_formatter(s,2)}}}});lssd_plot[g]=f;lssd_plot[g+1]=e}else{var p=new Dygraph(document.getElementById(h),lssd_dbuff[g],lssd_cbuff[g],0,g,{showRoller:false,fillGraph:true,plotter:smoothPlotter,colors:[a,b],labels:["Time","Uplink Bandwidth","Downlink Bandwidth"],labelsDivStyles:pq_dygraph_tooltip(),labelsSeparateLines:true,axisLabelFontSize:10,axes:{x:{valueFormatter:function(s){return x_axis_av_formatter(s)}},y:{axisLabelWidth:60,valueFormatter:function(s){return y_axis_bw_val_formatter(s,2)},axisLabelFormatter:function(s){return y_axis_bw_val_formatter(s,2)}}}});lssd_plot[g]=p}return g};lssd_update_start=function(a,c,b){lssd_dbuff[c]=[];lssd_cbuff[c].length=0;lssd_dbuff[c+1]=[];lssd_cbuff[c+1].length=0;lssd_tbw[c]=0;lssd_tbw[c+1]=0;lssd_pkt[c]=0;lssd_pkt[c+1]=0;lssd_label[c][0].text("Data Sent : 0 MB");lssd_label[c][1].text("Packets Sent : 0");lssd_label[c+1][0].text("Data Received : 0 MB");lssd_label[c+1][1].text("Packets Received : 0");lssd_status_bar[c][0].css("background-color","#005d00")};lses_update=function(h,e){if(!(e.length%5)){data_len=e.length}else{data_len=e.length-1}if(data_len%5===0){for(var b=0;b<data_len;b=b+5){var f=e[b];var g=e[b+1];var c=e[b+2];var d=e[b+3];var a=e[b+4]*10*1000;lssd_dbuff[h].push([(new Date(a)),uint32_float(f)]);lssd_dbuff[h+1].push([(new Date(a)),uint32_float(g)]);lssd_tbw[h]+=uint32_float(f)*1000*1000*10/8;lssd_tbw[h+1]+=uint32_float(g)*1000*1000*10/8;lssd_pkt[h]+=c;lssd_pkt[h+1]+=d;if(lssd_cbuff[h].length<100){lssd_cbuff[h].push(lssd_color[h]);lssd_cbuff[h+1].push(lssd_color[h+1])}if(lssd_dbuff[h].length>100){lssd_dbuff[h].shift()}if(lssd_dbuff[h+1].length>100){lssd_dbuff[h+1].shift()}if(a-lssd_last_update_time[h]>1000||lssd_last_update_time[h]>a){lssd_plot[h].updateOptions({file:lssd_dbuff[h]});lssd_plot[h+1].updateOptions({file:lssd_dbuff[h+1]});lssd_label[h][0].text("Data Sent : "+pq_get_usage(lssd_tbw[h]));lssd_label[h][1].text("Packets Sent : "+lssd_pkt[h]);lssd_label[h+1][0].text("Data Received : "+pq_get_usage(lssd_tbw[h+1]));lssd_label[h+1][1].text("Packets Received : "+lssd_pkt[h+1]);lssd_last_update_time[h]=a}}}else{console.log("Invalid SSD Bandwidth Data")}};lssc_update=function(a,d){var g;if(!(d.length%5)){g=d.length}else{g=d.length-1}if(g%5===0){for(var e=0;e<g;e=e+5){var b=d[e];var c=d[e+1];var f=d[e+2];var h=d[e+3];var k=d[e+4]*10*1000;if(lssd_dbuff[a].length==1){lssd_dbuff[a].shift();lssd_dbuff[a].push([(new Date(k-1400*100)),0,0]);lssd_cbuff[a].push(lssd_color[a]);lssd_plot[a].updateOptions({file:lssd_dbuff[a]})}if(lssd_prev_tspan!==0){if(k-lssd_prev_tspan>=20000){var l=new Date((k-1000));var j=new Date((lssd_prev_tspan+1000));lssd_dbuff[a].push([j,0,0]);lssd_dbuff[a].push([l,0,0])}}lssd_prev_tspan=k;lssd_dbuff[a].push([(new Date(k)),uint32_float(b),uint32_float(c)]);lssd_tbw[a]+=uint32_float(b)*1000*1000*10/8;lssd_tbw[a+1]+=uint32_float(c)*1000*1000*10/8;lssd_pkt[a]+=f;lssd_pkt[a+1]+=h;if(lssd_cbuff[a].length<100){lssd_cbuff[a].push(lssd_color[a])}if(lssd_dbuff[a].length>100){lssd_dbuff[a].shift()}if(k-lssd_last_update_time[a]>1000){lssd_plot[a].updateOptions({file:lssd_dbuff[a]});lssd_label[a][0].text("Data Sent : "+pq_get_usage(lssd_tbw[a]));lssd_label[a][1].text("Packets Sent : "+lssd_pkt[a]);lssd_label[a+1][0].text("Data Received : "+pq_get_usage(lssd_tbw[a+1]));lssd_label[a+1][1].text("Packets Received : "+lssd_pkt[a+1]);lssd_last_update_time[a]=k}}}else{console.log("Invalid SSD Bandwidth Data")}};lssd_update_end=function(a,b){$("#LiveWatchDisconnectModal").show();if(a===LSES_UPDATE){lssd_status_bar[b][0].css("background-color","gray")}else{if(a===LDES_UPDATE||a===LSRC_UPDATE||a===LAPP_UPDATE||a===LSVS_UPDATE){lssd_status_bar[b][0].css("background-color","gray")}else{console.log("Unknown ssd end type")}}};var lapp_bwutil_plot=[];var lapp_bwutil_dbuff=[];var lapp_bwutil_cbuff=[];var lapp_bwutil_color=[];var lapp_bwutil_graph=[];var lapp_bwutil_last_update_time=[];lapp_bwutil_update_start=function(b,a){lapp_bwutil_plot[b].resize();lapp_bwutil_plot[b+1].resize();lapp_bwutil_dbuff[b]=[];lapp_bwutil_dbuff[b+1]=[];lapp_bwutil_cbuff[b]=[];lapp_dlink_buffer=[];lapp_ulink_buffer=[]};var lurl_plot=[];var lurl_dbuff=[];var lurl_cbuff=[];var lurl_color=[];var lurl_prev_tspan=0;var lurl_remove_count=[];var lurl_graph_init=function(h,e,f,a,c){var d=[];var g=[];d.push([0,0,0,0]);g.push([e,f,a]);lurl_color[c]=[e,f,a];lurl_dbuff[c]=d;lurl_cbuff[c]=[e,f,a];var b=new Dygraph(document.getElementById(h),lurl_dbuff[c],lurl_cbuff[c],0,c,{drawPoints:true,animatedZooms:true,showRoller:false,axisLabelFontSize:10,plotter:lssd_chart_plotter,colors:[e,f,a],labels:["Time","HTTP Requests","HTTPS Client Requests","DNS responses"],labelsDivStyles:pq_dygraph_tooltip(),labelsSeparateLines:true,axes:{x:{valueFormatter:function(j){var k=moment(j);return"<div style ='color:#046277; display:inline-block; font-weight: bold'>Date:</div> <div style ='color:#000; display:inline-block'>"+k.format("dddd, MMMM Do YYYY")+"</div><br><div style ='color:#046277; display:inline-block; font-weight: bold'>Time:</div> <div style ='color:#000; display:inline-block'>"+k.format("H:mm:ss")+"</div>"}}}});lurl_plot[c]=b;return c};lurlst_uend=function(a){$("#pq_lurlw_status_ind").css("background-color","gray");$("#pq_lurlw_status_text").text("Status: Inactive")};lurldata_ustart=function(a,b){sc_cd_type=CLIENT_DIAGRAM;lurl_dbuff[b]=[];lurl_cbuff[b].length=0;lurl_remove_count[b]=0;urlw_http_list.clear();urlw_https_list.clear();urlw_dns_list.clear()};lurldata_update=function(b,e,g){if(CURRENT_WINDOW!==WINDOW_LIVE_URL_WATCH){return}if(e.length%14===0){for(var f=0;f<e.length;f+=14){var l=pq_32_2_16(e[f]);var j=l.one;var c=l.two;var h=e[f+1];var k=e[f+2];var a=String.fromCharCode.apply(null,new Uint8Array(g,(f+3)*4,c));if(URL_WATCH_FLAG){if(j===0){if(urlw_http_list.size()>32){urlw_http_list.items.shift()}urlw_http_list.add({wurl:a,wuip:""+num2dotR(h),wuport:"port: "+k})}else{if(j===1){if(urlw_https_list.size()>32){urlw_https_list.items.shift()}urlw_https_list.add({wurl:a,wuip:""+num2dotR(h),wuport:"port: "+k})}else{if(j===2){if(urlw_dns_list.size()>32){urlw_dns_list.items.shift()}urlw_dns_list.add({wurl:a,wuip:""+num2dotR(h),wuport:""+num2dotR(k)})}else{var d=new Date(e[f+6]*1000*10);lurl_dbuff[b].push([d,e[f+3],e[f+4],e[f+5]]);if(lurl_cbuff[b].length<512){lurl_cbuff[b].push(lurl_color[b]);if(lurl_remove_count[b]<3){lurl_dbuff[b].shift();lurl_remove_count[b]++}}else{lurl_dbuff[b].shift()}if(lurl_dbuff[b].length>0){lurl_plot[b].updateOptions({file:lurl_dbuff[b]})}}}}}}}else{console.log("Invalid url data")}};var lcjs_req_conn=[];var lcjs_request=[];var lcjs_request_que=[];var lcjs_request_status=[];var lcjs_make_request=function(c,a,b){if(lcjs_request_status[c]==="relax"){if(a===LABW_UPDATE){lcjs_req_conn[c].send(labwu_make_request(b))}else{if(a===LMLTS_UBW_UPDATE||a===LMLTAPPU_UPDATE){lcjs_req_conn[c].send(labwu_user_make_request(b))}else{if(a===LSES_UPDATE||a===LSRC_UPDATE||a===LDES_UPDATE||a===LAPP_UPDATE||a===LSVS_UPDATE||a===LURLDATA_UPDATE){lcjs_req_conn[c].send(lssd_make_request(b))}else{if(a===200){lcjs_req_conn[c].send(lcju_make_auth_req(b))}}}}}else{lcjs_request_que[c].push([a,b])}};var lcjs_try_make_request=function(b){if(lcjs_request_status[b]==="relax"){if(lcjs_request_que[b].length>0){var a=lcjs_request_que[b].shift();if(a[0]===LABW_UPDATE){lcjs_req_conn[b].send(labwu_make_request(a[1]))}else{if(a[0]===LMLTS_UBW_UPDATE||a[0]===LMLTAPPU_UPDATE){lcjs_req_conn[b].send(labwu_user_make_request(a[1]))}else{if(a[0]===LSES_UPDATE||a[0]===LSRC_UPDATE||a[0]===LDES_UPDATE||a[0]===LAPP_UPDATE||a[0]===LSVS_UPDATE||a[0]===LURLDATA_UPDATE){lcjs_req_conn[b].send(lssd_make_request(a[1]))}else{if(a[0]===200){lcjs_req_conn[b].send(lcju_make_auth_req(a[1]))}}}}}}};var lcjs_request_cbk=function(e,d){var a=new Uint32Array(d);if(a.length%2!==0){var c=pq_32_4_8(a[0]);if(c.one===CJS_REQUEST_START){if(c.two===GRAPH_UPDATE){lcjs_request[e]=c;if(c.three===LMLTAPPU_UPDATE){lapp_bwutil_update_start(c.four,a)}else{if(c.three===LMLTS_UBW_UPDATE){labwu_user_update_start(c.four,a)}else{if(c.three===LABW_UPDATE){labwu_update_start(c.four,a)}else{if(c.three===LSES_UPDATE||c.three===LSRC_UPDATE||c.three===LDES_UPDATE||c.three==LAPP_UPDATE||c.three==LSVS_UPDATE){lssd_update_start(c.three,c.four,a)}else{if(c.three===LURLDATA_UPDATE){lurldata_ustart(c.three,c.four)}}}}}}else{console.log("unknown live request start")}}else{if(c.one===CJS_REQUEST_END){if(c.two===GRAPH_UPDATE){if(c.three===LMLTAPPU_UPDATE){labwu_update_end(c.four)}else{if(c.three===LMLTS_UBW_UPDATE){labwu_update_end(c.four)}else{if(c.three===LSES_UPDATE||c.three===LSRC_UPDATE||c.three===LDES_UPDATE||c.three==LAPP_UPDATE||c.three==LSVS_UPDATE){lssd_update_end(c.three,c.four)}else{if(c.three===LURLDATA_UPDATE){lurlst_uend(c.three,c.four)}}}}}else{if(c.two===200){}else{console.log("unknown live request end")}}lcjs_request_status[e]="relax";lcjs_try_make_request(e)}else{console.log("undefined lcjs request")}}}else{if(lcjs_request[e].two===GRAPH_UPDATE){if(lcjs_request[e].three===LABW_UPDATE){var b=lcjs_request[e].four;labwu_update(b,a)}else{if(lcjs_request[e].three===LMLTAPPU_UPDATE){var b=lcjs_request[e].four;lapp_bwutil_update(b,a)}else{if(lcjs_request[e].three===LSES_UPDATE){var b=lcjs_request[e].four;lses_update(b,a)}else{if(lcjs_request[e].three===LSRC_UPDATE||lcjs_request[e].three===LDES_UPDATE||lcjs_request[e].three===LAPP_UPDATE||lcjs_request[e].three===LSVS_UPDATE){var b=lcjs_request[e].four;lssc_update(b,a)}else{if(lcjs_request[e].three===LMLTS_UBW_UPDATE){var b=lcjs_request[e].four;labwu_user_update(b,a)}else{if(lcjs_request[e].three===LURLDATA_UPDATE){var b=lcjs_request[e].four;lurldata_update(b,a,d)}else{console.log("unknown lcjs m-update")}}}}}}}else{console.log("undefined lcjs mass update")}}a=null};var lcjs_init_request_connection=function(d){if(typeof MozWebSocket!=="undefined"){lcjs_req_conn.push(new MozWebSocket(get_cjs_ws_url(),d))}else{lcjs_req_conn.push(new WebSocket(get_cjs_ws_url(),d))}var a=(lcjs_req_conn.length-1);lcjs_req_conn[a].binaryType="arraybuffer";lcjs_request_status.push("none");lcjs_request_que.push([]);lcjs_make_request(a,200,{type:200,gid:$.cookie("pqsf")});try{lcjs_req_conn[a].onopen=function(){console.log(d+" connected");lcjs_request_status[a]="relax";lcjs_try_make_request(a)};lcjs_req_conn[a].onmessage=function c(e){lcjs_request_cbk(a,e.data)};lcjs_req_conn[a].onclose=function(){var e=document.getElementById("DisconnectModal");e.style.display="block";console.log(d+" connection closed "+a);lcjs_request_status[a]="none"}}catch(b){alert("<p>Error"+b)}return a};x_axis_formatter=function(b){var a=moment(b);return"<div style ='color:#046277; display:inline-block; font-weight: bold'>Date:</div> <div style ='color:#000; display:inline-block'>"+a.format("dddd, MMMM Do YYYY")+"</div><br><div style ='color:#046277; display:inline-block; font-weight: bold'>Time:</div> <div style ='color:#000; display:inline-block'>"+a.format("H:mm:ss.SSS")+"</div>"};x_axis_av_formatter=function(b){var a=moment(b);return"<div style ='color:#046277; display:inline-block; font-weight: bold'>Date:</div> <div style ='color:#000; display:inline-block'>"+a.format("dddd, MMMM Do YYYY")+"</div><br><div style ='color:#046277; display:inline-block; font-weight: bold'>Time:</div> <div style ='color:#000; display:inline-block'>"+a.format("H:mm:ss")+"</div>"};vlan_x_axis_formatter=function(c,b){var a=moment(c);return"<div style ='color:#046277; display:inline-block; font-weight: bold'>Date:</div> <div style ='color:#000; display:inline-block'>"+a.format("dddd, MMMM Do YYYY")+"</div><br><div style ='color:#046277; display:inline-block; font-weight: bold'>Time:</div> <div style ='color:#000; display:inline-block'>"+a.format("H:mm:ss.SSS")+"</div><div style ='color:#046277; display:inline-block; font-weight: bold; margin-left: 5px'>VLAN:</div> <div style ='color:#000; display:inline-block'>"+get_vlan_label_id(c,b)+"</div>"};var tc_dgam_data=[];var tc_dgam_colours=[];pq_tc_diagram_refresh_clicked=function(){pq_restore_flow_bar(".pq_tc_diagram_filter_bar",tc_fs_id);refresh_trafic_dgm_now()};pq_tc_diagram_apply_clicked=function(){$("#diagram_tc_out,#diagram_tc_in").empty();var b=pq_get_flow_descriptor();var a={type:DIAGRAM_UPDATE,id:TRAFFIC_DIAGRAM,uid:global_rule_user,gid:0,sip:b.sip,sipr:b.sipr,dip:b.dip,dipr:b.dipr,sport:b.sport,dport:b.dport,vid:b.vid,prot:b.prot,app:b.app};cjs_make_request(TRAFFIC_DIAGRAM,a)};function refresh_trafic_dgm_now(){$("#diagram_tc_out,#diagram_tc_in").empty();var b=pq_get_flow_descriptor();var a={type:DIAGRAM_UPDATE,id:TRAFFIC_DIAGRAM,uid:global_rule_user,gid:0,sip:b.sip,sipr:b.sipr,dip:b.dip,dipr:b.dipr,sport:b.sport,dport:b.dport,vid:b.vid,prot:b.prot,app:b.app};cjs_make_request(TRAFFIC_DIAGRAM,a)}function draw_trafic_diagram(){var a=((tc_dgam_data.length/50)-1)*900+1000;var b=d3.select("#diagram_tc_out").append("svg").attr("id","trafic_dig_out").attr("width",(document.getElementById("diagram_tc_out").offsetWidth-20)).attr("height",a);var d=d3.select("#diagram_tc_in").append("svg").attr("id","trafic_dig_in").attr("width",(document.getElementById("diagram_tc_in").offsetWidth-20)).attr("height",a);$("#trafic_dig_out").addClass("pq_session_hcenter");$("#trafic_dig_in").addClass("pq_session_hcenter");var g=[b.append("g").attr("transform","translate(110,25)")];var e=[d.append("g").attr("transform","translate(110,25)")];var k=[viz.bP().data(tc_dgam_data).min(12).pad(1).height(a-200).width(document.getElementById("diagram_tc_out").offsetWidth*0.8-270).barSize(35).fill(function(l){return tc_dgam_colours[l.primary]})];var f=[viz.bP().data(tc_dgam_data).value(function(l){return l[3]}).min(12).pad(1).height(a-200).width(document.getElementById("diagram_tc_in").offsetWidth*0.8-270).barSize(35).fill(function(l){return tc_dgam_colours[l.primary]})];g[0].call(k[0]);g[0].append("line").attr("x1",-100).attr("x2",0);g[0].append("line").attr("x1",200).attr("x2",300);g[0].selectAll(".mainBars").on("mouseover",h).on("mouseout",c).on("click",j);g[0].selectAll(".mainBars").append("text").attr("class","label").attr("x",function(l){return(l.part==="primary"?-30:60)}).attr("y",function(l){return +6}).text(function(l){return l.key}).attr("text-anchor",function(l){return(l.part==="primary"?"end":"start")});g[0].selectAll(".mainBars").append("text").attr("class","perc").attr("x",function(l){return(l.part==="primary"?-95:30)}).attr("y",function(l){return +6}).text(function(l){return d3.format("0.0%")(l.percent)}).attr("text-anchor",function(l){return(l.part==="primary"?"end":"start")});e[0].call(f[0]);e[0].append("line").attr("x1",-100).attr("x2",0);e[0].append("line").attr("x1",200).attr("x2",300);e[0].selectAll(".mainBars").on("mouseover",h).on("mouseout",c).on("click",j);e[0].selectAll(".mainBars").append("text").attr("class","label").attr("x",function(l){return(l.part==="primary"?-30:60)}).attr("y",function(l){return +6}).text(function(l){return l.key}).attr("text-anchor",function(l){return(l.part==="primary"?"end":"start")});e[0].selectAll(".mainBars").append("text").attr("class","perc").attr("x",function(l){return(l.part==="primary"?-95:30)}).attr("y",function(l){return +6}).text(function(l){return d3.format("0.0%")(l.percent)}).attr("text-anchor",function(l){return(l.part==="primary"?"end":"start")});function h(l){k[0].mouseover(l);g[0].selectAll(".mainBars").select(".perc").text(function(m){return d3.format("0.0%")(m.percent)});f[0].mouseover(l);e[0].selectAll(".mainBars").select(".perc").text(function(m){return d3.format("0.0%")(m.percent)})}function c(l){k[0].mouseout(l);g[0].selectAll(".mainBars").select(".perc").text(function(m){return d3.format("0.0%")(m.percent)});f[0].mouseout(l);e[0].selectAll(".mainBars").select(".perc").text(function(m){return d3.format("0.0%")(m.percent)})}function j(l){if(l.part==="primary"){navigate_below(l.key,"")}else{navigate_below("",l.key)}}}function navigate_below(a,d){$("#diagram_tc_out,#diagram_tc_in").empty();var c=a.indexOf("(");var e=a.indexOf(")");if(e>-1&&c>-1){a=a.substring(c+1,e)}c=d.indexOf("(");e=d.indexOf(")");if(e>-1&&c>-1){d=d.substring(c+1,e)}var b={type:DIAGRAM_UPDATE,id:TRAFFIC_DIAGRAM,uid:global_rule_user,gid:0,sip:dot2num(a),sipr:dot2num(a),dip:dot2num(d),dipr:dot2num(d),sport:0,dport:0,vid:0,prot:0,app:0};cjs_make_request(TRAFFIC_DIAGRAM,b)}var pq_flow_filter=[{valid:false,value:""},{valid:false,value:""},{valid:false,value:""},{valid:false,value:""},{valid:false,value:""},{valid:false,value:""},{valid:false,value:""}];var pq_flow_filter_clone=[];pq_flow_filter_clone=pq_flow_filter.slice(0);var original_pq_flow_dropdown;var original_pq_flow_bar=[];var flow_dd_list=[{id:0,dd_title:"Source IP",disp_name:"Src_IP",max_len:31},{id:1,dd_title:"Destination IP",disp_name:"Des_IP",max_len:31},{id:2,dd_title:"Source Port",disp_name:"Src_Port",max_len:5},{id:3,dd_title:"Destination Port",disp_name:"Des_Port",max_len:5},{id:4,dd_title:"Protocol",disp_name:"Prot",max_len:3},{id:5,dd_title:"Applications",disp_name:"Applications",max_len:32}];var pq_create_flow_bar=function(e,d,a){var c='"'+e+'"';var b="<div class='pq_flow_dropwb'><button class='pq_flow_fadd pq_flow_vcenter' style='font-size:12px' onclick='pq_flow_add_btn_click()'>Add Filter</button><br><br><div class='pq_flow_drop_down'><button class='pq_url_wbtn' style='float:right; display:inline-block; width: 26px; height: 22px; font-size: 11px; background: #c7c5ba url(../image/clear_1.png) 5px no-repeat; text-indent: 20px;' onclick='pq_hide_flow_filter()'></button><br><a onclick='pq_fadd_menu_click("+c+",0, this)' disabled style='pointer-events:none; color:#bcbbbb' class='pq_flow_drop_down_text'>Source IP</a><a onclick='pq_fadd_menu_click("+c+",1, this)' class='pq_flow_drop_down_text'>Destination IP</a><a onclick='pq_fadd_menu_click("+c+",2, this)' class='pq_flow_drop_down_text'>Source Port</a><a onclick='pq_fadd_menu_click("+c+",3, this)' class='pq_flow_drop_down_text'>Destination Port</a><a onclick='pq_fadd_menu_click("+c+",4, this)' class='pq_flow_drop_down_text'>Protocol</a><a onclick='pq_fadd_menu_click("+c+",5, this)' class='pq_flow_drop_down_text'>Application</a></div></div><button class='pq_flow_apply' onclick='"+d+"()'>Apply Filter</button><button class='pq_flow_refresh' onclick='"+d+"()'>Refresh</button><button class='pq_flow_remove' onclick='"+a+"()'>Clear Filter</button>";$(e).append(b);original_pq_flow_dropdown=$(".pq_flow_drop_down").clone();original_pq_flow_bar.push($(e).clone());return(original_pq_flow_bar.length-1)};var is_pq_input_item_visible=false;var id_pq_input_item_visible=-1;pq_show_input_item=function(d,c){var b;if(c===4){b="<div class='pq_flow_input_element pq_flow_vcenter'><a class='pq_flow_input_label pq_flow_vcenter' style='text-decoration: none;'>"+flow_dd_list[c].dd_title+": </a><select id='protList' class='pq_flow_input_field pq_flow_vcenter' style='font-size: 10px; height: 20px; width: 100px' maxlength='"+flow_dd_list[c].max_len+"'><option value='TCP'>TCP</option><option value='UDP'>UDP</option></select></div>"}else{if(c===5){b="<div class='pq_flow_input_element pq_flow_vcenter'><a class='pq_flow_input_label pq_flow_vcenter' style='text-decoration: none;'>"+flow_dd_list[c].dd_title+": </a><select id='appList' class='pq_flow_input_field pq_flow_vcenter' style='font-size: 10px; height: 20px; width: 125px' maxlength='"+flow_dd_list[c].max_len+"'></select></div>"}else{b="<div class='pq_flow_input_element pq_flow_vcenter'><a class='pq_flow_input_label pq_flow_vcenter' style='text-decoration: none;'>"+flow_dd_list[c].dd_title+": </a><input class='pq_flow_input_field pq_flow_vcenter' type='text' maxlength='"+flow_dd_list[c].max_len+"'></div>"}}is_pq_input_item_visible=true;id_pq_input_item_visible=c;$(d).append(b);if(c===5){$.each(application_list,function(e,f){$("#appList").append($("<option>",{value:f}).text(f))});$.each(pq_services_list,function(e,f){if(f!=="Other"){$("#appList").append($("<option>",{value:f}).text(f))}});var a=$("#appList option");a.sort(function(f,e){if(f.text.toLowerCase()>e.text.toLowerCase()){return 1}if(f.text.toLowerCase()<e.text.toLowerCase()){return -1}return 0});$("#appList").empty().append(a)}$(".pq_flow_input_field").focus();$(".pq_flow_input_field").focusout(function(){pq_hide_input_item(d,id_pq_input_item_visible)});$(".pq_flow_input_field").keydown(function(e){if(e.which===13){pq_hide_input_item(d,id_pq_input_item_visible)}})};pq_hide_input_item=function(c,b){var a=$(".pq_flow_input_field").val();$(".pq_flow_input_element").remove();pq_add_fl_item(c,b,a)};pq_add_fl_item=function(e,d,b){var c='"'+e+'"';var a="<div class='pq_flow_dis_element pq_flow_vcenter'><div class='pq_flow_dis_element_image pq_flow_vcenter'  onclick='pq_remove_fl_item("+c+",this, "+d+")'></div><a class='pq_flow_dis_element_title pq_flow_vcenter' style='text-decoration: none;'>"+flow_dd_list[d].disp_name+" :</a><a class='pq_flow_dis_element_value pq_flow_vcenter' style='text-decoration: none;'> "+b+"</a>";"</div>";$(e).append(a);pq_flow_filter[d].valid=true;pq_flow_filter[d].value=b};pq_remove_fl_item=function(c,a,b){a.parentElement.remove();pq_add_dd_item(c,b);pq_flow_filter[b].valid=false;pq_flow_filter[b].value=""};pq_add_dd_item=function(d,c){var b='"'+d+'"';var a="<a onclick='pq_fadd_menu_click("+b+","+c+", this)' class='pq_flow_drop_down_text'>"+flow_dd_list[c].dd_title+"</a>";$(".pq_flow_drop_down").append(a)};window.onclick=function(a){if(!a.target.matches(".pq_flow_fadd")){if($(".pq_flow_drop_down").is(":visible")){pq_hide_flow_filter()}}};pq_flow_add_btn_click=function(){$(".pq_flow_drop_down").show()};pq_fadd_menu_click=function(c,b,a){a.remove();pq_show_input_item(c,b)};pq_restore_flow_bar=function(c,a){$(c).replaceWith(original_pq_flow_bar[a]);original_pq_flow_bar[a]=$(c).clone();for(var b=0;b<7;b++){if(pq_flow_filter[b].value!==""){pq_flow_filter[b].value=""}}};pq_hide_flow_filter=function(){$(".pq_flow_drop_down").hide()};var pq_get_flow_descriptor=function(){var j;var n;var c;var l;var a=pq_flow_filter[0].value.split("-");var e=pq_flow_filter[1].value.split("-");var b=var2num(pq_flow_filter[2].value);var g=var2num(pq_flow_filter[3].value);var m=pq_flow_filter[4].value;var f=pq_flow_filter[5].value;var h=application_list.indexOf(f);if(a.length===2){j=dot2num(a[0]);if(isNaN(j)){j=0}n=dot2num(a[1]);if(isNaN(n)){n=0}}else{j=dot2num(pq_flow_filter[0].value);if(isNaN(j)){j=0}n=j}if(e.length===2){c=dot2num(e[0]);if(isNaN(c)){c=0}l=dot2num(e[1]);if(isNaN(l)){l=0}}else{c=dot2num(pq_flow_filter[1].value);if(isNaN(c)){c=0}l=c}if(isNaN(b)){b=0}if(isNaN(g)){g=0}if(m==="UDP"){m=17}else{if(m==="TCP"){m=6}else{m=0}}if(f==="Other"){h=65535}if(h>=0){h=h}else{var k=pq_services_list.indexOf(f);if(k>0){h=k+application_list.length-1}else{h=0}}var d={sip:j,sipr:n,dip:c,dipr:l,sport:b,dport:g,vid:0,prot:m,app:h};return d};var main_window_data_updater;function start_mw_cts_info_update(){if(main_window_data_updater){return}main_window_data_updater=setInterval(request_mw_ct_info,6000)}function end_mw_cts_info_update(){clearInterval(main_window_data_updater);main_window_data_updater=null}function request_mw_ct_info(){var a;if(CURRENT_WINDOW===WINDOW_LINK_SUMMARY){a=0}else{if(CURRENT_WINDOW===WINDOW_USER_SUMMARY){a=global_rule_user}}var b={type:INFORMATION_UPDATE,id:INFO_MANW_CT_RQ,uid:a,lid:INFO_MANW_CT_RQ};cjs_make_request(INFO_MANW_CT_RQ,b)}function request_sw_info(){var a={type:INFORMATION_UPDATE,id:INFO_SETW_RQ,lid:INFO_SETW_RQ};cjs_make_request(INFO_SETW_RQ,a)}var profile_table;var profile_data=[];var user_profile_lookup_list=[];function CreateProfile(){var b=document.getElementById("AddProfileModal");var a=document.getElementById("CloseAddProfile");b.style.display="block";a.onclick=function(){b.style.display="none"};window.onclick=function(c){if(c.target===b){b.style.display="none"}}}function Update_Profile_Data(a,d){profile_data=[];user_profile_lookup_list=[];var b=$.cookie("pqsf");var c=new Uint32Array(1);c[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,NW_GET_USER_LIST,0);$.ajax({data:c.buffer,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(h,j,g){profile_data=h.split(";");for(var f=0;f<profile_data.length-1;f++){var e=profile_data[f].split("&");if(get_profile_type(e[1])!=="Administrator"&&get_profile_type(e[1])!=="Super-Administrator"){user_profile_lookup_list[e[0]]=e[2]}}if(a){Display_Prof_Table()}if(d||Object.keys(user_profile_lookup_list).length===1){global_rule_user=get_first_rule_user_index()}Clear()}).fail(function(e,g,f){console.error("Problems when posting...")})}function Display_Prof_Table(){profile_table.clear().draw();for(var b=0;b<profile_data.length-1;b++){var a=profile_data[b].split("&");profile_table.row.add([a[0],get_profile_type(a[1]),a[2],get_prof_user_ip(a[1],num2dot(a[3]),a[4]),a[5],set_user_status(a[2],a[5],a[0])]).draw(false)}profile_table.draw(false);set_primary_device(profile_table,true)}get_profile_type=function(a){if(a==="12"){return"Super-Administrator"}else{if(a==="14"){return"Administrator"}else{if(a==="23"){return"User"}else{return"Error"}}}};get_prof_user_ip=function(b,c,a){if(b==="12"||b==="14"){return"-"}else{if(b==="23"){if(a!=="32"){return c+"/"+a}else{return c}}else{return"Error"}}};set_user_status=function(c,a,b){if(c==="admin"){return"Active"}else{if(a==="1"){return"<select name='app_control' class='field_prop setPrimary' style='width:65px; margin-right:40px; background:transparent; border:none' id='profileStatus_"+b+"'><option value='1'>Enable</option><option value='0'>Disable</option> </select>"}else{return"<select name='app_control' class='field_prop setPrimary' style='width:65px; margin-right:40px; background:transparent; border:none' id='profileStatus_"+b+"'><option value='0'>Disable</option><option value='1'>Enable</option> </select>"}}};function EditProfile(){var c=profile_table.row(".selected").data();var b=document.getElementById("EditProfileModal");var a=document.getElementById("CloseEditProfile");b.style.display="block";a.onclick=function(){b.style.display="none"};window.onclick=function(d){if(d.target===b){b.style.display="none"}};$("#ProfileEditCode option").filter(function(){return this.text===c[1]}).prop("selected",true);$("#profile_edit_email").val(c[2]);$("#profile_edit_IP").val(c[3]);if($("#ProfileEditCode option:selected").val()!=="23"){$("#profile_edit_IP").attr("disabled",true)}else{$("#profile_edit_IP").attr("disabled",false)}}function ResetProfilePwd(){var c=profile_table.row(".selected").data();var b=document.getElementById("ResetPwdModal");var a=document.getElementById("CloseResetPwd");b.style.display="block";a.onclick=function(){b.style.display="none"};window.onclick=function(d){if(d.target===b){b.style.display="none"}};if(c[2]!==user_email_address){$("#profile_edit_password_seg").hide();$("#ResetPwdModalContent").css({height:"245px"})}else{$("#profile_edit_password_seg").show();$("#ResetPwdModalContent").css({height:"290px"})}}function DeleteProfile(){delete_nw_user_account((profile_table.row(".selected").data())[0],(profile_table.row(".selected").data())[2])}function show_rule_user_popup(){init_rule_user_list("#rule_user_modal_dropdown");var b=document.getElementById("RuleUserModal");var a=document.getElementById("CloseRuleUserModal");b.style.display="block";a.onclick=function(){b.style.display="none";$("#rule_user_search_input").val("")};window.onclick=function(c){if(c.target===b){b.style.display="none"}};$("#rule_user_modal_dropdown option").filter(function(){return this.text===user_profile_lookup_list[global_rule_user]}).prop("selected",true)}function set_primary_device(b,a){if(SET_PRIMARY){$(".setPrimary").attr("disabled",false)}else{if(CURRENT_WINDOW===WINDOW_APP_LINK_UTIL){$(".setPrimary").hide();$(".setAppBwPrimary").attr("disabled",true).css("pointer-events","none")}else{if(a){b.select.style("api")}$(".setPrimary").attr("disabled",true)}}}var media_config_table;var slec_cdport_data;var slec_cdport_row;var config_med_clicked;var pq_dev_portc_types=["10/100/1000 BASE-T","1000 BASE-X/1000 BASE-T"];function init_media_config_elements(){media_config_table=$("#Media_Config_Table").DataTable({select:true,columnDefs:[{targets:0,visible:false},{width:"30%",targets:1},{width:"30%",targets:2,visible:false},{width:"30%",targets:3},{orderable:false,targets:"_all"},{className:"dt-center",targets:"_all"}],scrollY:"100px",scrollCollapse:true,paging:false,searching:false,info:false,ordering:false});$("#Media_Config_Table").on("click","tbody tr",function(){var a=1;setTimeout(function(){selectedTableRowCount=media_config_table.rows(".selected").count()},a)});$("#Media_Config_Table").on("click","tbody tr",function(){var a=1;var b=media_config_table.row(".selected").data()[0];setTimeout(function(){if(selectedTableRowCount===1){if(b===0){$("#config_wIn_mask").show();$("#config_wOut_mask").hide()}else{$("#config_wOut_mask").show();$("#config_wIn_mask").hide()}}else{$("#config_wIn_mask,#config_wOut_mask").hide()}},a)})}function display_media_config_table(){media_config_table.clear().draw();var a=$.cookie("pqsf");var b=new Uint32Array(2);b[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,135,0);$.ajax({data:b.buffer,processData:false,headers:{PARAQUMTEC:a},timeout:1000,type:"POST",url:"/"}).done(function(e){var f=e.split(";");for(var d=0;d<f.length-1;d++){var c=f[d].split("&");if(Number(c[0])===0){media_config_table.row.add([Number(c[0]),"WAN1 IN",Number(c[1]),set_media_config_type(c[1],d)])}else{media_config_table.row.add([Number(c[0]),"WAN1 OUT",Number(c[1]),set_media_config_type(c[1],d)])}}media_config_table.draw(false)}).fail(function(){console.error("Problems when posting...")})}set_media_config_type=function(a,b){if(a==="0"){return"<select name='dcport_control' class='field_prop' onchange='config_med_clicked = this; show_warning_type_modal(1)' style='width:190px;  margin-right:40px; background:transparent; border:none' id='cdportStatus_"+b+"'><option value='0'>"+pq_dev_portc_types[0]+"</option><option value='1'>"+pq_dev_portc_types[1]+"</option> </select>"}else{return"<select name='dcport_control' class='field_prop' onchange='config_med_clicked = this; show_warning_type_modal(1)' style='width:190px; margin-right:40px; background:transparent; border:none' id='cdportStatus_"+b+"'><option value='1'>"+pq_dev_portc_types[1]+"</option><option value='0'>"+pq_dev_portc_types[0]+"</option> </select>"}};function change_media_config_type(a){document.getElementById("StatusModal").style.display="none";change_device_media_configurations(+($(a).attr("id")[13]),+(a[a.selectedIndex].value))}var app_link_util_table;var prev_tstamp;var prev_user_tstamp;var lapp_dlink_buffer=[];var lapp_ulink_buffer=[];var checked_link_util_app_list=[];var app_bwm_prof_list=[];var app_bwm_prof_list_data=[];var app_bwm_prof_app_list=[];var app_bwm_prof_app_list_data=[];var link_util_flag=true;var is_app_grap_init=false;var is_app_grap_user_inited=false;var is_bwm_app_req_init=false;var is_stacked_dlink=true;var is_stacked_ulink=true;var BWM_APP_PROF_COUNT=16;var BWM_APP_PROF_APP_COUNT=16;var user_app_watch_prof_lookup=[];init_app_bwm_table=function(a,b){app_link_util_table=$("#App_Dlink_Util_table").DataTable({columnDefs:[{title:"ID",width:"5%",targets:0,visible:false},{title:"",width:"10%",targets:1},{title:"Application",width:"70%",targets:2},{title:"",width:"10%",targets:3},{title:"",width:"1%",targets:4},{className:"dt-center",targets:"_all"}],paging:false,scrollY:set_app_bwm_table_scroll(a),ordering:false,searching:true,info:false})};set_app_bwm_table_scroll=function(a){if(a>-1){if(parseInt(app_bwm_prof_app_list[a].length)===0){return"40px"}else{return""+parseInt(app_bwm_prof_app_list[a].length*28+15)+"px"}}else{return($("#pq_dlink_util_plot_System").height()-150)}};function init_link_utilization(d,f,e){if(e){Display_link_Util_Table(d,f)}if(!is_app_grap_init){var a=lapp_bw_util_graph_init("AppBwm_Ntwrk_Dlink_Plot","AppBwm_Ntwrk_Ulink_Plot",0);is_app_grap_init=true}if(!is_bwm_app_req_init){var c=lcjs_init_request_connection("lcjsreq");var b={type:GRAPH_UPDATE,id:LMLTAPPU_UPDATE,uid:global_rule_user,gid:a};lcjs_make_request(c,LMLTAPPU_UPDATE,b);is_bwm_app_req_init=true}set_primary_device(app_link_util_table,false)}function load_app_bwm_prof_table(){app_link_util_table.search("").draw();uncheck_profile_apps();get_app_bwm_prof()}function load_app_bwm_all_table(){app_link_util_table.search("").draw();uncheck_profile_apps();$("#App_Dlink_Util_table_wrapper").remove();$("#app_util_dlink_all").append('<table  id="App_Dlink_Util_table" class="display cell-border AppUserTablesFont " cellspacing="0" width="100%" ></table>');init_app_bwm_table(-1,2);Display_link_Util_Table(0,0);checked_link_util_app_list=[0,1,2];check_profile_apps()}function init_app_bwm_profile_add(){$("#addProfileId").show();$("#addProfilebuttonId").hide()}function add_app_bwm_profile(){var a=$("#profile_input").val();if(a!==""){$("#addProfileId").hide();$("#addProfilebuttonId").show();add_app_bwm_prof(a)}else{$("#profile_input").css("border-color","red")}$("#profile_input").focus(function(){$("#profile_input").css("border","2px solid black")})}function delete_profile(a){delete_app_bwm_prof(parseInt(BWM_APP_PROF_COUNT-a))}function display_app_bwm_prof(){var b=false;$("#sub_profile_button_grp").children().remove();for(var a=0;a<app_bwm_prof_list.length;a++){if(typeof(app_bwm_prof_list[a])!=="undefined"){$("#sub_profile_button_grp").append("<div id='"+a+"_bwm_app_prof_group' style='border:2px solid #d2dcdb'> <button id='"+a+"_bwm_app_prof_toggle' class='profile_button' style='font-family: Georgia' onclick=dropdown("+a+",'"+a+"_bwm_prof_content')>"+app_bwm_prof_list[a]+"</button><div id='"+a+"_bwm_prof_content' class='default_content' hidden ></div></div>")}else{b=true}}if(app_bwm_prof_list.length>=16&&!b){$("#addProfilebuttonId").attr("disabled",true)}else{$("#addProfilebuttonId").attr("disabled",false)}dropdown(0,"0_bwm_prof_content");$("#0_bwm_app_prof_toggle").addClass("active");$(".profile_button").click(function(){var c=this.id.split("_");if(!($(this).hasClass("active"))){$(this).addClass("active")}else{$(this).removeClass("active")}})}function dropdown(a,b){if($("#"+b).is(":hidden")){uncheck_profile_apps();$(".default_content").css("display","none");if($(".profile_button").hasClass("active")){$(".profile_button").removeClass("active")}$("#"+b).show();$("table").remove();$("#App_Dlink_Util_table_wrapper").remove();$("#app_list_ul").remove();$("#"+b).append('<table  id="App_Dlink_Util_table" class="display cell-border AppUserTablesFont " cellspacing="0" width="100%" ></table>');$("#applist").append('<ul id="app_list_ul" style="list-style:none;margin-left: -40px; height: 275px;overflow-y: auto"></ul>');get_app_bwm_prof_item(parseInt(BWM_APP_PROF_COUNT-a),true)}else{$("#"+b).hide()}}function get_application_list_array(a){$("#app_list_ul").children().remove();var c=true;for(var d in application_list){if(typeof(app_bwm_prof_app_list[a])!=="undefined"){for(var b=0;b<app_bwm_prof_app_list[a].length;b++){if(d==app_bwm_prof_app_list[a][b].appID){c=false}}}if(c===true&&d<application_list.length){$("#app_list_ul").append("<li id='appId_"+d+"' style='text-align:left;height:30px; border-bottom: solid 0.6px lightgrey; margin-top: 5px'><a style='text-decoration:none; font-size: 13px;'>"+application_list[d]+"</a><img src='image/add.png' style='width:25px; height:25px; float:right; cursor:pointer;' onclick=add_app_bwm_prof_item("+parseInt(BWM_APP_PROF_COUNT-a)+","+d+",'"+color_gen[d]+"')></li>")}c=true}}function init_add_app_bwm_prof(a){get_application_list_array(a);$("#Add_App_BWM_Prof_Window").show();$("#app_search_input").val("");var b=document.getElementById("CloseAddApplication");$("#pq_dlink_util_plot").css("position","initial");b.onclick=function(){$("#Add_App_BWM_Prof_Window").hide();$("#pq_dlink_util_plot").css("position","absolute")};window.onclick=function(c){if(c.target===$("#Add_App_BWM_Prof_Window")){$("#Add_App_BWM_Prof_Window").hide();$("#pq_dlink_util_plot").css("position","absolute")}}}function cancelProfile(){$("#addProfileId").hide();$("#addProfilebuttonId").show()}var app_bwm_prof_init_flag=false;function Display_link_Util_Table(b,c){var a=0;var g=[];checked_link_util_app_list=[];if(b===1){if(app_bwm_prof_app_list[BWM_APP_PROF_COUNT-c].length>0){for(var d=0;d<app_bwm_prof_app_list[BWM_APP_PROF_COUNT-c].length;d++){g.push({id:app_bwm_prof_app_list[BWM_APP_PROF_COUNT-c][d].appID,label:application_list[app_bwm_prof_app_list[BWM_APP_PROF_COUNT-c][d].appID]});checked_link_util_app_list.push(parseInt(app_bwm_prof_app_list[BWM_APP_PROF_COUNT-c][d].appID))}}}else{for(var f in application_list){g.push({id:f,label:application_list[f]})}}var e=g.sort(function(j,h){if(j.label.toLowerCase()<h.label.toLowerCase()){return -1}if(j.label.toLowerCase()>h.label.toLowerCase()){return 1}return 0});app_link_util_table.clear();for(var d=0;d<e.length;d++){if(e[d].id!=="undefined"){if(checked_link_util_app_list.indexOf(parseInt(e[d].id))>-1){a=1}else{a=0}if(b===1){app_link_util_table.row.add([e[d].id,set_checked(1,"appBwmChecked_"+e[d].id),e[d].label,set_bwm_prof_app_colors(c,e[d].id),set_delete_button(b,c,e[d].id)])}else{app_link_util_table.column(4).visible(false);app_link_util_table.row.add([e[d].id,set_checked(a,"appBwmChecked_"+e[d].id),e[d].label,set_bwm_all_app_colors(e[d].id),""])}}}app_link_util_table.draw(false);jscolor.installByClassName("jscolor");if(c===16){app_link_util_table.buttons(1).remove()}if(app_bwm_prof_init_flag&&b===1){check_profile_apps()}app_bwm_prof_init_flag=true}set_delete_button=function(a,b,c){if(a===1){return" <a href='#'><img src='image/delete.png' id='"+c+"' style='width:16px;height:16px;margin-left:7px;' class='setAppBwPrimary' onClick=delete_app_bwm_prof_item("+b+","+c+") style='margin-left: 2px'></a>"}};check_profile_apps=function(){var b=checked_link_util_app_list.length;for(var a=0;a<b;a++){$("#appBwmChecked_"+checked_link_util_app_list[a]).prop("checked",true).change()}};uncheck_profile_apps=function(){var b=checked_link_util_app_list.length;for(var a=0;a<b;a++){$("#appBwmChecked_"+checked_link_util_app_list[0]).prop("checked",false).change()}};set_checked=function(a,b){if(a===1){return"<input type='checkbox' id='"+b+"' class='app_bw_util_all' checked onchange='change_visibility(this)' style='margin-left: 9px'>"}else{return"<input type='checkbox' id='"+b+"' class='app_bw_util_all' onchange='change_visibility(this)' style='margin-left: 9px'>"}};set_bwm_prof_app_colors=function(a,d){var c=app_bwm_prof_app_list[BWM_APP_PROF_COUNT-a];if(c.length>0){for(var b=0;b<c.length;b++){prof_color_codes[c[b].appID]=c[b].color}}return"<input type='button' class='jscolor setAppBwPrimary' id='app_bwm_col_pickr_"+d+"' style='width:40px; height:7px;border:none;font-size:0px;background-color: "+prof_color_codes[d]+" ' value="+prof_color_codes[d]+" onchange='changeColor(this ,"+a+","+d+")'>"};set_bwm_all_app_colors=function(a){return"<button class='pq_session_wbtn' disabled style='width:40px; height:7px; background-color: "+color_gen[a]+"'></button>"};changeColor=function(d,c,e){var b=$("#app_bwm_col_pickr_"+e).css("background-color");var a;if(b.indexOf("#")>-1){a=b}else{a=rgbToHex(b)}update_app_bwm_prof_item(c,e,a);document.getElementById("app_bwm_col_pickr_"+e).jscolor.hide()};btn_link_util_bw_load_now=function(a){if(a===2){$("#AppBwm_Ntwrk_Ulink_Plot").css("z-index",100);$("#AppBwm_Ntwrk_Dlink_Plot").css("z-index",-10);$("#AppBwm_User_Dlink_Plot").css("z-index",-10);$("#AppBwm_User_Ulink_Plot").css("z-index",-10);$("#bwm_prof_plot_title").text("Uplink Utilization")}else{if(link_util_flag){get_app_bwm_prof();link_util_flag=false}$("#AppBwm_Ntwrk_Ulink_Plot").css("z-index",-10);$("#AppBwm_Ntwrk_Dlink_Plot").css("z-index",100);$("#AppBwm_User_Dlink_Plot").css("z-index",-10);$("#AppBwm_User_Ulink_Plot").css("z-index",-10);$("#bwm_prof_plot_title").text("Downlink Utilization")}};var get_dlink_app_labels=function(){var b=["Time"];for(var a=0;a<application_list.length;a++){b.push(application_list[a])}return b};var get_dlink_app_visibility=function(){var b=[];for(var a=0;a<application_list.length;a++){if(checked_link_util_app_list.indexOf(a)>-1){b.push(true)}else{b.push(false)}}return b};var gd_util;var gu_util;var lapp_bw_util_graph_init=function(d,g,c){var f=[new Date(0)];for(var b=0;b<application_list.length;b++){f.push(0)}var a=document.getElementById(d);var e=document.getElementById(g);if(lapp_bwutil_dbuff[c]==null){lapp_bwutil_dbuff[c]=f;lapp_bwutil_dbuff[c+1]=f;lapp_bwutil_color[c]=[color_gen];lapp_bwutil_color[c+1]=[color_gen];lapp_bwutil_cbuff[c]=lapp_bwutil_color;lapp_bwutil_cbuff[c+1]=lapp_bwutil_color;lapp_bwutil_last_update_time[c]=0}gd_util=new Dygraph(a,lapp_bwutil_dbuff[lapp_bwutil_dbuff.length-2],0,0,0,{colors:color_gen,labels:get_dlink_app_labels(),stackedGraph:is_stacked_dlink,drawGrid:false,fillGraph:true,plotter:smoothPlotter,labelsDivStyles:pq_dygraph_tooltip(),labelsSeparateLines:true,fillAlpha:0.6,visibility:get_dlink_app_visibility(),highlightCircleSize:2,axisLabelFontSize:10,axes:{y:{axisLabelWidth:55,valueFormatter:function(h){return y_axis_bw_val_formatter(h,2)},axisLabelFormatter:function(h){return y_axis_bw_val_formatter(h,1)}},x:{valueFormatter:function(h){var j=moment(h);return"<div style ='color:#046277; display:inline-block; font-weight: bold'>Date:</div> <div style ='color:#000; display:inline-block'>"+j.format("dddd, MMMM Do YYYY")+"</div><br><div style ='color:#046277; display:inline-block; font-weight: bold'>Time:</div> <div style ='color:#000; display:inline-block'>"+j.format("H:mm:ss")+"</div>"}}}});gu_util=new Dygraph(e,lapp_bwutil_dbuff[lapp_bwutil_dbuff.length-1],0,0,0,{colors:color_gen,labels:get_dlink_app_labels(),stackedGraph:is_stacked_ulink,drawGrid:false,fillGraph:true,plotter:smoothPlotter,labelsDivStyles:pq_dygraph_tooltip(),labelsSeparateLines:true,fillAlpha:0.6,visibility:get_dlink_app_visibility(),highlightCircleSize:2,axisLabelFontSize:10,axes:{y:{axisLabelWidth:55,valueFormatter:function(h){return y_axis_bw_val_formatter(h,2)},axisLabelFormatter:function(h){return y_axis_bw_val_formatter(h,1)}},x:{valueFormatter:function(h){var j=moment(h);return"<div style ='color:#046277; display:inline-block; font-weight: bold'>Date:</div> <div style ='color:#000; display:inline-block'>"+j.format("dddd, MMMM Do YYYY")+"</div><br><div style ='color:#046277; display:inline-block; font-weight: bold'>Time:</div> <div style ='color:#000; display:inline-block'>"+j.format("H:mm:ss")+"</div>"}}}});lapp_bwutil_plot[c]=gd_util;lapp_bwutil_plot[c+1]=gu_util;return(lapp_bwutil_plot.length-2)};function change_visibility(c){var b=c.id.split("_");if(c.checked){checked_link_util_app_list.push(parseInt(b[1]))}else{var a=checked_link_util_app_list.indexOf(parseInt(b[1]));checked_link_util_app_list.splice(a,1)}gd_util.setVisibility(parseInt(b[1]),c.checked);gu_util.setVisibility(parseInt(b[1]),c.checked)}lapp_bwutil_update=function(c,e){if(e.length%2===0){for(var f=0;f<e.length;f=f+4){var d=uint32_float(e[f]);var j=uint32_float(e[f+1]);var g=e[f+2];var h=e[f+3];if(h>0){if(h===prev_tstamp){lapp_dlink_buffer[g+1]=j;lapp_ulink_buffer[g+1]=d}else{if(lapp_bwutil_last_update_time[c]!==0){if((h-lapp_bwutil_last_update_time[c])>=110){var a=lapp_bwutil_last_update_time[c]+0.5;var b=h-0.5;lapp_dlink_buffer.fill(null);lapp_dlink_buffer[0]=new Date(a*10000);lapp_bwutil_dbuff[c].push(lapp_dlink_buffer);lapp_bwutil_dbuff[c+1].push(lapp_ulink_buffer);lapp_dlink_buffer[0]=new Date(b*10000);lapp_bwutil_dbuff[c].push(lapp_dlink_buffer);lapp_bwutil_dbuff[c+1].push(lapp_ulink_buffer)}}if(lapp_dlink_buffer.length>0){lapp_bwutil_dbuff[c].push(lapp_dlink_buffer)}if(lapp_ulink_buffer.length>0){lapp_bwutil_dbuff[c+1].push(lapp_ulink_buffer)}lapp_dlink_buffer=[];lapp_dlink_buffer.length=application_list.length+1;prev_tstamp=h;lapp_dlink_buffer.fill(null);lapp_dlink_buffer[0]=new Date(h*10000);lapp_dlink_buffer[g+1]=j;lapp_ulink_buffer=[];lapp_ulink_buffer.length=application_list.length+1;lapp_ulink_buffer.fill(null);lapp_ulink_buffer[0]=new Date(h*10000);lapp_ulink_buffer[g+1]=d}if(lapp_bwutil_dbuff[c].length>512){lapp_bwutil_dbuff[c].shift()}if(lapp_bwutil_dbuff[c+1].length>512){lapp_bwutil_dbuff[c+1].shift()}}}if((h-lapp_bwutil_last_update_time[c]>=100)||e.length<128){lapp_bwutil_last_update_time[c]=h;if(CURRENT_WINDOW===WINDOW_APP_LINK_UTIL){lapp_bwutil_plot[c].updateOptions({file:lapp_bwutil_dbuff[c]});lapp_bwutil_plot[c+1].updateOptions({file:lapp_bwutil_dbuff[c+1]})}}}else{console.log("Invalid Live Bandwidth Data")}};var color_gen=[];var prof_color_codes=[];set_distributed_col_generator=function(a,h,k){color_gen=[];var d=256/a;var c=256/h;var j=256/k;for(var e=d;e<256;e+=d){for(var f=c;f<256;f+=c){for(var l=j;l<256;l+=j){color_gen.push(["#"+e.toString(16)+f.toString(16)+l.toString(16)])}}}color_gen[0]="#ffda7f";color_gen[1]=pieColorScheme[1];color_gen[2]=pieColorScheme[0];color_gen[38]="#c77405";color_gen[135]=pieColorScheme[2];prof_color_codes=color_gen};function appsearch(){var f,e,b,c,d;f=$("#app_search_input").val().toUpperCase();e=document.getElementById("app_list_ul");b=e.getElementsByTagName("li");for(d=0;d<b.length;d++){c=b[d].getElementsByTagName("a")[0];if(c.innerHTML.toUpperCase().indexOf(f)>-1){b[d].style.display=""}else{b[d].style.display="none"}}}add_app_bwm_prof=function(a){var c=update_acjs_elements(WO_AWPROF_LIST_ADD,a,global_rule_user,0,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){get_app_bwm_prof();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};delete_app_bwm_prof=function(b){var c=update_acjs_elements(WO_AWPROF_LIST_DELETE,"",global_rule_user,user_app_watch_prof_lookup.indexOf(b),0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){get_app_bwm_prof();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};get_app_bwm_prof=function(){app_bwm_prof_list=[];app_bwm_prof_list_data=[];user_app_watch_prof_lookup=[];var b=update_acjs_elements(WO_GET_AWPROF_LIST,"",global_rule_user,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(f,h,e){var g=f.split(";");for(var d=0;d<g.length-1;d++){app_bwm_prof_list_data[d]=g[d];var c=g[d].split("&");user_app_watch_prof_lookup[c[0]]=parseInt(BWM_APP_PROF_COUNT-d);app_bwm_prof_list[parseInt(BWM_APP_PROF_COUNT-user_app_watch_prof_lookup[c[0]])]=c[1]}display_app_bwm_prof()}).fail(function(c,e,d){console.error("Problems when posting...")})};add_app_bwm_prof_item=function(e,d,a){var c=update_acjs_elements(WO_AWPROF_ITEM_ADD,a,global_rule_user,user_app_watch_prof_lookup.indexOf(e),d,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(g,j,f){show_acjs_status_modal(g.charCodeAt(0));$("#appId_"+d).addClass("removed");$(document).on("transitionend",".removed",function(){$("#appId_"+d).remove()});var h=""+(BWM_APP_PROF_COUNT-e)+"_bwm_prof_content";$("table").remove();$("#App_Dlink_Util_table_wrapper").remove();$("#"+h).append('<table id="App_Dlink_Util_table" class="display cell-border AppUserTablesFont " cellspacing="0" width="100%" ></table>');get_app_bwm_prof_item(e,true)}).fail(function(f,h,g){console.error("Problems when posting...")})};update_app_bwm_prof_item=function(e,d,a){var c=update_acjs_elements(WO_AWPROF_ITEM_UPDATE,a,global_rule_user,user_app_watch_prof_lookup.indexOf(e),d,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(g,h,f){get_app_bwm_prof_item(e)}).fail(function(f,h,g){console.error("Problems when posting...")})};delete_app_bwm_prof_item=function(d,c){var b=update_acjs_elements(WO_AWPROF_ITEM_DELETE,"",global_rule_user,user_app_watch_prof_lookup.indexOf(d),c,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(f,h,e){show_acjs_status_modal(f.charCodeAt(0));uncheck_profile_apps();var g=""+(BWM_APP_PROF_COUNT-d)+"_bwm_prof_content";$("table").remove();$("#App_Dlink_Util_table_wrapper").remove();$("#"+g).append('<table id="App_Dlink_Util_table" class="display cell-border AppUserTablesFont " cellspacing="0" width="100%" ></table>');get_app_bwm_prof_item(d,true)}).fail(function(e,g,f){console.error("Problems when posting...")})};get_app_bwm_prof_item=function(c,a){app_bwm_prof_app_list[parseInt(BWM_APP_PROF_COUNT-c)]=[];var d=update_acjs_elements(WO_GET_AWPROF_ITEM_LIST,"",pq_2_16_32(global_rule_user,user_app_watch_prof_lookup.indexOf(c)),0,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:d,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(j,m,h){var l=j.split(";");for(var g=0;g<l.length-1;g++){app_bwm_prof_app_list_data[g]=l[g];var f=l[g].split("&");app_bwm_prof_app_list[parseInt(BWM_APP_PROF_COUNT-user_app_watch_prof_lookup[f[0]])].push({appID:f[1],color:f[2]})}if(a){var e=parseInt(BWM_APP_PROF_COUNT-c);init_app_bwm_table(e,1);var k=new $.fn.dataTable.Buttons(app_link_util_table,{buttons:[{text:"Add Application",className:"add_app_prof_button setPrimary",action:function(q,p,o,n){init_add_app_bwm_prof(e)}},{text:"Delete Profile",className:"del_app_prof_button setPrimary",action:function(q,p,o,n){delete_profile(e)}}]}).container().appendTo($("#App_Dlink_Util_table_wrapper"))}if(app_bwm_prof_app_list[BWM_APP_PROF_COUNT-c].length>(BWM_APP_PROF_APP_COUNT-1)){$("#Add_App_BWM_Prof_Window").hide();$("#pq_dlink_util_plot").css("position","absolute");app_link_util_table.buttons(0).disable()}else{app_link_util_table.buttons(0).enable()}init_link_utilization(1,c,true)}).fail(function(e,g,f){console.error("Problems when posting...")})};var ha_device_table;var ha_device_data=[];var ha_current_device_states=[];function haModalBroker(a){switch(a){case 1:CreateHaGenericModal("CreateHaDeviceModal","CloseNewHaDevice","cancelHaDeviceAdd");break;case 2:CreateHaGenericModal("ChangeHaDeviceIDModal","closeHaDeviceIDEdit","cancelHaDeviceIDEdit");break;case 3:set_ha_device_state(ha_current_device_states[0],1);break;case 4:CreateHaGenericModal("ChangeHaDeviceVIPModal","closeHaDeviceVIPEdit","cancelHaDeviceVIPEdit");break}}function CreateHaGenericModal(f,e,d){var c=document.getElementById(""+f);var a=document.getElementById(""+e);var b=document.getElementById(""+d);c.style.display="block";a.onclick=function(){c.style.display="none"};b.onclick=function(){c.style.display="none"};window.onclick=function(g){if(g.target===c){c.style.display="none"}}}add_nw_ha_device=function(b){var c=update_acjs_elements(PDEV_HASY_ADD_RMT_DEV,"",b,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){Update_Ha_Device_Data();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};set_ha_device_id=function(c){var b=update_acjs_elements(PDEV_HASY_CHANGE_DEVID,"",c,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){Update_Ha_Device_Data();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})};set_ha_device_vip=function(d,a){var c=update_acjs_elements(PDEV_HASY_CHANGE_VIP,"",d,a,0,0,0,0);var b=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:b},timeout:10000,type:"POST",url:"/"}).done(function(f,g,e){Update_Ha_Device_Data();show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...")})};set_ha_device_state=function(d,c){var b=update_acjs_elements(PDEV_HASY_CHANGE_STATE,"",d,c,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:b,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(f,g,e){Update_Ha_Device_Data();show_acjs_status_modal(f.charCodeAt(0))}).fail(function(e,g,f){console.error("Problems when posting...")})};function DeleteHaDevice(){var b=parseInt((ha_device_table.row(".selected").data())[0]);var c=update_acjs_elements(PDEV_HASY_DEL_RMT_DEV,"",b,0,0,0,0,0);var a=$.cookie("pqsf");$.ajax({data:c,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(e,f,d){Update_Ha_Device_Data();Clear();show_acjs_status_modal(e.charCodeAt(0))}).fail(function(d,f,e){console.error("Problems when posting...")})}function Update_Ha_Device_Data(){ha_device_data=[];ha_current_device_states=[];var a=$.cookie("pqsf");var b=new Uint32Array(1);b[0]=pq_4_8_32(CJS_REQUEST_START,INFORMATION_UPDATE,PDEV_GET_RMT_LIST,0);$.ajax({data:b.buffer,processData:false,headers:{PARAQUMTEC:a},timeout:10000,type:"POST",url:"/"}).done(function(d,e,c){ha_device_data=d.split(";");Display_Ha_Device_table()}).fail(function(c,e,d){console.error("Problems when posting...")})}function Display_Ha_Device_table(){ha_device_table.clear().draw();for(var b=0;b<ha_device_data.length-1;b++){var a=ha_device_data[b].split("&");if(b===0){ha_current_device_states=[a[0],a[1],a[2],a[3],a[4],a[5],a[6]];$("#ha_devc_id").text("Device ID : "+a[0]);$("#ha_devc_ip").text("Device IP : "+num2dot(a[1]));$("#ha_devc_state").text("Device State : "+set_ha_device_state_btn(parseInt(a[2])));$("#ha_devc_vip").text("Virtual IP : "+num2dot(a[3])+" / "+a[4]);if(!parseInt(a[5])){$("#ha_device_reset").css({"pointer-events":"none",background:"#dddddd"}).attr("disabled",true)}else{$("#ha_device_reset").css({background:"#208830"}).attr("disabled",false)}}else{ha_device_table.row.add([a[0],a[1],num2dotR(a[2]),set_primary_btn(parseInt(a[3])),set_ha_connction_status(parseInt(a[4]))])}}ha_device_table.draw(false)}set_primary_btn=function(a){switch(a){case 0:return"<button class='pq_session_wbtn' style='pointer-events:none' disabled>Initializing...</button>";break;case 1:return"<button class='pq_session_wbtn' style='pointer-events:none' disabled>Primary</button>";break;case 2:return"<button class='pq_session_wbtn' style='pointer-events:none' disabled>Secondary</button>";break;case 3:case 4:return"<button class='pq_session_wbtn' style='pointer-events:none' disabled>Intermediary</button>";break}};set_ha_connction_status=function(a){if(a>=parseInt(ha_current_device_states[6])){return"<a style='color:#1aca29; margin-right:5px; text-decoration: none; font-size: 20px;'>&#9632</a><a style='text-decoration:none'>Online</button>"}else{return"<a style='color:#b3bbb4; margin-right:5px; text-decoration: none; font-size: 20px;'>&#9632</a><a style='text-decoration:none'>Offline</button>"}};set_ha_device_state_btn=function(a){switch(a){case 0:$("#set_ha_devc_state_btn").css({"pointer-events":"none",background:"#dddddd"}).attr("disabled",true);return"Initializing...";break;case 1:$("#set_ha_devc_state_btn").css({"pointer-events":"none",background:"#dddddd"}).attr("disabled",true);return"Primary";break;case 2:$("#set_ha_devc_state_btn").css({background:"#ffae00"}).attr("disabled",false);return"Secondary";break;case 3:case 4:$("#set_ha_devc_state_btn").css({"pointer-events":"none",background:"#dddddd"}).attr("disabled",true);return"Intermediary";break}};